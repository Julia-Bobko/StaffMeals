function ic_showBar(n){try{var i=n+"_bar",t=_ge(i);t&&(t.style.visibility="inherit")}catch(r){}}function ic_onTE(n){var i,t;try{i=n.getAttribute("errsrc")||$icerrsrc,n.src!=i&&(n.className="c_ic_tile",t=n.style,t.top=t.left=t.height=t.width="",setTimeout(function(){n.src=i,n.style.visibility=""},0))}catch(r){}}function ic_onTL(n){var i,r,e,f,t,o,u;try{if(e=0,n.className="c_ic_tile",n.naturalHeight?(i=n.naturalWidth,r=n.naturalHeight):(f=new Image,f.src=n.src,i=f.width,r=f.height),t=window.getComputedStyle?window.getComputedStyle(n,""):n.currentStyle,i==1&&r==1||t&&t.width=="1px"&&t.height=="1px"){ic_onTE(n);return}if(o=Math.round,i&&r&&i!=r&&t)if(u=n.style,i>r){var s=parseInt(t.height),h=parseInt(t.width),c=o(i*(s/r));e=-o((c-h)/2),u.left=e+"px",u.maxWidth="none",u.width="auto"}else u.maxHeight="none",u.height="auto";n.style.visibility=""}catch(l){}}var files,x;if(function(){function r(n,t,i){var r;n=n||{};var e=t?c:null,v=t?f:null,l=null,a=+new Date;n.startTime=n.startTime||a,n.endTime=n.endTime||a,i&&i.stack&&(e=i.code||(n.isLogged?h:s),r=i.message||i.description||(i.toString?i.toString():""),r.indexOf(u)==-1?(Qos.displayErrorCallback&&Qos.displayErrorCallback(i),n.id=n.id||o,n.asyncOperations=0,i.message=i.description=u+r,l=i.stack):i=null),n.id&&(!n.isLogged||i)&&(n.isLogged=!0,Qos.log(n.id,null,n.startTime,e,v,l,n.endTime))}var u="QOS issue: ",s="UnhandledException",h="UnhandledAsyncException",c="UnhandledChildException",f="c",e=1,t={},o="",l="",n=[],v=1,i=!1,a=!!(window.$Config&&$Config.isQosEnabled);window.Qos={responseType:{success:"s",expected:"c",unexpected:"f"},isEnabled:a,instrument:function(t,r){return function(){var u;if(t&&n.push(t),i)r&&(u=r.apply(this,arguments));else try{r&&(i=!0,u=r.apply(this,arguments))}catch(f){Qos.instrumentException(f)}finally{i=!1}return t&&Qos.end(),u}},onUnhandledError:function(n,t,i){if(i=i||"",n&&t){var u=" ("+t+")",r=i.indexOf("\n");i=r!==-1?i.substring(0,r)+u+i.substring(r):i+u,i=n+"\nat "+i,Qos.instrumentException({message:n,stack:i,isUnhandled:!0})}},clearLogs:function(){var n=t;return e=1,t={},n},createContext:function(n){var t=null;return n&&(t={id:n,startTime:+new Date}),t},start:function(t){n.push(Qos.createContext(t))},end:function(){r(n.pop())},getContext:function(){return n.length?n[n.length-1]:null},instrumentException:function(t){if(t){if(!!t.stack)for(r(n.pop(),!1,t);n.length;)r(n.pop(),!0);if(!t.isUnhandled)throw t;}},log:function(n,i,r,u,o,s,h){n&&Qos.isEnabled&&(!s||o==f||Qos.displayErrorCallback&&Qos.displayErrorCallback({stack:s}),h=h||+new Date,t[e++]={id:n,partnerId:i,startTime:r||h,errorCode:u,errorType:o,stack:s,endTime:h})},displayErrorCallback:function(){},registerDefaultErrorId:function(n){o=n},registerQosOnLogErrorId:function(n){l=n}},Qos.clearLogs()}(),function(){function r(n){return n.__qosId||(n.__qosId=String(e++)),n.__qosId}function h(){return arguments[0]&&typeof arguments[0]=="function"&&(arguments[0]=Qos.instrument(Qos.getContext(),arguments[0])),o.apply(this,arguments)}function c(){return arguments[0]&&typeof arguments[0]=="function"&&(arguments[0]=Qos.instrument(Qos.getContext(),arguments[0])),s.apply(this,arguments)}function u(n){return function(t,u){if(arguments.length>=2&&!!u){var f=t+r(u),e=i[f]=Qos.instrument(null,u);arguments[1]=e}return n.apply(this,arguments)}}function f(n){return function(t,u){if(arguments.length>=2&&!!u){var f=t+r(u),e=i[f];e&&(arguments[1]=e,delete i[f])}return n.apply(this,arguments)}}var e=1,i={},o=setTimeout,s=setInterval,n,t;if(Qos.isEnabled){try{setTimeout=h,setInterval=c}catch(l){}window.Node&&window.Node.prototype&&window.Node.prototype.addEventListener&&window.Window&&(n=window.Node.prototype,t=Window.prototype,n.addEventListener=u(n.addEventListener),n.removeEventListener=f(n.removeEventListener),t.addEventListener=u(t.addEventListener),t.removeEventListener=f(t.removeEventListener))}}(),function(){function t(){for(var f,e,r,h,o,i,u=0,s=arguments.length;u<s;u++)for(f=this,e=arguments[u].split("."),r=0,h=e.length;r<h;r++)o=e[r],i=f[o],i||(i=f[o]={}),i.__namespace||(r===0&&arguments[u]!=="Sys"&&(n.Sys.__rootNamespaces[Sys.__rootNamespaces.length]=i),i.__namespace=!0,i.__typeName=e.slice(0,r+1).join("."),i.getName=function(){return this.__typeName}),f=i;return f}var n=window;n.registerNamespace=t,t("Sys"),n.Sys.__rootNamespaces||(n.Sys.__rootNamespaces=[n.Sys])}(),function(){var r=window,n=r.Object,t=typeof JSON!="undefined",i;n.isString||(n.isString=function(n){return typeof n=="string"||n&&n.constructor===String}),n.isArray||(n.isArray=function(n){return n&&Object.prototype.toString.call(n)==="[object Array]"}),n.isFunction||(n.isFunction=function(n){return typeof n=="function"}),n.isObject||(n.isObject=function(n){return n&&typeof n=="object"}),n.isBoolean||(n.isBoolean=function(n){return typeof n=="boolean"||n&&n.constructor===Boolean}),n.isNumber||(n.isNumber=function(n){return typeof n=="number"||n&&n.constructor===Number}),n.isNull||(n.isNull=function(n){return null==n||undefined==n}),n.fromJSON||(n.fromJSON=function(text){try{if(t&&JSON.parse)return JSON.parse(text);if(/^[\],:{}\s]*$/.test(text.replace(/\\["\\\/b-u]/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return eval("("+text+")")}catch(e){}return null}),n.toJSON||(n.toJSON=function(i,r,u,f,e){var s,c,o,h,l;if(i==="")return"";if(e&&typeof i=="string")return i;if(t&&JSON.stringify){s="";try{s=JSON.stringify(i,r,u)}catch(a){if(f)s="Object could not be serialized to JSON.";else throw a;}return s}if(c=n.toJSON,o="null",!n.isNull(i))if(n.isArray(i)){for(o=[],h=0;h<i.length;h++)o.push(c(i[h]));o="["+o.join(",")+"]"}else if(n.isObject(i)){o=[];for(l in i)o.push('"'+l.encodeJson()+'":'+c(i[l]));o="{"+o.join(",")+"}"}else n.isString(i)?o='"'+i.encodeJson()+'"':n.isFunction(i)||(o=i.toString());return o}),t?JSON.parse&&(i=JSON.parse,JSON.parse=function(n){try{return i.apply(JSON,[n])}catch(t){t.message=t.message+"\ninputScript: "+n+" at "+t.stack;throw t;}}):window.JSON={parse:n.fromJSON,stringify:n.toJSON}}(),function(){function t(n,t){for(var u=n.split("."),i=t,r=0;r<u.length;r++)if(i=i[u[r]],typeof i=="undefined")return null;return i}function l(n,t,i){var u=i.s===t,r,f,e;return u||(t=t||0,r=n.charCodeAt(t),i.s=-1,r<55296||r>57343?i.c=r:r<=56319?(f=r,e=n.charCodeAt(t+1),i.c=(f-55296)*1024+(e-56320)+65536,i.s=t+1):(i.c=-1,u=!0)),!u}var i=window,a=i.Debug,n=i.String.prototype,u,f,e,o,s;n.endsWith=function(n){return this.substr(this.length-n.length)==n},n.startsWith=function(n){return this.substr(0,n.length)==n},n.lTrim=function(){return this.replace(/^\s*/,"")},n.rTrim=function(){return this.replace(/\s*$/,"")},n.trim=function(){return this.replace(/^\s+|\s+$/g,"")};var h=/\{\d+\}/g,c=/\{[a-z|A-Z|\.|\$|\:]+\}/g,r=/[\{\}]/g;n.format=function(){function i(n){var i=t[n.replace(r,"")];return i==null&&(i=""),i}var t=arguments;return this.replace(h,i)},n.itemFormat=function(n,i,u){function f(f){var l=f.replace(r,""),s,e=l.split(":"),o="",c=t(e[0],n),h;return c!=null?o=c:(h=t(e[0],i),h!=null&&(o=h.apply(this,u))),e.length==2&&(s=t(e[1],i)),s?s(o):o}return i=i||{},u=u||[],this.replace(c,f)},u=/[^\w.,-]/g,n.encodeXmlAttribute=n.encodeHtmlAttribute=function(){return this.replace(u,function(n){return["&#",n.charCodeAt(0),";"].join("")})},f=/[^\w .,-]/g,n.encodeXml=n.encodeHtml=function(){var n={c:0,s:-1};return this.replace(f,function(t,i,r){return l(r,i,n)?["&#",n.c,";"].join(""):""})},e=/[^\w.%-]/g,n.encodeURIComponent=n.encodeUrl=function(){return encodeURIComponent(this).replace(e,function(n){var t=n.charCodeAt(0).toString(16);return"%"+(t.length==1?"0"+t:t).toUpperCase()})},o=/[^\w .,-]/g,n.encodeJson=function(){return this.replace(o,function(n){var t=n.charCodeAt(0).toString(16),i=new Array(5-t.length).join("0");return"\\u"+i+t.toUpperCase()})},n.decodeURIComponent=n.decodeUrl=function(){return decodeURIComponent(this)},s=/([\\\.\{\}\(\)\[\]\/\+\*\?\|\^\$])/gi,n.escapeRegex=function(n){return(arguments.length==0?this:n).replace(s,"\\$1")}}(),function(){var i=window,e=i.Debug,r,t,f,u;r=i.wLive?i.wLive:i.wLive={},r.Core={},r.Controls={},t=i.$Config,t.handlerBaseUrl=t.handlerBaseUrl||"",t.sd||(f=document.domain,u=f.split("."),t.sd=u.length===1?"":"."+u[u.length-2]+".com"),t.mkt=t.mkt||"na",t.prop=t.prop||"X",typeof window.SymRealWinOpen!="undefined"&&(window.open=window.SymRealWinOpen)}(window.originaljQuery||jQuery),function(){var n=window,t=n.wLive;t.truncateEllipsis=function(n,t){return t=Math.max(parseInt(t,10)||1e5,4),n?n.length>t?n.substring(0,t-3)+"...":n:""}}(),function(){function u(n,t){var r,i,f;for(r in t)i=n[r],f=t[r],f.constructor==Array?(i&&i.constructor==Array||(i=n[r]=[]),u(i,f)):typeof f=="object"?(typeof i!="object"&&(i=n[r]={}),u(i,f)):n[r]=f}function e(n,i){for(var u,r=0;r<n.length;r++)t.eval(n[r]);for(r=0;r<i.length;r++)i[r]&&i[r]!=""&&(u=document.createElement("SCRIPT"),u.src=i[r],document.body.appendChild(u))}var o=window,h=window.Debug,f="&",r="=",t=o.$Utility={},i,s;t.eval=function(s){eval(s)},t.deserialize=function(n,t,i,u){var o={},a,e,h,c;if(t=t||f,n)for(var l=n.split(t),v=l.length,s=0;s<v;s++)if(a=l[s],e=a.split(r),e.length>0){h=e[0].trim(),e.splice(0,1),c=e.join(r).trim();try{o[h]=u?c:c.decodeUrl()}catch(y){o[h]=""}}return o},t.serialize=function(n,t,i){var e,o,u;t=t||f,e=[];for(o in n)u=n[o],u=u==null?"":u.toString(),e.push(o,r,i?u:u.encodeUrl(),t);return e.length>0&&e.pop(),e.join("")},t.updateObject=u,i=new RegExp('<script type="text/javascript"( src="([^"]*?)"){0,1}(( loadfirst="true")|( defer="defer")){0,1}( id="[^"]*?"){0,1}>([\\w\\W]*?)<\/script>',"gim"),s=new RegExp("<script","gim"),t.ajaxInnerHtml=function(n,t){i.lastIndex=0;for(var u=[],o=[],s=[],h=[],c=[],f=0,r;r=i.exec(t);)u.push(t.substring(f,r.index)),r[4]&&r[4]!=""?(h.push(r[7]),c.push(r[2])):(o.push(r[7]),s.push(r[2])),f=i.lastIndex;u.push(t.substring(f)),e(h,c),n.innerHTML=u.join(""),e(o,s)},t.generateGuid=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(n){var t=Math.floor(Math.random()*16),i=n=="x"?t:t&3|8;return i.toString(16)})}}(window.originaljQuery||jQuery),function(n){var i=n("body"),t=n("<span/>").css({borderLeftColor:"red",borderRightColor:"blue",position:"absolute",top:"-999px"}).appendTo(i);$Utility._isHighContrast=t.css("borderLeftColor")===t.css("borderRightColor"),t.remove(),$Utility._isHighContrast&&i.addClass("highContrast"),$Utility.isHighContrast=function(){return $Utility._isHighContrast}}(window.originaljQuery||jQuery),function(){function u(n,t,i,r,u){var h=c();n=o(n,t),n=n.substr(0,Math.min(n.length,2e3)),u||(n=o(n,{r:Math.random()})),e(h,f(i,h),f(r,h)),h.src=n}function c(){for(var n,u=i.length,r,t=0;t<u;t++)if(r=i[t],!r.inUse){n=r;break}return n||(n=document.createElement("IMG"),i.push(n)),n.inUse=!0,n}function f(n,t){return function(){e(t,null,null),t.inUse=!1,n&&n()}}function e(n,t,i){n.onload=t,n.onabort=n.onerror=i}function o(n,t){var u,i,r;return n=n||"",t&&(u=s.serialize(t),i="?",n.indexOf("?")>=0&&(r=n.charAt(n.length-1),i=r=="?"||r=="&"?"":"&"),n+=i+u),n}var t=window,l=t.Debug,s=t.$Utility,r=t.$Beacon={},i=[],h=150;r.fire=function(n,t,i,r,f,e){setTimeout(function(){u(n,t,i,r,f,e)},0)},r.fireAndHold=function(n,t){if(u(n,t),!$B.IE)for(var i=+new Date+h;+new Date<i;);}}(window.originaljQuery||jQuery),function(){var t=window,r=t.Debug,n=Function,i=n.prototype;n.createCallback||(n.createCallback=function(n,t){return function(){return n.apply(this,t||[])}}),n.createDelegate||(n.createDelegate=function(n,t){return function(){return t.apply(n,arguments)}}),i.invoke||(i.invoke=function(){return this.apply(null,arguments)}),t.$CD=Function.createDelegate,t.$CC=Function.createCallback}(),function(){var t=window,i=t.Debug,r=t.jQuery,n=t.Array.prototype;n.addRange||(n.addRange=function(n){return n&&this.push.apply(this,n),this}),n.exists||(n.exists=function(n){return this.indexOf(n)>=0}),n.contains||(n.contains=n.exists),n.clone||(n.clone=function(){return[].addRange(this)}),n.indexOf||(n.indexOf=function(n,t){var i=this.length;for((t=t||0)<0&&(t=Math.max(0,i+t));t<i;)if(this[t++]===n)return t-1;return-1}),n.forEach||(n.forEach=function(n,t){for(var r=this.length,i=0;i<r;i++)n.call(t,this[i],i,this)}),n.insert||(n.insert=function(n,t){this.splice(n,0,t)}),n.remove||(n.remove=function(n){var t=this.indexOf(n);return t>=0&&this.splice(t,1),t>=0})}(),function(n){function o(n,r,f,o,s,l,a,v,y){var it=p||{},ht=it.BSI||{},b=ht.Watson||{},pt=ht.Scenario||{},k,st,at,vt;if(b&&b.enabled&&u<g){u++,s=s||(u>1?e.Multiple:e.First),k=n&&n.target,!r&&k&&k.tagName=="SCRIPT"&&(r=k.src,s=e.Download,k.getAttribute("hideError")=="true"&&(v=!0));var rt=it.hn,ut=l?[]:tt(!it.isSecure,a?a+2:2,b.fbody),nt=l||(ut?ut.join("\n"):""),ct=l||(ut?ut[0]:"unknown"),ft=ct?ct.toString():ct,lt,et,yt,ot;try{lt=t.GetActions&&t.GetActions()}catch(wt){}try{yt=t.IsIgnored&&t.IsIgnored(s,n,r,f,rt,ft,nt,o)}catch(wt){}try{ot=v||t.IsHidden&&t.IsHidden(s,n,r,f,rt,ft,nt,o)}catch(wt){}if(et=lt?lt.join("\n"):"",!ot&&t.ErrorPresentation)try{t.ErrorPresentation(s,n,r,f,rt,ft,nt,et,o)}catch(wt){}if(!yt&&(st={sr:b.sr,biciNoLDParse:1,ec:s,pn:ht.pn,msg:n,url:r,ln:f,ih:ot,an:c,ac:et,ad:o,cs:nt.replace(/[ \t]+/ig," ")},st=d.addHandlerDPs(st),at=it.handlerBaseUrl+"/handlers/Watson.mvc",b.url&&(at=b.url),i[h]&&(vt=i[h],vt._webConsoleError&&vt._webConsoleError("Message:"+(n||"")+" in "+(r||"")+" @ "+(f||"??"))),w.fire(at,st,null,null,!1,!0),t.ErrorOccurred))try{t.ErrorOccurred(n,r,f,s,rt,ft,nt,et,o,ot)}catch(wt){}}pt.enabled&&$ScenarioQoS&&(y?$ScenarioQoS.stopScenario(y,!1,s):v||$ScenarioQoS.stopAllScenarios("na",!1,s))}function tt(n,i,r){var f,u,c,a,l,e,o,h,y;try{f=t.GetStack&&t.GetStack()}catch(p){}if(!f){for(f=[],u=arguments.callee;i>0;){try{u=u?u.caller:u}catch(p){u=null}i--}for(c=0;u&&c<s;){f.push(u);try{u=u.caller}catch(p){u=null}c++}}for(a=f.length,l=[],e=0;e<a&&e<s;e++){o=f[e],h="InvalidMethod()";try{h=o.toString()}catch(w){}y=n?it(h,o.args||o.arguments):"",h=h.replace(/\s\s*/ig," "),l.push(v(o,r)+"("+y+")")}return l}function l(){c=!0}function it(n,t){for(var r=n.substring(n.indexOf("(")+1,n.indexOf(")")),u=r?r.split(","):[],e=u.length,f=[],i=0;i<e;i++)f.push(u[i]+"="+rt(t[i]));return f.join(",")}function rt(n){var i=typeof n,t;return t=n==null?"null":i=="string"?"'"+a(n,13)+"'":i=="function"?v(n):i=="object"?n.toString&&!$B.Safari?n.toString():i:i=="boolean"||i=="number"?n.toString():"["+i+"]"}function a(n,t){return n&&n.length>t&&(n=n.substr(0,t-3)+"..."),n}function v(n,i){var u=t.GetMethodName&&t.GetMethodName(n),f;if(n&&!u){var r=n&&n.toString?n.toString():"InvalidMethod()",e=r.indexOf(")")+1,o=r.indexOf(" ")==8?9:0;u=r.substring(o,e),(i||u.indexOf("function")==0)&&(f=e+nt,r=r.replace(/\s\s*/ig," "),u=a(r,f)+(f<r.length?"}":""))}return u}function y(){f.unbind("beforeunload",l),f.bind("unload",y)}var i=window,ut=i.Debug,p=i.$Config,w=i.$Beacon,r=i.$WebWatson={},b=i.$CC,k=i.$CD,d=i.$BSI,f=n(window);r.CB={};var t=r.CB,g=3,s=10,nt=50,e={First:"34",AfterUnload:"35",Multiple:"36",Download:"55"},h="Page",u=0,c=!1;window.LiveUnit||(window.onerror=o),f.bind("beforeunload",l),f.bind("unload",y),t.IsHidden=function(n,t){return t=="Error loading script"},r.foundException=function(){return u>0},r.resetException=function(){u=0},r.submitFromException=function(n,t,i,r,u,f){if(n&&!n.traced){n.traced=1;var h=n.lineNumber||0,e=n.message||n.description||(typeof n=="string"?n:""),c=n.stack,s;try{s=n.fileName||document.location.href}catch(n){}t&&(e+="@"+t),o(e,s,h,r,i,c,1,u,f)}},r.submit=o,r.wrapCallback=function(n,i,u,f){i=i?i:this;var o=b(n,u||Array.prototype.slice.call(arguments,3)),e=k(i,o);return t.InstrumentDelegate&&f&&(e=t.InstrumentDelegate(e,f)),$B.IE?e:function(){try{return e()}catch(n){r.submitFromException(n);return}}}}(window.originaljQuery||jQuery),function(n){function f(){t.w=undefined}function o(n,t){return Array.prototype.slice.call(n,t?3:2)}var i=window,e=i.$WebWatson,u=i.$Static,t,r;i.$Do||(i.$Do={q:[],w:undefined}),t=window.$Do,t.r=[],t.removeItems=[],t.lock=0,r=n(document),r.bind("keydown",f),r.bind("mousedown",f),t.isRegistered=function(n){return!!t.r[n]},t.register=function(n,i,r){var f,u,e,o;if(!t.r[n]){t.r[n]={method:i,skipTimeout:r},t.lock++;try{for(f=0;f<t.q.length;f++)u=t.q[f],u.id==n&&t.c(n,u.c,0,u.a,undefined,u.x)&&t.removeItems.push(u);t.w&&(e=t.w,e.id==n&&(t.w=null,t.c(n,e.c,0,e.a)))}catch(s){throw s;}finally{if(t.lock--,t.lock==0){for(o=0;o<t.removeItems.length;o++)t.q.remove(t.removeItems[o]);t.removeItems=[]}}}},t.unregister=function(n){t.r[n]&&delete t.r[n]},t.c=function(n,i,r,f,s,h){function l(){var n=!!c.method,t=n?c.method:f[2];e.wrapCallback(t,i,o(f,!n),h)()}var c=t.r&&t.r[n],a;return i=i?i:this,c?c.skipTimeout?l():setTimeout(l,0):!u||(a=u.exec(n),r&&2==a&&(s?t.w={id:n,c:i,a:arguments}:t.q.push({id:n,c:i,a:f,x:h}))),c},$Do.register("$Do.Full")}(window.originaljQuery||jQuery),function(){function h(n,r,u){var h=u?o:e,s=i.deserialize(t.getCookie(h,1)),f;r===null||r===undefined?delete s[n]:s[n]=r,f=new Date,t.setCookie(h,i.serialize(s),$Config.sd,0,u?new Date(f.getFullYear()+1,f.getMonth(),f.getDay()):0,1)}function c(n,r){var u=r?o:e,f=i.deserialize(t.getCookie(u,1));return f[n]}var f=window,i=f.$Utility,l=f.Debug,t=f.$Cookie={},e="wlxS",o="wlxP",s,r,u;t.setPersistentCookie=function(n,t){h(n,t,1)},t.getPersistentCookie=function(n){return c(n,1)},t.setSessionCookie=function(n,t){h(n,t,0)},t.getSessionCookie=function(n){return c(n,0)},t.getCookie=function(n,t){var e,f;if(e=document.cookie,e==s){if(t&&u)return u[n];if(!t&&r)return r[n]}else r=0,u=0,s=e;return f=i.deserialize(document.cookie,";",!0,t),t?u=f:r=f,f[n]},t.deleteCookie=function(n,i,r){t.setCookie(n,"",i,r,new Date(2e3,1,1))},t.setCookie=function(n,t,r,u,f,e){var o={};o[n]=t,document.cookie="{0};path={1};{2}{3}".format(i.serialize(o,null,e),u?u:"/",r?"domain="+r+";":"",f?"expires="+f.toUTCString()+";":"")},$Do.register("$Cookie"),$Do.register("$Cookie.setCookie")}(window.originaljQuery||jQuery),function(n){function gi(){var t=n(document),f=n(u);t.bind("click",ui),t.bind("mousedown",ri),t.bind("mouseup",fi),t.bind("keydown",ei),t.bind("keyup",oi),t.bind("touchstart",si),t.bind("touchend",hi),i&&i.suppressBrowserRightClickMenu&&t.bind("contextmenu",tr),k=1,r.ignoreWindowOnload||(r.useJQueryReady?f.ready(function(){setTimeout(yt,0)}):f.bind("load",yt)),f.bind("unload",wi),i&&i.capture&&(ut=nr())}function nr(){var n={sw:screen.width,sh:screen.height,c:screen.colorDepth};return document.documentElement.clientWidth&&(n.bw=document.documentElement.clientWidth,n.bh=document.documentElement.clientHeight),n}function l(){w&&w.href!=vt&&(w.href=vt,n(w).unbind("mouseout",l),w=0)}function ri(n){l(),ci(n)}function ui(n){n.which==2||rt||dt||(li(n),o=!rt&&!ct&&!lt,s=1,ft(n.target,null,n),o=1)}function tr(t){var i,r,u,f,e,o;return t.shiftKey?!0:t.target&&((i=n(t.target),r=i.closest("a"),r.length>0&&(u=r.attr("href"),u&&u!=="#"))||(f=i.closest("input"),f.length>0&&(e=f.attr("type"),e&&e.toLowerCase()=="text"))||(o=i.closest("textarea"),o.length>0))?!0:!1}function fi(n){ci(n),(s!=1||rt)&&(o=0,ft(n.target,s==3,n),o=1)}function ei(n){n.keyCode==93&&(s=3,ft(n.target,1,n))}function oi(n){var t=n.keyCode;(t==27||t==18||t==13)&&l()}function si(){l(),gt=v()}function hi(n){v()-gt>1e3&&(o=0,s=3,ft(n.target,null,n),o=1)}function ci(n){s=n.which,li(n)}function li(n){ct=n.shiftKey,rt=n.ctrlKey,lt=n.altKey,dt=n.metaKey}function ft(n,i,r){var e,s,f,h,a,o,v;for(l();n;){if(n.tagName=="A"){try{e=n.href}catch(y){}e&&(c.AjaxHistory&&c.AjaxHistory.fullAjax&&e.indexOf("#")==-1&&(u.$PF&&(s=u.$PF.getAppFrameDocument()),f=s?s.location.href:document.location.href,h=f.indexOf("#"),h>-1&&(f=f.substr(0,h)),a=f.indexOf("?"),a>-1&&(f=f.substr(0,a)),f+="?",e.toLowerCase().indexOf(f)==0&&(e=n.href="#"+e.substr(f.length))),o=!1,$U.isLinkABookmark(e)?(v=$U.getUrlFragment(e),v.indexOf("=")>-1&&(o=!0)):o=!0,o&&t.informNav(e,0,n,i,null,r));break}n=n.parentNode}}function ir(n){for(var i=p,t;n&&n.getAttribute;){if(t=n.getAttribute("lid"),t){i=t;break}n=n.parentNode}return i}function ai(n){var r=p,i,t;if(n)for(i in n)t=n[i],t=t.encodeUrl?t.encodeUrl():t,r+=tt+i+di+t;return r}function vi(){k&&!r.ignoreWindowOnload&&t.informLoaded(1,1)}function rr(){var n="U";return s==3?n="R":s==1?n="L":s==2&&(n="M"),rt&&(n+="C"),lt&&(n+="A"),ct&&(n+="S"),n}function yi(n,t){for(var i in t)n[i]=t[i]}function yt(){ii=1,pi()}function pi(){ii&&b.length==0&&t.informLoaded()}function wi(){var t,i;bi(),l(),t=n(document),t.unbind("click",ui),t.unbind("mousedown",ri),t.unbind("mouseup",fi),t.unbind("keydown",ei),t.unbind("keyup",oi),t.unbind("touchstart",si),t.unbind("touchend",hi),i=n(u),r.ignoreWindowOnload||i.unbind("load",yt),i.unbind("unload",wi)}function bi(){vi(),at||y("U")}function v(){return+new Date}function ur(n){return(n?n:v())-t.headTime}function y(n,u,o,s){var d,w,nt,l,tt,rt,b;if(i&&i.enableLD){if(d=n+ur(o)+(u?u:p),w=h.getCookie(g,1),!w&&!s&&(nt=h.getCookie(ot,1),nt&&(l=parseInt(nt),!isNaN(l)&&(l<a-1&&(l=a-1),l>e&&(l=e),l>=a&&(it.splice(0,l+1-a),a=l+1),tt=e-l,tt>0)))){for(e=l;tt-->0;)rt=e+1-a,rt<it.length&&(b=it[rt],y(b.logKey,b.logValue,b.logTime,!0)||(t.flush(),y(b.logKey,b.logValue,b.logTime,!0))),e++;w=h.getCookie(g,1)}var ut=pt.deserialize(w,f,0,1),ft=[r.xid,r.rid,c.di,t.headTime].join("_"),k=ut[ft];if(k?k+="|"+d:k=d,ut[ft]=k,w=pt.serialize(ut,f,1),w.length>512)return 0;s||(it.push({logKey:n,logValue:u,logTime:o?o:v()}),e++,h.setCookie(ot,e,$Config.sd,0,new Date(2020,1,1),1)),h.setCookie(g,w,$Config.sd,0,new Date(2020,1,1),1)}return 1}function ki(n){var i=0,f=n.clone(),o=f.length,r=!1,e=u.$WebWatson;if(e)for(;i<o;i++)r=e.wrapCallback(f[i],0,Array.prototype.slice.call(arguments,1))()||r;return r}var u=window,fr=u.Debug,et=u.$Beacon,h=u.$Cookie,pt=u.$Utility,t;t=window.$BSI,t.headTime||(t.headTime=+new Date);var d=[],wt=[],g="LD",ot="LDH",er="#",f="&",nt="?",tt="~",di=":",p="",bt=".com",kt="-int.com",st={},ut={},ht=!0,it=[],a=-1,e=-1,s,o=1,rt,ct,lt,dt,gt,ni,at,w,vt,c=u.$Config,r=c.BSI,i=r.BICI,ti=c.sd.endsWith(kt)?kt:bt,b=[],ii=r.ignoreWindowOnload,k=0;t.informLoaded=function(n,f){if(c=u.$Config,r=c.BSI,i=r.BICI,document.body.id=r.pn?r.pn.encodeHtmlAttribute():p,t.headTime!=ni){var e=v();ni=t.headTime,k=0,b=[],f&&t.addLogParams({x:"1"}),ki(d,f),y("L",ai(ut),e),ut={},i&&i.beaconUrl&&ht&&et.fire(i.beaconUrl,st),st={}}},t.sendToIdss=function(n){return typeof n!="undefined"&&(ht=n),ht},t.informPVHead=function(){bi(),t.headTime=v(),k=1},t.addBeaconParams=function(n){yi(st,n)},t.addLogParams=function(n){yi(ut,n)},t.addLoadedCallback=function(n){d.push(n)},t.removeLoadedCallback=function(n){setTimeout(function(){for(var t=0,i=d.length;t<i;t++)if(d[t]==n){d.splice(t,1);return}},0)},t.isLoading=function(){return k},t.addNavCallback=function(n){wt.push(n)},t.navigateTo=function(n,i,r){if(r&&(t.currentScenarioObject=r),!t.informNav(n,0,0,0,0,0,0,i))try{i?window.open(n,i):window.location.href=n}catch(u){}},t.addLoadEvent=function(n){k&&b.push(n)},t.eventLoaded=function(n){for(var t=0,i=b.length;t<i;t++)if(b[t]==n){b.splice(t,1),pi();break}},t.addHandlerDPs=function(n){return n.biciPrevious=r.biciPrevious,n.mmn=c.mmn,n},t.addLDToHash=function(n){return n.bicild=h.getCookie(g,1),h.deleteCookie(g,$Config.sd),n},t.informNav=function(u,e,c,a,b,k,d,g){var ut,it,ft,ct,ot,st,ht,rt;return o=o&&!b&&(!c||c.getAttribute("target")!="_blank"),ut=v(),it=c?c.href:0,l(),vi(),e=e||ir(c),u=u||p,ft=$U.doesMatchHost(u,"live"+ti),ct=$U.isAbsoluteUrl(u)&&$U.doesMatchHost(u,"g.live"+ti),y("N",tt+tt+e.encodeUrl()+tt+rr(),ut),at=at||o,i&&i.urlHash&&(ot=i.urlHash+ut,i.fid&&(ot+=f+i.fid+f+(o?"1":"0")+(a?"0":"1")),h.setCookie("LN",ot,$Config.sd)),st=ki(wt,u,c,a,o,ft,k,d,g),!st&&$B.IE&&$B.V<8&&typeof ieImgAnchorFix=="function"&&c&&ieImgAnchorFix(c),ht=["WLXID=",r.xid,"&RID=",r.rid,"&TID=",t.headTime,"&lid=",e].join(p),ct?c&&i&&i.enableGlinkExtra&&(rt=it.indexOf(nt)<0?nt+nt:it.indexOf(nt+nt)<0&&it.indexOf(f+f)<0?f+f:f,c.href=it+rt+ht):ft||i&&i.enableGlinkCall&&et.fireAndHold("//g.live"+bt+"/_9uxp9en-us/mike?"+u.encodeUrl()+f+f+ht),c&&it!=c.href&&(w=c,vt=it,s==3?$B.Safari||$B.Firefox||n(c).bind("mouseout",l):setTimeout(l,100)),st},t.reportEvent=function(n,i){var r=tt+n+ai(i);y("E",r)||(t.flush(),y("E",r))},t.flush=function(){it.splice(0,e-a+1),a=e,h.setCookie(ot,e,$Config.sd,0,new Date(2020,1,1),1),et.fire(c.handlerBaseUrl+"/Handlers/NoOp.mvc",t.addLDToHash({}))},gi(),$Do.register("$BSI.addNavCallback",t.addNavCallback),$Do.register("$BSI")}(window.originaljQuery||jQuery),function(){function r(n){var t=i[n];return t||(i[n]=t=new RegExp("\\b"+n+"\\b","ig")),t}var u=window,i={},t=u.$css={has:function(n,t){var u=!1,i;if(n&&n.className){i=r(t),i.lastIndex=0;try{u=i.test(n.className)}catch(f){}}return u},remove:function(n,i){t.swap(n,i)},swap:function(n,i,u){u=u||"",t.has(n,i)&&(n.className=n.className.replace(r(i),u).replace(/^\s|\s\s|\s$/g,function(n){return n.substr(1)}))},add:function(n,i){n&&(n.className?t.has(n,i)||(n.className+=" "+i):n.className=i)}}}(window.originaljQuery||jQuery),function(n){function i(n){for(var u=n.split("."),r=t,i=0,f=u.length;i<f;i++)r=r[u[i]];return r}var t=window;t.sutra=function(r,u,f){if(t.$Sutra){var e=n(r);e.attr("sutra")&&f||e.attr("sutra",i(u))}},t.sutra.load=function(i,r){t.$Sutra&&(n(document.body).attr(i,r),n(document.body).removeAttr("sutravisited"))},t.unsutra=function(i){t.$Sutra&&n(i).removeAttr("sutra")}}(window.originaljQuery||jQuery),function(n){function f(){var n=document.title,t=document.location.hash;n!=r&&t&&n.indexOf(t)==n.length-t.length&&(document.title=r),r=document.title}var t=window,u=t.wLive,i,r;t.$Version="9.090519.0",t.CompatVersion="9.100709.0",t.$Debug||(t.$Debug={enabled:!1,trace:function(){}}),i=t.document,t._d=i,t._ce=function(n){return i.createElement(n)},t._ge=function(n){return i.getElementById(n)},t._$ge=function(i){return n(t._ge(i))},t._get=function(n){return i.getElementsByTagName(n)},t._dh=i.head=i.head||t._get("head")[0],u.dh=n("#head")[0]||t._dh,n(document).bind("propertychange",f)}(window.originaljQuery||jQuery),function(){function t(n){return function(){for(var i=arguments.length,t=0;t<i;t+=n)this[arguments[t]]=arguments[t+n-1]}}var n=window,i=n.jQuery;n.$Flags=t(2),n.$Enum=t(1)}(),function(){function r(){var f=t.length,n;if(f>0){try{t.pop()()}catch(e){n=u.$WebWatson,n&&n.submitFromException(e)}f>1&&i(r,0)}}var u=window,i=window.setTimeout,t=[];window.smartSetTimeout=function f(n,u,e){function o(){f(n,0,e)}u?i(o,u):(e?t.splice(0,0,n):t.push(n),t.length==1&&i(r,0))}}(window.originaljQuery||jQuery),function(){var t=window,i=t.$HelpContext={},r=t.$Config;i.attachContextTo=function(n,t,i){t&&n.length>0&&(n[0].href=r.hc.url+"&errorCode="+(t+"").encodeUrl()+(i?"&errorMessage="+i.encodeUrl():""))},$Do.register("$HelpContext")}(window.originaljQuery||jQuery),function(n){function s(){function nt(n){var r,t,i;if(n.indexOf("window.")<0)return!1;for(r=n.split("."),t=window,i=1;i<r.length;i++)if(t=t[r[i]],t===undefined)return!1;return!0}function d(n,t){function u(){var t=!1,n;try{n=i.contentWindow||i.contentDocument.parentWindow,n&&n.fetchXML&&(h.Proxy._registerProxy(n),t=!0)}catch(r){}return t}function e(){var i=c[n],r;if(i.attempts=(i.attempts||0)+1,i.attempts>2&&!i.fail&&!i.ready){if(!u())for(i.fail=!0;r=i.pop();)r.cb&&r.cb({status:5e3},r.c)}else i.ready||u()||d(n,t)}function a(){c[n].ready||c[n].fail||e()}var i,f;p(),i=document.createElement("iframe"),i.style.display="none",n.endsWith(s)||n.indexOf(":")>0&&n.substring(0,n.indexOf(":")).endsWith(s)?(document.body.insertBefore(i,document.body.firstChild),f=r.xmlProxyTimeout||3e4,setTimeout(a,f),l[n]=i,i.src=location.protocol+"//"+n+"/xmlProxy.htm?vn="+o+"&domain="+s):t.cb&&t.cb({status:5e3},t.c)}function p(){if(!k){s=document.domain;return}if(s=y,s.indexOf(":")>0&&(s=s.substring(0,s.indexOf(":"))),$Config.domain&&!$Config.domain.endsWith("."))document.domain=$Config.domain;else if(s.endsWith(".com")){var n=s.indexOf(".");if(n>0){document.domain=s;try{while(n>=0)s=s.substring(n+1),s!="com"?(document.domain=s,n=s.indexOf(".")):n=-1}catch(t){}}}else throw new Error("Invalid $Config.domain");s=document.domain,p=function(){}}function v(n,t){return n=h.resolveUrl(n).toLowerCase(),String(n).search(t?it:tt)<0?"":RegExp.$1}var h=this,w=$B.IE,b=[],c={},l={},s,a,k=!0,y;h.requiresDomainLowering=function(n){k=n},h.getCookie=function(n){return f.getCookie(n,1)},h.fetchXML=function(t,i,r,u,f,e,o){function b(n){if(f)for(var t in f)n.setRequestHeader(t,f[t])}function k(n){i&&i(n,e)}var p,s,w,h,a;if(s=v(t),r=r||"GET",i=i||function(){},s===y)p=n.ajax({url:t,type:r,data:u,beforeSend:b,complete:k});else if(h=c[s]=c[s]||[],a={url:t,cb:i,v:r,verb:r,postString:u,headers:f,c:e,cbp:o},w=l[s]){if(h.ready)return w.contentWindow.fetchXML(a,null,null,i,o),p;if(h.fail)return i&&i({status:5e3},e),p;h.push(a)}else h.push(a),d(s,a);return p},h.fetchCSS=function(n,r,f,e,o){function h(){var u,h,l;clearTimeout(c),h=!w||$B.IE&&$B.V>=10,h&&(s.readyState="complete"),s.onreadystatechange=function(){s&&s.onreadystatechange&&("loaded"===s.readyState||"complete"===s.readyState)&&(r&&r(s),s.onreadystatechange=null)},!e||!t.Css_Start||(u=Css_Start(e,o),s.onload=function(){Css_Load(this,u)},s.onerror=function(){Css_Error(this,u)}),s.href=n,f||(l=i.dh,l.appendChild(s)),h&&s.onreadystatechange()}var s=f||document.createElement("link"),c=setTimeout(h,9e3);return f||(s.rel="stylesheet",s.type="text/css"),u.fire(n,0,h,h,1),s},h.fetchScript=function(r,u,f,o,s){function a(){if(!c.handled&&("complete"===c.readyState||"loaded"===c.readyState))try{c.handled=!0,n(c).unbind(".fetch"),!f||b[f]||nt(f)?u&&u(c):(l&&(l.errorCode=l.errorCode||"ParseFailure"),v.removeChild(c),h.fetchScript(r,u,undefined,o,s))}catch(i){throw i;}finally{l&&t.$Static&&t.$Static.logQos(l)}}function y(n){l&&(l.errorCode="DownloadFailure"),a(),f&&n.stopPropagation()}var v=i.dh,c=document.createElement("script"),l;return o&&(l={apiId:o,propertyId:s,startTime:+new Date}),(!w||$B.IE&&$B.V>=10)&&(c.readyState="loaded"),c.async=!0,c.type="text/javascript",n(c).bind("readystatechange.fetch",a).bind("load.fetch",a).bind("error.fetch",y),e(function(){c.src=r,v.appendChild(c)}),c},h.registerScript=function(n){b[n]=!0},h.Proxy={_registerProxy:function(n){var i,r=v(n.location.href,!1),u=l[r],t=c[r],f=n.frameElement;if(t)for(t.ready||(u!=f&&(u=l[r]=f),t.fail=!1,t.ready=!0);i=t.pop();)u.contentWindow.fetchXML(i,null,null,i.cb,i.cbp)}},$Config.applyAppDomain&&p();var tt=/^(?:http|https|ftp):\/\/([-.a-z0-9]+(?::[0-9]+)?)(?:\/|$)/i,it=/^((?:http|https|ftp):\/\/[-.a-z0-9]+(?::[0-9]+)?)(?:\/|$)/i,g=/\/[^\/]*\/\.\./;h.extractHost=v,h.resolveUrl=function(n,i){function f(n){while(g.test(n))n=n.replace(g,"");return n}var r,u;return n=n?n.toString():"",i?i=i.substring(0,i.toString().lastIndexOf("/")+1):a?i=a:(r=t._ge("base"),r&&r.href!=""?i=a=r.href:(u=location.protocol+"//"+location.host+location.pathname,i=a=u.substring(0,u.lastIndexOf(location.protocol==="file:"?"\\":"/")+1))),n.startsWith("/")&&(n=location.protocol+"//"+location.host+n),n.indexOf("//")===-1&&(n=i+n),f(n)},y=v(document.location.href),h.currentDomain=y}var t=window,u=t.$Beacon,f=t.$Cookie,h=t.Debug,e=t.smartSetTimeout,o=t.$Version,i=t.wLive,r=t.$Network=new s;t.$LightNetwork=r}(window.originaljQuery||jQuery),function(){function p(n,i){t.deferPosting?(t.deferredPosts=t.deferredPosts||[],t.deferredPosts.push({url:n,postString:i})):l.fetchXML(n,null,"POST",i)}function g(){var r,n,tt,it,s,u;if(t.enabled)if(t.ids&&t.guids&&t.startTimes&&t.propertyIds){var c=t.ids.split(i),rt=t.guids.split(i),ut=t.startTimes.split(i),ft=t.propertyIds.split(i),a=c.length;var v=[],y=[],p=[],b=[];for(r=a-1;r>=0;r--){var f=c[r],et=ut[r],k=ft[r],g=rt[r];r>=a-d&&(v.push(f),y.push(g),p.push(et),b.push(k)),n=w(f,g),n.apiArray.length!=0&&(tt={sc:f,ppd:k,api:n.apiArray.join(i),dur:n.durationArray.join(i),err:n.errArray.join(i),errtp:n.errTypeArray.join(i),st:n.stackTraceArray.join(i),dep:n.dependentArray.join(i),stt:n.startTimeArray.join(i)},it=$Utility.serialize(tt),l.fetchXML(e.handlerBaseUrl+t.handlerPath,null,"POST",it))}s=v.join(i)+"&"+p.join(i)+"&"+b.join(i)+"&"+y.join(i),$BSI.currentScenarioObject&&(s=$BSI.currentScenarioObject.id+"&"+$BSI.currentScenarioObject.startTime+"&"+$BSI.currentScenarioObject.propertyId+"&"+$BSI.currentScenarioObject.guid),u=new Date,u.setSeconds(u.getSeconds()+5),o.setCookie(h,s.encodeUrl(),e.sd,null,u,1),setTimeout(nt,500)}else o.deleteCookie(h,e.sd)}function nt(){o&&o.deleteCookie(h,e.sd)}function tt(n,t){for(var r=c.d,f=r.length,u,i=0;i<f;i++)u=r[i],u.scenarioId===n&&u.transactionGuid===t&&(r.splice(i,1),i--,f--)}function w(n,t){for(var f=[],e=[],o=[],s=[],h=[],l=[],p=[],w=c.d,b=w.length,i,u=0;u<b;u++)if(i=w[u],i.scenarioId===n&&i.transactionGuid===t){var k=i.api||r,d=i.clientStart,g=i.error||a,nt=i.errorType||(i.error?v:y),tt=i.stackTrace||r;f.push(k),e.push(i.clientLength),o.push(g),s.push(nt),h.push(tt),l.push(i.dependent||r),p.push(d)}return{apiArray:f,durationArray:e,errArray:o,errTypeArray:s,stackTraceArray:h,dependentArray:l,startTimeArray:p}}function s(n,t){return n=n?n+i+t.toString():t.toString()}function b(n,t,i,r){return{id:n,propertyId:i,guid:t,startTime:r}}var u=window,it=u.$Beacon,o=u.$Cookie,l=u.$Network,f=u.$ScenarioQoS={},e=$Config,k=e.BSI||{},t=k.Scenario||{},h="Sce",r="na",i="#",a="ok",v="f",y="s",d=3,c;u.wLive.ScenarioQoSStats={d:[],add:function(n,r,f,e){var o,h;if(n&&r&&f&&t.ids&&t.guids){var s=t.ids.split(i),c=t.guids.split(i),l=s.length;for(n.scenarioId=f.id,n.transactionGuid=f.guid,o=0;o<l;o++)if(s[o]===n.scenarioId&&c[o]===n.transactionGuid){h=u.wLive.ScenarioQoSStats,e===undefined&&(e=(new Date).valueOf()-r),n.clientStart=r,n.clientLength=e,h.d.push(n);break}}}},c=u.wLive.ScenarioQoSStats,f.addScenarioToHttpHeader=function(n,t){t&&(n.scenarioid=t.id||r,n.transactionguid=t.guid||r,n.scenariopropertyid=t.propertyId||r)},f.getScenarioObject=function(n){var r;if(t.enabled&&t.ids&&t.guids&&t.startTimes&&t.propertyIds){var u=t.ids.split(i),f=t.guids.split(i),e=t.startTimes.split(i),o=t.propertyIds.split(i),s=u.length;for(r=0;r<s;r++)if(f[r]===n)return b(u[r],f[r],o[r],e[r])}return null},f.startScenario=function(n,i){var r=(new Date).valueOf(),u=$Utility.generateGuid();return t.ids=s(t.ids,n),t.propertyIds=s(t.propertyIds,i),t.startTimes=s(t.startTimes,r),t.guids=s(t.guids,u),b(n,u,i,r)},f.stopScenario=function(n,u,f,o){var h,it,rt;if(t.enabled&&t.ids&&t.guids&&t.startTimes&&t.propertyIds){var nt=u===!1?!1:!0,c=n.id,k=n.guid,l=t.ids.split(i),d=t.guids.split(i),b=t.startTimes.split(i),g=t.propertyIds.split(i),ut=l.length;for(h=0;h<ut;h++)if(l[h]===c&&d[h]===k){var s=w(c,k),ft=(new Date).valueOf()-b[h],et=nt?a:f||r,ot=nt?y:o||v;s.apiArray.push(c),s.durationArray.push(ft),s.errArray.push(et),s.errTypeArray.push(ot),s.stackTraceArray.push(r),s.dependentArray.push(r),s.startTimeArray.push(b[h]),it={sc:c,ppd:g[h],api:s.apiArray.join(i),dur:s.durationArray.join(i),err:s.errArray.join(i),errtp:s.errTypeArray.join(i),st:s.stackTraceArray.join(i),dep:s.dependentArray.join(i),stt:s.startTimeArray.join(i)},rt=$Utility.serialize(it),p(e.handlerBaseUrl+t.handlerPath,rt),l.splice(h,1),d.splice(h,1),b.splice(h,1),g.splice(h,1),t.ids=l.join(i),t.guids=d.join(i),t.startTimes=b.join(i),t.propertyIds=g.join(i),tt(c,k);break}}},f.stopAllScenarios=function(n,u,e){var h,o;if(t.enabled&&t.ids&&t.guids){var s=t.ids.split(i),c=t.guids.split(i),l=s.length;for(h=u===!1?!1:!0,o=0;o<l;o++)(n===r||n===s[o])&&f.stopScenario({id:s[o],guid:c[o]},h,e)}},f.postDeferredScenarios=function(){var n,i;if(t.deferPosting=!1,t.deferredPosts){for(n=0;n<t.deferredPosts.length;n++)i=t.deferredPosts[n],p(i.url,i.postString);delete t.deferredPosts}},$BSI.addNavCallback(g)}(window.originaljQuery||jQuery),function(n){var t=window;t.wLive.PageStats={d:[],o:$BSI.headTime,add:function(i,r){var u=t.wLive.PageStats,f;r=r||u.o,i=i||{url:"Missing page stats.",tasks:[],executionTimeMs:0,schedulerTimeMs:0},f=new Date,i.clientStart=r,i.clientLength=f.getTime()-r,i.clientTime=f,u.d.push(i),n(u).trigger("go")}}}(window.originaljQuery||jQuery),function(n){var t=window;t.$f={cancelEvent:function(n){return n=n||t.event,n.stopPropagation?(n.preventDefault(),n.stopPropagation()):n.returnValue=!1,!1},getSelectedText:function(){if(document.selection)return document.selection.createRange();var n;try{n=t.getSelection().rangeCount>0?t.getSelection().getRangeAt(0):t.document.createRange()}catch(i){n=t.document.createRange()}return n},createIframe:function(){var n=document.createElement("IFRAME");return n.frameBorder="no",n.src="javascript:''",n.scrolling="no",n},px:function(n){return n+"px"},updateTitle:function(n){try{top.document.title=top.document.title.replace(/.*?( PLT: [0-9]+ms)?$/i,n+"$1")}catch(t){}},replaceQs:function(n,t,i){var e="([?|&])"+t+"=([^&]+)",o=new RegExp(e,"i"),u=n,f="",r=n.indexOf("#");return r>-1&&(u=n.substr(0,r),f=n.substr(r)),u.replace(o,"$1"+t+"="+i)+f},doc:document,docEl:document.documentElement,getDocType:function(){var i=$f.doc,r=i.doctype,n=i.all,t;return r?t=r.publicId:n&&n.length&&(t=n[0].nodeValue),t||""},createLoading:function(t,i,r,u,f,e,o){var p=t,w,v,b,s,k,h,c,a,l,y,d;for(typeof t=="object"&&(p=t.returnMarkup,i=t.type,r=t.width,u=t.height,f=t.size,e=t.color,o=t.text,w=t.useTransparentFallback),i=i||$f.loadingType.spinning,r=r||"20px",u=u||r,f=f||"3px",e=e&&e.toLowerCase()||"#666",v="c_spinningDots",b=$Config.imgsBase+"common/",i==$f.loadingType.flying?(v="c_flyingDots",s="flyingdots.gif"):(s="spinner_",s+=e=="#fff"?"white_":"grey_",r=="60px"?s+="120":r=="30px"?s+="60":(s+="40",w&&e!="#fff"&&(s+="_transparent")),s+=".gif"),k=b+s,h=document.createElement("div"),n(h).css({width:r,height:u,"font-size":f}),h.className=v+" c_loadingDots c_dotsPlaying",c='<div class="c_loadingFallback"><img src="'+k+'" alt="" width="'+r+'" height="'+u+'" /><\/div>',c+='<div class="c_loadingTracks">',a=5;a>0;a--)c+='<div class="c_loadingTrack c_loadingTrack'+a+'"><div class="c_loadingDot" style="background-color:'+e+";width:"+f+";height:"+f+'"><\/div><\/div>';return(c+="<\/div>",h.innerHTML=c,l=n("<div><\/div>").append(h),i==$f.loadingType.flying&&l.css({width:r}),o&&l.append('<span class="c_loadingText">'+o.encodeHtml()+"<\/span>"),p)?(y=n("<span><\/span>").append(l),d=y.html(),y.remove(),d):l[0]},loadingType:{spinning:0,flying:1},hideLoading:function(n){n.hide(),n.removeClass("c_dotsPlaying")},showLoading:function(n){n.show(),n.addClass("c_dotsPlaying")}},$Do.register("$f")}(window.originaljQuery||jQuery),function(n){function l(){i.bind(o,c),i.bind(s,h)}function h(){clearTimeout(f),i.unbind(s,h),i.unbind(o,c)}function c(){clearTimeout(f),f=setTimeout(a,100)}function a(){r=u=null}var e=window,i=n(e),t=e.$f,r,u,f,o="resize",s="unload";t.dockIt=function(n,i,r,u,f,e,o,s,h,c){var y=0,w,l,v,p,nt;f=f||!1,r=typeof r=="undefined"?0:r,u=u||{x:0,y:0},s=s||{},typeof u!="object"&&(y=u,u={x:0,y:0}),s.top=s.top||0,s.bottom=s.bottom||0,s.left=s.left||0,s.right=s.right||0;var tt=n.offsetParent,st=tt==document.body||tt==t.docEl||h,a=t.getLocation(n,f);if(c=c||t.getLocation(i,f,st),w=u.x*($B.rtl?-1:1),l={x:a.bodyX+w,y:a.bodyY+u.y,width:a.width,height:a.height,targetLoc:c,spaceY:0},!o){var ht=t.clientHeight(),ct=t.clientWidth(),it=c.addScrollTop!=-1?t.scrollTop():0,rt=t.scrollLeft(),ut=a.width+w,ft=a.height+u.y,b=ht+it-c.bottom-s.bottom,k=c.top-it-s.top,lt=ct+rt-c.right-s.right,at=c.left-rt-s.left,d=b>ft,g=k>ft,et=lt>ut,ot=at>ut;!d&&g?(r<2?(r+=2,p=1):(r==4||r==6)&&(r+=1,p=1),l.spaceY=k):!g&&d?(r>=2&&r<4?(r-=2,p=1):(r==5||r==7)&&(r-=1,p=1),l.spaceY=b):l.spaceY=r<2||r==4||r==6?b:k,!et&&ot?$B.rtl?r>=4&&r<6?(r+=2,v=1):(r==1||r==3)&&(r-=1,v=1):r>5?(r-=2,v=1):(r==0||r==2)&&(r+=1,v=1):!ot&&et&&($B.rtl?r>5?(r-=2,v=1):(r==0||r==2)&&(r+=1,v=1):r>=4&&r<6?(r+=2,v=1):(r==1||r==3)&&(r-=1,v=1))}return nt=r%2,e?(l.x=u.x,l.y=u.y+c.bottom):r>=0&&(r<4?(l.x+=nt?$B.rtl?c.left:c.right-a.width:$B.rtl?c.right-a.width:c.left,l.y+=r<2?c.bottom+y:c.top-a.height-y):($B.rtl&&(r<6?r+=2:r-=2),l.x+=r<6?c.left-a.width-y:c.right+y,l.y+=nt?c.bottom-a.height:c.top)),!$B.Mobile||g||d||(l.y=t.scrollTop()),v&&(l.x+=u.x*-2),p&&(l.y+=u.y*-2),n.style.left=l.x+"px",n.style.top=l.y+"px",l},t.getLocation=function(n,i,r){for(var a=!1,s=t.getStyle,h="offsetTop",c="offsetLeft",v="position",u={x:n[c],y:n[h],top:0,right:0,bottom:0,left:0,bodyX:0,bodyY:0,width:n.offsetWidth,height:n.offsetHeight},f=n,y,p,e,l,o;f=f.offsetParent;)a=s(f,v)=="relative",i!=2&&(u.bodyX-=f[c],u.bodyY-=f[h]),a&&(y=t.toInt(s(f,"padding-left")),p=t.toInt(s(f,"padding-top")),u.x=i==1?u.x:y,u.y=i==1?u.y:p),u.x+=f[c],u.y+=f[h];for(n=n.parentNode,e=0,l=0;n&&n!=document.body;){if(o=s(n,v),o=="relative"){l=1,n=n.parentNode;continue}o=="fixed"&&(e=1),r||!l&&o!="absolute"?u.y-=t.toInt(n.scrollTop):o=="fixed"&&(e=-1),n=n.parentNode}return e==1&&(u.y+=t.toInt(t.scrollTop())),u.left=u.x,u.top=u.y,u.right=u.x+u.width,u.bottom=u.y+u.height,u.addScrollTop=e,u},t.toInt=function(n){return n=parseInt(n),isNaN(n)?0:n},t.locCompare=function(n,t){return n.bodyX!=t.bodyX||n.bodyY!=t.bodyY||n.top!=t.top||n.left!=t.left||n.bottom!=t.bottom||n.right!=t.right?1:0},t.getStyle=function(n,i){var u="",f,r;return t.doc.defaultView&&t.doc.defaultView.getComputedStyle?(f=t.doc.defaultView.getComputedStyle(n,""),u=f?f.getPropertyValue(i):""):n.currentStyle&&(i.indexOf("-")>=0&&(r=i.split("-"),r[1]=r[1].substr(0,1).toUpperCase()+r[1].substr(1),i=r.join("")),u=n.currentStyle[i]),u},t.isChildOf=function(n,t,i){try{for(i||(i=window.document);t&&t!==n&&t!=i;)t=t.parentNode;return t===n}catch(r){return!1}},t.pn=function(n,t){for(var r=$css.has(n,t),i=r?n:null;!i&&(n=n.parentNode)&&typeof n!="undefined";)$css.has(n,t)&&(i=n);return i},t.docHeight=function(n){if(n||!r){var u=t.doc.documentElement.clientHeight,i=t.doc.body.clientHeight,f=i!=undefined?i:window.innerHeight+window.scrollMaxY;r=Math.max(f,u)}return r},t.docWidth=function(){if(!u){var n=t.doc.body.clientWidth;u=n!=undefined?n:document.width}return u},t.scrollTop=function(){var n=t.toInt(t.docEl.scrollTop),i=t.toInt(window.scrollY);return Math.max(n,i)},t.scrollLeft=function(){var n=t.toInt(t.docEl.scrollLeft),i=t.toInt(window.scrollX);return Math.max(n,i)},t.clientHeight=function(){return t.docEl.clientHeight-($B.IE?16:0)},t.clientWidth=function(){return t.docEl.clientWidth-($B.IE?16:0)},l()}(window.originaljQuery||jQuery),function(n){var i=window,u=i.Debug,t=i.$css,r;t.getCN=function(n,i,r){var e=[],f,u;if(r&&r.getElementsByTagName)for(f=r.getElementsByTagName(i),u=0;u<f.length;u++)t.has(f[u],n)&&(e[e.length]=f[u]);return e},t.addHideBorder=function(t,i){i=i||this,n(i).addClass("c_nobdr")},t.removeHideBorder=function(t,i){i=i||this,n(i).removeClass("c_nobdr")},t.addPressedState=function(t,i){i=i||this,n(i).addClass("t_prs")},t.removePressedState=function(t,i){i=i||this,n(i).removeClass("t_prs")},r=i.$edh={e:function(n,t){var r=t||"inline",i;n.nodeName.toLowerCase()=="span"&&n.className.indexOf("c_ld")!=-1&&(i=n.lastChild,i&&(n.parentNode.insertBefore(i,n),i.style.display=r,n.parentNode.removeChild(n)))},d:function(n){var t,i;n.nodeName.toLowerCase()!="a"||n.parentNode.nodeName.toLowerCase()=="span"&&n.parentNode.className.indexOf("c_ld")!=-1||(t=document.createElement("span"),t.innerHTML=n.innerHTML,t.className=n.className?n.className+" c_ld":"c_ld",i=n.getAttribute("title"),i&&t.setAttribute("title",i),n.style.display="none",n.parentNode.insertBefore(t,n),t.appendChild(n))}},$B&&$B.SF_iPhone&&n(function(){n(".sc").length>0&&n(i.document).bind("touchmove",function(t){n(t.target).closest(".sc").length===0&&t.preventDefault()})})}(window.originaljQuery||jQuery),function(n){function tt(n,r,f,s,h,l){l?(n[t][v]=f+i,n[t][y]=r+i,b()||(n[t][e]=c(f)+s+i,n[t][o]=c(r)+h+i)):n[t][u]=r+i+" "+f+i}function et(n,t,r,u,f,e,o,s,h){var v,c,l;return s=s||s==""?s:o,v='<span class="{0}"><img class="{1}" src="{2}" onload="this.onload=null;$Do.when(\'$IS.Init\',0,this);" style="width:{3};height:{4};background-position:{5};background-image:{6};" alt="{7}" title="{8}"/><\/span>',c=v.format(a,"is_img",f+"is/invis.gif",r+i,u+i,"-"+n+i+" -"+t+i,"url('"+e+"')",o,s),h?c:(l=_ce("span"),l.innerHTML=c,l.firstChild)}function ot(n,t,i,u){n=it(n.split(",")),t=it(t.split(",")),i=i?i.trim():i;var f=$B.rtl&&n[1]?n[1]:n[0];return r.Create(t[0],t[1],t[2],t[3],i,i+f,t[4],null,u)}function it(n){for(var i,t=0;t<n.length;t++)i=n[t],i&&(n[t]=i.trim());return n}function w(n){if(n)for(var r=n.getElementsByTagName("span"),u=r.length,e,t=-1;t<u&&!e;t++){var i=t==-1?n:r[t],o=f(i,a),s=f(i,p);if(o||s)return i}return null}function rt(n){var it,u,r,tt,o,i,e,v,vt;if(n.tagName!=s&&(n=w(n).getElementsByTagName(s)[0]),n&&f(n,"is_img")&&(it=n[t],u=n[l],u&&(u.dir=$B.ltr?"ltr":"rtl",r=b(),ft||!r))){var y='"style="width:{2}px;height:{3}px;"',rt='<span class="',ut='<img src="{6}"',et="<\/span>",yt=[rt,"is_o",y,">",rt,"is_i",y,">",ut,'class="is_hcimg {11}"alt="{1}"{10}style="left:-{4}px;top:-{5}px;width:{7};height:{8};{9}"/>',et,et,ut,'class="is_p',y,"/>"].join(""),ot=u[l];if(ot)for(tt=ot.getElementsByTagName("span"),o=0;o<tt.length;o++)tt[o][t].zoom=1;i=it[g],e=i.indexOf("http"),e===-1&&(e=i.indexOf('url("')+5),i=i.substr(e,i.length-e-(i.endsWith('")')?2:1));var h=d(n),st=k(n),ht=c(st.x),ct=c(st.y),lt,at;r||(lt=ht+h.w,at=ct+h.h),v=n.title,vt=yt.format(n.src.encodeHtmlAttribute(),n.alt.encodeHtmlAttribute(),h.w,h.h,ht,ct,(r?i:n.src).encodeHtmlAttribute(),r?nt:lt+"px",r?nt:at+"px",r?"":"filter:progid:DXImageTransform.Microsoft.AlphaImageLoader(src='"+i.encodeHtmlAttribute()+"',sizingMethod='crop');",v||v==""?'title="'+v.encodeHtmlAttribute()+'"':"",n.className.replace("is_img","")),$css.swap(u,a,p),u.innerHTML=vt}}function ut(n){var f,i,e,r,u;for(f=n.getElementsByTagName(s),i=0,e=f.length;i<e;i++)r=f[i],u=r.className,(u=="is_img"||u=="is_hcimg"||u=="is_p")&&(r.onload=null,r[t][g]="")}function b(){return!$B.IE_M6||$B.IEM_M8}function k(i){var r=n(i),f=i[t],e=(f[u]||r.css(u)||"").split(" "),o=parseInt(f[u+"X"]||r.css(u+"X")||e[0]),s=parseInt(f[u+"Y"]||r.css(u+"Y")||e[1]);return{x:o,y:s}}function d(i){var r=n(i),u=i[t],f=i.currentStyle||(window.getComputedStyle?window.getComputedStyle(i,0):{}),s=parseInt(u[o]||f[o]||r.css(o)),h=parseInt(u[e]||f[e])||r.css(e);return{w:s,h:h}}var h=window,st=h.Debug;h.$IS={};var r=h.$IS,f=$css.has,c=Math.abs,v="top",y="left",e="height",o="width",i="px",u="backgroundPosition",g="backgroundImage",t="style",l="parentNode",nt="auto",s="IMG",a="is_c",p="is_hc",ft=h.$Utility.isHighContrast();r.setClass=function(i,r){var h,u,c,a;if(i&&(h=w(i),h&&(u=h.getElementsByTagName(s)[0],c=f(h,p),u.className=(c?"is_hcimg ":"is_img ")+r,c))){var y=u[l],g=n(u),v=k(u);b()||(u[t][o]="",u[t][e]=""),a=d(y),tt(u,v.x,v.y,a.h,a.w,c)}},r.toggle=function(i,r,u){var o,g,p,rt;if(i&&r!=0&&(o=w(i),o)){var e=o.getElementsByTagName(s)[0],b=f(o,a),nt=e;b||(nt=e[l]),u&&(e.alt=u,e.title!=null&&(e.title=u));var it=n(e),h=it.css(y)||e[t][y],c=it.css(v)||e[t][v];b&&(g=k(e),h=g.x,c=g.y),h=parseInt(h),c=parseInt(c),p=d(nt),rt=c-p.h*r,tt(e,h,rt,p.h,p.w,!b)}},r.Create=et,r.CreateFromConfig=ot,r.Init=rt,r.disposeAll=ut,$Do.register("$IS.Init",rt),$Do.register("$IS.disposeAll",ut)}(window.originaljQuery||jQuery),function(n){function t(p,w,k,it,rt,ut,ft,et,ot,st,ht,ct,lt,at,vt,yt,pt,wt,bt,kt,dt,gt,ni,ti,ii){function ao(){pu=!0,p.binding=ri,r(o,l,ri.dispose),r(p,hu,uf),r(w,hu,uf),r(w,fr,cr),r(w,iu,go),r(e,yu,vi),r(e,iu,vi),r(e,"touchend",ns),r(e,te,fo),r(e,re,vi),$B.Firefox&&r(e,ue,vi),ki=w.tagName==y,ri.isHoverMenu=(ft==="mouseover"||ft==="mousemove"||ft==="focus")&&!ki,st||(st=250,wu=1e3),ht=ht||200,ri.isHoverMenu?(r(w,vu,ri.menuOnmouseout),r(w,c,ri.menuOnmouseover),r(p,vu,ri.menuOnmouseout),r(p,c,ri.menuOnmouseover),r(w,cu,ri.menuOnmouseover)):ft&&!pt&&(ii&&(ft==="keyup"||ft==="mousedown"||ft==="click")?o.setTimeout(function(){n(w).bind("keyup"+v,function(n){n.which===13&&ri.toggleState(n)}).bind("mousedown"+v,function(n){ri.toggleState(n)})},0):o.setTimeout(function(){r(w,ft,ri.toggleState)},0)),!s||$B.IE&&$B.V<7||(oi=e.createElement("div"),oi[pr]="c_m_sbox",oo(oi,50),(ru||$B.S60_Symbian)&&o.$Config&&$Config.ImagesBaseUrl&&(oi[f].background="url("+$Config.ImagesBaseUrl+"/imgs/black_50.png)"),e.body.insertBefore(oi,e.body.firstChild),$B.SF_iPhone&&r(oi,iu,vi)),rr[bi]=fu,we(),wf(),r(o,ie,be)}function we(){var w=p.getElementsByTagName("*"),b,e,c,k,h,d,u;for(cf=0,nu=null,hi=[],e=null,c=0,k=w.length;c<k;c++){var t=w[c],g=n(t),l=t.tagName=="SPAN"&&$css.has(t,"c-NavLinkDisabled"),v=t.tagName=="SPAN"&&$css.has(t,"c-InformationRow");if(t.tagName==="UL"&&$css.has(t,"c_m")&&g.css("position")==="absolute"&&(e&&$f.isChildOf(e,t,p)||(e=t)),(t.tagName=="A"||t.tagName==y||l||v)&&(!e||!$f.isChildOf(e,t,p))&&(h=so(t),h==p||h&&h.binding&&h.binding.isOpen())){v||hi.push(t),u=t[a];try{d=u.tagName=="LI"||u.tagName=="DIV"}catch(nt){}d&&(s||(i(t,lu,hr),i(t,au,hr),i(t,ef,$f.cancelEvent),r(t,lu,hr),r(t,au,hr),r(t,ef,$f.cancelEvent),!$B.RE_WebKit||t.getAttribute("tabindex")||l||v||t.setAttribute("tabindex",1),t[f].zoom="0",($css.has(t,"uxfa_ml")||$css.has(t,"c_ml"))&&(cf=1),t.setAttribute("role","menuitem"),l&&t.setAttribute("aria-disabled","true"),o.$Sutra&&$Sutra.Shared&&$Sutra.Shared.MenuItemLink&&!u.getAttribute("sutra")&&sutra(u,"$Sutra.Shared.MenuItemLink")),u.style.display==="none"||$css.has(u,"NoDisplay")||(nu=nu||u,le=u),!gr&&$css.has(t,of)&&(di=t),si&&si.id&&si.id==t.id&&(b=1,gi(hi.length)))}}sr=hi.length,sr>0?(ar&&fi&&to(),ar=0,tr=hi[0],dr=hi[sr-1],r(tr,fr,cr),r(dr,fr,cr),nu?(lr.removeClass(ee),n(nu).addClass("c_m_firstchild"),n(le).addClass("c_m_lastchild")):lr.addClass(ee)):(bf(),ar=1),!b&&di&&gi(-1)}function hr(n){if(!ki){n=n||event;var t=n.target||n.srcElement;t.nodeName=="A"&&(n.type=="focusin"?setTimeout(function(){$css.add(t,kr)},0):setTimeout(function(){$css.remove(t,kr)},0))}}function be(n){if(or=1,!$css.has(p,"noresize")){var t=$f.docWidth();se!=t&&(se=t,tf(n,1))}}function wf(){var i,y,ft,st;if(!ar){rr[yi]=eu,i=so(w),i&&i!=w?ai=i.binding:ot!=undefined&&(k=ot),at&&(gr&&(p[f][h]="auto",$css.remove(p,"c_m_maxw")),p.offsetWidth>at&&(p[f][h]=at+u,$css.add(p,"c_m_maxw")));var e=3,c=e,l=$B.rtl,v=1;if(!ci&&s&&vo(),ir||s||(ir=$f.createIframe(),wi=ir[f],wi[su]=$f.getStyle(p,su),p[a].insertBefore(ir,p),r(ir,cu,eo)),bu=vt||w,$css.has(w,"c_m_usep")&&(bu=w[a]),ru||(o.$WLXIM&&o.$WLXIM.isSidebarOpened()&&(ku.right=nt),!it&&n(p).parents(".c_m").length>0&&(it={y:-tt,x:0}),li=$f.dockIt(p,bu,k,it,rt,et,ct,ku,co,lo),vf=li.targetLoc),s){var t=$f.docWidth(),b=$f.docHeight(),d=lf,g=o.screen[h],ut=0;oi&&(oi[f][ff]=b?b+u:"100%",oi[f][h]=t?t+u:"100%"),(!t||t>g&&!$B.SF_iPhone)&&(t=g),l=0,t>lf&&!ru?(y=$f.getLocation(w,rt,ce),ft=$B.rtl?y.right:y.left,ft>t/2&&(ut=t-lf,l=1),v=0):(d=t,c=0),li.x=ut,p[f][wr]=li.x+u,rr[h]=ei[h]=d-2+u,ru&&(p[f][br]=af+u),yo()}st=function(){li.height+=s&&v?e*2:0,ei[bi]=fu,s||(ei[h]=li.width+u),ei[ff]=li.height+u,ei[wr]=li.x+(l?-c:c)+u,ei[br]=li.y+(s&&v?-e:e)+u,ei[bi]=ne},!s||ru||$B.S60_Symbian||setTimeout(st,0),ir&&(wi[bi]=fu,wi[h]=li.width+u,wi[ff]=li.height+u,wi[wr]=li.x+u,wi[br]=li.y+u),or=0,fi?gr&&ri.show(0,1):bf()}}function vo(){for(ci=p;ci[pr]!=sf&&ci[gf];)ci=ci[gf];ci&&ci[pr]==sf||(ci=e.createElement("div"),ei=ci[f],ei[su]=$f.getStyle(p,su),ei[br]=0,ei[wr]=0,ci[pr]=sf,p[a].appendChild(ci)),ei=ci[f],ei[yi]=ou,ei.backgroundColor="#000",oo(ci,20)}function yo(){for(var u=0,r=[],f=p.getElementsByTagName("UL"),n,i,t=0;t<f.length;t++)n=f[t],$css.has(n,"c_gll")&&(r.push(n),ko(n),n.offsetTop>n.previousSibling.offsetTop&&(u=1));if(u)for(i=0;i<r.length;i++)bo(r[i])}function bf(){pu&&(tu&&!gu?(ui.stop(),nf=!1,gu=!0,clearTimeout(du),du=setTimeout(function(){de(),no(),ui.animate({height:0},pe,"linear",po)},10)):(ke(),s||no()),oi&&(oi[f][yi]=ou),gi(-1),setTimeout(function(){n(hi).removeClass(kr)},100),lr.attr("aria-expanded","false"),lr.removeAttr("aria-owns"))}function ke(){fi||(uu(),wi[bi]=ei[bi]=rr[bi]=fu,wi[yi]=ei[yi]=rr[yi]=ou,or&&(rr[br]=ei[br]=0,rr[wr]=ei[wr]=0)),n(wLive.Controls).trigger("aftermenudismiss",{menu:ri,parent:ai})}function de(){ui.css({overflow:"hidden"}),ui.removeClass("pause")}function uu(){ui.css({overflow:"",height:"auto"}),ui.addClass("pause")}function po(){gu=!1,ke()}function wo(){nf=!1,uu()}function ge(n){var t,i;n=n||ui.height(),t=li.spaceY,t>0&&n>=t&&!cf&&(ui.css("max-height",t+u),ui.addClass(hf),!ui.hasClass("c_mfw")&&(!$B.IE||$B.V<=8)&&(i=ui.width()+16,ui.css("min-width",i+u)))}function no(){ui.hasClass(hf)&&(ui.css({"max-height":"","min-width":""}),ui.removeClass(hf))}function to(){if(n(wLive.Controls).trigger("beforemenushow",{menu:ri,parent:ai}),oi&&(oi[f][yi]=eu),wi[yi]=ei[yi]=rr[yi]=eu,tu&&!nf){clearTimeout(du),ui.stop(),nf=!0,gu=!1,uu();var t=ui.height();de(),ui.css({height:0}),ui.animate({height:t},pe,"linear",wo),ge(t)}else s||ge();wi[bi]=ei[bi]=rr[bi]=ne,di==tr&&gi(0),$B.IE_M7&&(ui.find(".c_ms").each(function(){var t=n(this);t.css("width",t.parents("ul").width()-d+u)}),ui.find(".c_ml").each(function(){var t=n(this);t.css("width",t.parents("ul").width()-g+u)})),lr.attr("aria-expanded","true"),p.id&&lr.attr("aria-owns",p.id)}function tf(i,r){(r||ro()&&fi)&&(rf=+new Date,fi=0,ri.closeEventSource(i&&i.srcElement),ar||bf(),t.current=ai,ai&&(ai.isHoverMenu&&(ai.tempHoverCloseDelay=ho),$B.IE&&pi&&w.focus(),setTimeout(function(){ai.update(1)},0)),ae.removeClass(fe),uo(),$B.IE&&$B.V<=8&&(ui.find(".c_ms").each(function(){n(this).css("width","")}),ui.find(".c_ml").each(function(){n(this).css("width","")})))}function io(){var n=_ge($PF.fid);if(n)try{i(n.contentWindow.document,yu,vi),i(n.contentWindow,l,io),t.closeCurrent(),yf=0}catch(r){}}function ro(){var n=500;return+new Date-rf>n}function uo(){for(var n=0,t=yr.length;n<t;n++)try{yr[n]()}catch(i){b.submitFromException(i,ur,99)}}function bo(n){n[f][yi]=ou,n.previousSibling[pr]=""}function ko(n){n[f][yi]=eu,n.previousSibling[pr]="c_gl"}function go(){if(!ki&&ri.isHoverMenu){var t=w.getAttribute("href");if((!t||t.endsWith("#"))&&fi&&!ut)try{tr.focus()}catch(i){}}}function ns(n){pf?(vi(n),fi||(pf=!1)):pf=!0}function vi(n){n=n||event;var t=n.target||n.srcElement;fi&&t&&!$f.isChildOf(p,t)&&w!=t&&!$f.isChildOf(w,t)&&ri.hide(n)}function fo(n){n=n||event;var r=27,t=n.target||n.srcElement,i=n.keyCode||n.which;i==9&&(nr=!1),fi&&(i==r?(oe=t.value,ri.hide(n)):pi||er!=w&&(i!=9||$f.isChildOf(p,er))||!tr||ut||vr!==-1||df(1)),ki&&t==w&&(fi||t.value==oe||kf()?fi&&kf()&&ri.hide(n):ri.show())}function kf(){return!yt&&ki&&w.value==""?!0:!1}function ts(){return!ki||!n(w).is(":focus")}function uf(i){i=i||event;var f=i.target||i.srcElement,u=i.keyCode||i.which,r=0;if(nr=u==9,pi=i.shiftKey,er=f,fi&&(ki||ti)){if(f==w||ti)if(u==40)df(1),r=1;else if(u==38)df(-1),r=1;else if(u==13){if(f.value!=""||bt)if(si){try{si.focus()}catch(e){}n(ri).trigger("EnterEvent",si)}else if(di){try{di.focus()}catch(e){}n(di).click(),n(ri).trigger("EnterEvent",di)}}else nr&&!pi?(n(ri).trigger("TabEvent",i),gi(-1),t.closeCurrent(i),ki||(r=1)):u==27&&fi?r=1:nr&&pi&&(gi(-1),t.closeCurrent(i),ki||(r=1));else nr&&(pi?pi&&gi(vr-1):er!=dr?gi(vr+1):gi(-1));if(r)return $f.cancelEvent(i)}return!0}function df(t){if(sr){for(var i=vr+t;i<sr&&i>=0&&!n(hi[i]).is(":visible");)i=i+t;i>=sr?i=sr-1:i<0&&(i=0),gi(i)}}function gi(n){sr&&(si&&$css.remove(si,kr),vr=n,vr>-1?(si=hi[vr],$css.remove(di,of),si&&($css.add(si,kr),setTimeout(function(){try{si.focus()}catch(n){}},0))):(si=ur,$css.add(di,of)))}function cr(n){nr&&pi&&er==w?(ri.hide(n),ri.menuOnmouseout()):!ar&&(!pi&&nr&&er==dr||pi&&nr&&er==tr)?(ri.hide(n),ri.menuOnmouseout()):fi||er!=w||ri.menuOnmouseout()}function eo(){var t=nr&&!pi?tr:w;try{t.focus()}catch(i){}}function oo(n,t){var i="opacity";$B.IE&&$B.V<=9&&(i="filter"),n[f][i]=i=="filter"?"alpha(opacity="+t+")":.01*t}function so(n){for(var t=n.binding&&n.binding.toggleState?n:null;!t&&(n=n.parentNode)&&typeof n!="undefined";)n.binding&&n.binding.toggleState&&(t=n);return t}var ur=null,gf="nextSibling",pr="className",bi="visibility",yi="display",fu="hidden",eu="block",ne="visible",ou="none",su="position",ff="height",wr="left",br="top",iu="click",hu="keydown",te="keyup",fr="blur",cu="focus",lu="focusin",au="focusout",vu="mouseout",yu="mousedown",ie="resize",ef="dragstart",re="mousewheel",ue="DOMMouseScroll",kr="t_seli",of="t_hov",sf="c_shad",fe="c_mf",hf="c_m_scroll",ee="c_emptymenu",pu,ui=n(p),lr=n(w),er=ur,pi,nr,tr,dr,hi,ci,oi,ir,or=1,gr,ar=1,fi,rr=p[f],ei={display:0,visibility:0},wi=ei,vr=0,si,sr=0,ki,oe,di,ai,cf,lf=320,yr=[],ho=1e3,wu,is=$f.docEl,af=0,se=$f.docWidth(),vf={},he=p.offsetParent,ce=he==document.body||he==$f.docEl,li={},yf,bu=w,nu,le,ae=wt?n(wt):lr.parent(),ku=kt||{},co=dt,lo=ni,ve="",ye,pf,rf;typeof ti=="undefined"&&(ti=!0);var du,gu,nf,tu=!s&&!($B.IE&&$B.V<=9)&&!$B.SF_iPhone&&!gt,pe=150,ru=$B.BlackBerry,ri=this;k===undefined&&(k=ur),ri.isHoverMenu=0,ri.tempHoverCloseDelay=0,ri.parentEl=ur,ri.keepHoverMenuOpen=0,ri.dispose=function(){if(i(p,hu,uf),i(w,hu,uf),i(w,fr,cr),i(e,yu,vi),i(e,iu,vi),i(e,te,fo),i(o,ie,be),i(e,re,vi),$B.Firefox&&i(e,ue,vi),ri.isHoverMenu?(i(w,vu,ri.menuOnmouseout),i(w,c,ri.menuOnmouseover),i(p,vu,ri.menuOnmouseout),i(p,c,ri.menuOnmouseover),i(w,cu,ri.menuOnmouseover)):ft&&(ii&&(ft==="keyup"||ft==="mousedown"||ft==="click")?(n(w).unbind("keyup"+v),n(w).unbind("mousedown"+v)):i(w,ft,ri.toggleState)),oi&&(i(oi,iu,vi),n(oi).remove()),ir&&(i(ir,cu,eo),n(ir).remove()),!s)for(var r=0;r<hi.length;r++)i(hi[r],lu,hr),i(hi[r],au,hr);i(tr,fr,cr),i(dr,fr,cr),p.binding=w.menu=ur,t.current==ri&&(t.current=null),tu&&uu(),i(o,l,ri.dispose),yr=[]},ri.update=function(t){var u,r,f;for(gr=!0,i(tr,fr,cr),i(dr,fr,cr),u=0;u<hi.length;u++)r=hi[u],i(r,lu,hr),i(r,au,hr),i(r,ef,$f.cancelEvent),$css.remove(r,kr),n(r).parent().removeClass("c_m_firstchild"),n(r).parent().removeClass("c_m_lastchild");we(),t||(f=tu,tu=!1,wf(),tu=f),gr=!1,ai&&setTimeout(function(){ai.update(t)},0)},ri.deactivate=function(){clearTimeout(du),uu(),pu=!1},ri.activate=function(){pu=!0},ri.convertToSubMenu=function(n){ri.setLoc(n)},ri.convertFromSubMenu=function(n){ri.setLoc(n)},ri.updateBinding=function(n){n=n||{},ku=n.edgeOffsets||ku},ri.hide=tf,ri.show=function(n,i){var e,f,u;if(nu||ui.hasClass("c_msem")){if(i||(f=$f.scrollTop(),(af!=f||!vf||$f.locCompare(vf,$f.getLocation(bu,rt,ce)))&&(af=f,or=1),!fi&&(or||lt)&&(wf(),e=1)),ai||t.current==ri||t.closeAll(),fi=1,ar||to(),ai&&ai.update(1),!gr&&!n&&!ri.isHoverMenu)try{w.focus()}catch(s){}if(ae.addClass(fe),uo(),o.$PF&&!yf&&(u=_ge($PF.fid),u))try{r(u.contentWindow.document,yu,vi),r(u.contentWindow,l,io),yf=1}catch(s){}t.current=ri}},rf=0,ri.toggleState=function(n){n&&n.originalEvent&&ri.triggerEventType(n.originalEvent.type),ro()&&(rf=+new Date,fi||kf()?ts()&&tf(n,1):ri.show())},ri.isOpen=function(){return fi},ri.addStateListener=function(n){yr.push(n)},ri.removeStateListener=function(n){for(var t=0,i=yr.length;t<i;t++)if(yr[t]==n){yr.splice(t,1);return}},ri.setOffset=function(n){it=n,or=1},ri.invalidatePosition=function(){or=1},ri.setLoc=function(n){k=n,or=1},ri.menuOnmouseover=function(){if(w.unhover&&(clearTimeout(w.unhover),w.unhover=ur),!fi&&!w.hover){var n=st;t.tempOpenDelayTimer&&wu&&(n=1),w.hover=setTimeout(function(){fi||ri.show()},n)}},t.tempOpenDelayTimer=0,ri.menuOnmouseout=function(){w.hover&&(clearTimeout(w.hover),w.hover=ur),!fi||w.unhover||ri.keepHoverMenuOpen||(ri.tempHoverCloseDelay=ri.tempHoverCloseDelay||ht,w.unhover=setTimeout(function(){tf()},ri.tempHoverCloseDelay),ri.tempHoverCloseDelay=0,wu&&(clearTimeout(t.tempOpenDelayTimer),t.tempOpenDelayTimer=setTimeout(function(){t.tempOpenDelayTimer=null},wu)))},ri.getSelectedEl=function(){return si?si:di},ri.triggerEventType=function(n){return typeof n!="undefined"&&(ve=n),ve},ri.closeEventSource=function(n){return typeof n!="undefined"&&(ye=n),ye},ao()}function w(){($B.Chrome||$B.Safari)&&(i(e,c,t.emptyFunction),i(o,l,w))}function r(t,i,r){t&&n(t).bind(i,r)}function i(t,i,r){t&&n(t).unbind(i,r)}var o=window,b=o.$WebWatson,u="px",c="mouseover",l="unload",f="style",h="width",a="parentNode",y="INPUT",k="h/c7.png,h/c7_rtl.png,",v=".wliveMenu",d=30,g=35,nt=300,ot=17,tt=10,s=$B.Mobile,p=$B.IE_M6,e=$f.doc,it='<ul class="uxfa_m c_m t_hovl"><\/ul>',rt='<li class="c_mcp"><\/li>',ut='<a class="uxfa_ml c_ml"><span class="c_mlu"><\/span><\/a>',ft='<span class="c_chev"><\/span>',et="click";t.closeCurrent=function(n){t.current&&t.current.hide(n,1)},t.current=null,t.closeAll=function(){while(t.current)t.closeCurrent()},t.chevronTypes={SmallLeftDark:["154,17,6,8","&#9668;"],SmallLeftLight:["154,33,6,8","&#9668;"],SmallRightDark:["192,17,6,8","&#9658;"],SmallRightLight:["192,33,6,8","&#9658;"],SmallUpDark:["67,17,8,8","&#9650;"],SmallUpLight:["67,33,8,8","&#9650;"],SmallDownDark:["114,17,8,8","&#9660;"],SmallDownLight:["114,33,8,8","&#9660;"],SmallPlusLeftDark:["145,17,8,9","&#9668;"],SmallPlusLeftLight:["145,33,8,9","&#9668;"],SmallPlusRightDark:["184,17,8,9","&#9658;"],SmallPlusRightLight:["184,33,8,9","&#9658;"],SmallPlusUpDark:["57,17,9,8","&#9650;"],SmallPlusUpLight:["57,33,9,8","&#9650;"],SmallPlusDownDark:["104,17,9,8","&#9660;"],SmallPlusDownLight:["104,33,9,8","&#9660;"],MediumLeftDark:["135,17,9,11","&#9668;"],MediumLeftLight:["135,33,9,11","&#9668;"],MediumRightDark:["175,17,9,11","&#9658;"],MediumRightLight:["175,33,9,11","&#9658;"],MediumUpDark:["45,17,11,9","&#9650;"],MediumUpLight:["45,33,11,9","&#9650;"],MediumDownDark:["92,17,11,9","&#9660;"],MediumDownLight:["92,33,11,9","&#9660;"],LargeLeftDark:["123,17,11,15","&#9668;"],LargeLeftLight:["123,33,11,15","&#9668;"],LargeRightDark:["162,17,11,15","&#9658;"],LargeRightLight:["162,33,11,15","&#9658;"],LargeUpDark:["29,17,15,11","&#9650;"],LargeUpLight:["29,33,15,11","&#9650;"],LargeDownDark:["76,17,15,11","&#9660;"],LargeDownLight:["76,33,15,11","&#9660;"],EllipsisDark:["232,1,16,4",""],EllipsisLight:["232,17,16,4",""],SmallCheckDark:["1,1,12,12",""],SmallCheckMedium:["1,17,12,11",""],SmallCheckDisabled:["1,33,12,11",""],SmallCheckLight:["1,49,12,11",""],LargeCheckDark:["14,1,14,12",""],LargeCheckMedium:["14,17,14,12",""],LargeCheckDisabled:["14,33,14,12",""],LargeCheckLight:["14,49,14,12",""],LargeDotDark:["249,1,8,8",""],LargeDotLight:["249,17,8,8",""],SquareDark:["276,1,8,8",""],SquareLight:["276,17,8,8",""]},t.createChevron=function(n,t){if(p||s)return n[1];var i=n[0]+",";return $IS.CreateFromConfig(k,i,$Config.imgsBase,t)},t.emptyFunction=function(){},function(){($B.Chrome||$B.Safari)&&(r(o,l,w),r(e,c,t.emptyFunction))}(),t.bind=function(n,i,r,u,f,e,o,s,h,c,l,a,v,y){var p={offset:r,alt:u==undefined?0:u,nofocus:f,posabs:e,defaultLoc:o,hoverDelay:s,hoverCloseDelay:h,forceDispose:c,parentEl:l,menuEl:a,eventType:v,sourceEl:y};return t.create(n,i,p)},t.create=function(n,i,r){function dt(){var f=!1,h=0,u=1,s=2,r=h;return e.binding?(r=u,e.binding.updateBinding({edgeOffsets:d})):e&&o&&(c=c||n.type,e.binding=new t(e,o,i,nt,tt,it,c,rt,ut,ft,et,ot,st,ht,ct,lt,b,at,vt,d,yt,pt,wt,bt,kt),r=u,(c=="mouseover"||c=="focus")&&o.tagName!=y&&(r=s),o.menu=e.binding,f=!0),e.binding.triggerEventType(n.type),r==u?e.binding.toggleState():r==s&&e.binding.menuOnmouseover(),f}var l,v;n=n||event,r=r||{};var g=n.target||n.srcElement,w=["c_ml","c_mcp","c_m"],k=g,nt=r.offset,tt=r.alt==undefined?1:r.alt,it=r.nofocus,rt=r.posabs,ut=r.defaultLoc,ft=r.hoverDelay,et=r.hoverCloseDelay,b=r.forceDispose,s=r.parentEl,e=r.menuEl,c=r.eventType,o=r.sourceEl,ot=r.skipEdgeDetection,st=r.noDockCache,ht=r.maxWidth,ct=r.dockEl,lt=r.showOnEmptyInput,at=r.pressedStateEl,vt=r.allowClickOnEmptyInput,d=r.edgeOffsets||{},yt=r.sourceRelativeToBody,pt=r.disableAnimations,wt=r.targetLoc,bt=r.arrowKeysNavigate,kt=r.bindEnterKey;if(o=o||$f.pn(k,w[0]),o&&(typeof o.menu=="undefined"||o.menu===null||b||r.edgeOffsets)&&(s=s||$f.pn(k,w[1])||o[a],s)){for(p&&s.tagName=="LI"&&$css.has(s[a],"c_m")&&(s[f][h]=s.offsetWidth+u),l=s.childNodes,v=l.length;v--&&!e;)e=$css.has(l[v],w[2])?l[v]:null;return b&&e&&e.binding&&e.binding.dispose(),dt()}return!1},t.createSubmenuContainer=function(){return n(it)},t.createSubmenuA=function(t,i){var r=n(ut);return n("span",r).append(t),i&&i.length>0&&r.append(i),r},t.createSubmenuChevron=function(i){var u=i||t.chevronTypes.SmallRightDark,r=n(ft);return r.append(t.createChevron(u)),r},t.createSubmenuItem=function(t,i,r){var u=n(rt);return t&&t.length>0&&u.append(t),i&&i.length>0&&u.append(i),r&&u.bind(et,r),u},o.$menu=t}(window.originaljQuery||jQuery),function(n){function ai(n,t,i){var s=t[w]||"NA*NA*",f=pi(t),c=vi(f.time),p=rt(v("ANON",1)).A||h,o=a.$WebWatson,b=o&&o.foundException()?1:0,k=y(e.latency),g=y(l.thr),nt=s+":"+d(r.prop,20)+"*"+d(n)+"."+ft,u;return u={ANON:p,NL:k,TP:g,CL:r.mmn||h,MA:r.mkt,B:r.build,TR:nt,PLT:f.time,IR:ut&&!f.nostart&&!i?1:0,EX:b},yi(u,f.lapseReport,c),ur(u),cr(u,st),u}function d(n,t){t=t||hi;var i=n.length;return n=i>t?n.substr(i-t):n,n.encodeUrl()}function vi(n){return f>0&&!o(n)&&n>0?{tprs:Math.round(f/128/(n/1e3)),size:Math.round(f/1024*10)/10}:b}function yi(n,t,i){var r,u;if(l.plt&&(n.PLM=l.plt),l.com&&(n.PCT=l.com),l.req&&(n.PCD=l.req),i&&(n.SZ=i.size,n.TPRS=i.tprs),t)for(r=0;r<t.length;r++)u=t[r],n[u.key]=u.val}function pi(n){var r,i,u,f;return t._ttg&&t.lapse.push({s:"ttg",t:t._ttg}),r=lt.timeStamp,(o(r)||0==r)&&(r=wt()),i=n.ST||0,i==0&&window.performance&&window.performance.timing&&(i=window.performance.timing.navigationStart,ut=1),t.ttxDeferred.resolve(i),t.TTxDeferred.resolve(i),t.addCsd("st",i),u=r-i,f=wi(i,r,t.lapse),{nostart:i==0,time:u>0?u:0,lapseReport:f}}function y(n){var t=parseInt(n);return isNaN(t)?0:t}function o(n){return"undefined"==typeof n||!n||h==n}function ui(){var n={latency:e.latency,throughput:e.throughput};oi(n),e=n}function fi(){yt(),ui(),g.deleteCookie(ot,r.sd)}function vt(){try{var n=window.location;return n.hostname+n.pathname}catch(t){return document.domain}}function wi(n,t,i){var f=[],r,s,u,e;if(i&&i.length>1&&t-n>0)for(i[0]={s:"Start",t:n},r=0;r<i.length-1;r++)s=i[r],u=i[r+1],o(u)||(e=u.t-n,e>0&&(f[f.length]={key:"L."+u.s,val:e}));return f}function bi(n,i,r,u){n=n||vt(),f=y(r.p),(o(f)||f<=0)&&(f=o(i)?0:y(i));var s=e[nt],h=e[w];h&&s&&(r[w]="0*"+h+"*",r[nt]=s,ut=1,ui()),t.GT1Param=ai(n,r,u),t.payloadHash=ar(t.GT1Param)}function ki(n){n[w]=h,n[nt]=h,bt(n)}function yt(){f=0,lt.timeStamp=0,k={},st={},t.csd={},t.lapse=[{}],t._ttg=0,t.payloadLength=0,c.rt=0}function di(n,r){if(!i.enabled){fi();return}!$BSI.sendToIdss()&&t.payloadHash.ANON&&t.fireCsiPerfBeacon(),o(n)&&(n=vt());var u=et();u[w]=n+"."+ft,u[nt]=wt(),u.p=o(r)?0:y(r),bt(u)}function gi(){var r=window.performance,n,t,i;r&&(n=r.timing,n&&(t=n.navigationStart,s("jsPlt",t,n.loadEventEnd),s("1Pnt",t,n.msFirstPaint),s("domIn",t,n.domInteractive),s("rdir",n.redirectStart,n.redirectEnd),s("dns",n.domainLookupStart,n.domainLookupEnd),s("tcp",n.connectStart,n.connectEnd),s("req",n.requestStart,n.responseEnd),s("resp",n.responseStart,n.responseEnd)),i=r.navigation,i&&($CSIPerf.addNtd("navType",i.type),$CSIPerf.addNtd("redirectCount",i.redirectCount)))}function s(n,t,i){t&&i&&i>t&&$CSIPerf.addNtd(n,i-t)}function nr(n){if(!i.enabled){fi();return}var r=et();gi(),bi(u.pn,t.payloadLength,r,n)}function tr(){if(i.enabled){var n=t.GT1Param,r=pt(n)||!n.IR?"nostart":at(n);ti.enabled&&$BSI.addBeaconParams({csiperf:r})}}function ir(){if(i.enabled){var n=t.GT1Param;ii.enabled&&c.enabled&&n&&t.fireOnLoad&&(delete n.ANON,delete n.MA,delete n.CL,n.RT=c.rt,n.bicild="",p.fire(r.handlerBaseUrl+"/Handlers/PerfMonitor.mvc",$BSI.addHandlerDPs(n),c.render?rr:0,0,1))}t.GT1Param=null}function ei(n,t){if(n){var i=n.indexOf(" PLT: ");i>-1&&(n=n.substr(0,i)),n+=t}else n=t;return n}function rr(){var t=v("SBSPLT"),n;if(t){n=" PLT: "+parseInt(t)+"ms";try{window.top.document.title=ei(window.top.document.title,n)}catch(i){document.title=ei(document.title,n)}}}function ur(n){pt(t.csd)||dt(n,t.csd),pt(k)||dt(n,k)}function pt(n){if(n)for(var t in n)return!1;return!0}function wt(){return+new Date}function fr(n){if(r=$Config,u=r.BSI||{},c=u.SBSPLT||{},i=u.CSIPerf||{},ti=i.IDSS||{},ct=i.Trace||{},lt=i.page||{},ii=i.WLXFD||{},_csiPerfConfigOmniture=i.Omniture||{},n,!i.disableTimers){if(!i.skipStopTimer&&(nr(n),tr(),ir(),i.enabled&&!i.pltDetectionDisabled)){var t=et(),f=r.prop;t.l!=f&&(t.l=f,bt(t),setTimeout(er,li))}ki(et()),$BSI.sendToIdss()&&yt(),ht=+new Date}}function et(){var n=v(ot,1);return n==tt?it:(tt=n,it=rt(n))}function bt(n){it=n,tt=at(n),ri(ot,tt,r.sd,b,b,1)}function er(){function n(){var n=+new Date-t;v("pltmode",1)=="1"&&(e.latency=n,oi(e),g.deleteCookie("pltmode",r.sd,"/"))}var t=+new Date,i={bicild:"",v:r.build};p.fire(r.handlerBaseUrl+"/Handlers/Plt.mvc",i,n,n,1)}function oi(n){var t=new Date;ri(ni,at(n),r.sd,b,new Date(t.getUTCFullYear()+1,t.getUTCMonth(),t.getUTCDay()),1)}function or(n,f,e,s,h){var c,l;e||!h||i.disableTimers||(c=o(u.pn)?vt():u.pn,t.setPerformanceId(ft||sr(f)),l=d(r.prop,20)+"*"+d(c),di(l,t.payloadLength),ut=1)}function sr(n){for(var i=h,t;n&&n.getAttribute;){if(t=n.getAttribute("pid"),t){i=t;break}n=n.parentNode}return i}function si(n){i.enabled&&ct.enabled&&c.enabled&&p.fire(r.handlerBaseUrl+"/Handlers/Bandwidth.mvc",$BSI.addLDToHash($BSI.addHandlerDPs(n)))}function hr(n,t,f){var e=this,s,o=+new Date,h={};e.lapse=[],e.addCsd=function(n,t){kt(h,n,t)},e.addLapse=function(n){e.lapse.push({s:n,t:+new Date})},e.endTrace=function(){var a,l,v;s||(s=1,i.enabled&&ct.enabled&&c.enabled&&(a=+new Date,l={tc:n,tcs:t,ti:a-o,th:o-$BSI.headTime,to:ht?o-ht:-1},lr(l,e.lapse,o,a),dt(l,h),v=r.handlerBaseUrl+"/Handlers/Trace.mvc",f&&(l.wli="csi",v=u.BICI.beaconUrl),p.fire(v,$BSI.addLDToHash($BSI.addHandlerDPs(l)))))}}function kt(n,t,i){n[t]=i}function dt(n,t){for(var i in t)n["C."+i]=t[i]}function cr(n,t){for(var i in t)n["N."+i]=t[i]}function lr(n,t,i){for(var e=t.length,u=0,f;u<e;u++)f=t[u],n["L."+f.s]=f.t-i}function ar(n){var r={},i,u;for(i in n)(i.indexOf("C.")===0||i.indexOf("N.")===0||i==="ANON"||i==="CL"||i==="B"||i==="TR"||i==="IR"||i==="PLT")&&(r[i]=n[i]);return r["C.TR"]&&r["C.TR"].indexOf("0-")==0&&r.TR&&(u=r.TR.substring(0,r.TR.indexOf(":")),r["C.TR"]=r["C.TR"].replace("0-",u+".")),n["L.ttg"]&&(r[t.timingPrefix+"g"]=n["L.ttg"]),r}var a=window,p=a.$Beacon,g=a.$Cookie,gt=a.$Utility,vr=a.Debug;var ot="BP",yr="-",hi=40,ni="wlidperf",ci="wl_preperf",w="FR",nt="ST",b=null,h="",li=5e3,t=$CSIPerf;t.GT1Param=null,t.payloadLength=0,t.TTxDeferred=n.Deferred(),t.ttxDeferred=n.Deferred(),t.payloadHash={},t.fireOnLoad=!0,t.timingPrefix="T.";var pr=[],f=0,wr=b,k={},st={},ht,tt,it={},r=a.$Config,u=r.BSI||{},c=u.SBSPLT||{},i=u.CSIPerf||{},ti=i.IDSS||{},ct=i.Trace||{},lt=i.page||{},ii=i.WLXFD||{},v=g.getCookie,ri=g.setCookie,at=gt.serialize,rt=gt.deserialize,e=rt(v(ni,1)),l=rt(v(ci,1)),ut=u.ir,ft=h;t.lapseTimer=function(n,i){var r;r=i&&i>0?i:y(wt()),t.lapse.push({s:n,t:r})},t.setUploadTP=function(n,t,i,r){var f={dir:"up",sz:n,ti:t,d:r,pn:u.pn,ext:i};si(f)},t.setDownloadTP=function(n){var t={dir:"down",pn:u.pn,rate:n};si(t)},t.startTrace=function(n,t,i){return new hr(n,t,i)},t.endTrace=function(){},t.setPerformanceId=function(n){ft=d(n,20)},t.addCsd=function(n,t){kt(k,n,t)},t.csdContains=function(n){return k[n]},t.addNtd=function(n,t){kt(st,n,t)},t.clearTTxDeferred=function(){t.TTxDeferred=null},t.fireCsiPerfBeacon=function(){p.fire(u.BICI.beaconUrl,t.payloadHash),yt(),t.ttxDeferred=n.Deferred(),t.payloadHash={}},t.addTTxEvent=function(n,i){t.ttxDeferred&&t.ttxDeferred.done(function(r){t.payloadHash[t.timingPrefix+n]=i-r})},t.dontFireOnLoad=function(){t.fireOnLoad=!1,$BSI.sendToIdss(!1)},$BSI.addLoadedCallback(fr),$BSI.addNavCallback(or)}(window.originaljQuery||jQuery),function(){function w(t){var i=t.error;i&&(t.errorCode=t.errorCode||n.getErrorCode(i),t.stackTrace=t.stackTrace||i.stack,t.resultDetails=t.resultDetails||{},i.name&&(t.resultDetails.name=i.name),i.message&&(t.resultDetails.message=i.message))}function f(){var u,i,f;r&&(t.clearTimeout(r),r=null),u=t.$Config,i=u.ContactCache,i&&i.logEnabled&&(f=JSON.stringify({actions:n.actionHistory}),n.actionHistory=[],$Network.fetchXML(u.handlerBaseUrl+"/Handlers/PeopleApi/log.mvc?canary="+i.canary.encodeURIComponent(),function(){},"POST",f))}function b(i){var u=window.$Config.ContactCache,e;u&&(e=u.logVerbose,e&&c(i),n.actionHistory.length>=u.actionHistoryMaxLength?(u&&u.logVerbose&&f(),n.actionHistory.shift()):u.logVerbose&&u.logEnabled&&!r&&(r=t.setTimeout(f,5e3)),n.actionHistory.push(i))}function c(n){var i,r;if(t[u]&&t[u][s]){if(i=[n.eventType],n.message&&i.push(n.message),n.resultCode&&i.push(n.resultCode),n.stackTrace&&i.push(n.stackTrace),n.resultDetails)for(r in n.resultDetails)i.push(r+":"+n.resultDetails[r]);t[u][s]("People: "+i.join(" - "))}}var t=window,e=t.wLive,l=e.People={},o=t.$ScenarioQoS,a=e.ScenarioQoSStats,i="WL_People_Cache",u="console",v="error",y="errorType",s="log",p="undefined",h={MissingTicket:{type:"c"},PassportAuthFail:{type:"c"},InvalidPassportUser:{type:"c"},"401":{type:"c"},"5000":{type:"f",name:"ProxyLoadFailure"},CantAccessIframeStorage:{type:"c"},"15":{type:"c"},"18":{type:"c"},"22":{type:"c",name:"StorageExceededOrDisabled"},NoStorage:{type:"c"}},r,n=l.Reporter={isQosEnabled:!1,lastError:null,actionHistory:[],logAction:function(t){n.log({eventType:t})},logError:function(t,i,r){n.log({eventType:t,error:i},r)},logDetails:function(t,i,r){n.log({eventType:t,resultDetails:i},r)},log:function(n,t){n&&n.eventType&&(w(n),b(n),t&&f())},verbose:function(){for(var i,t=0;t<n.actionHistory.length;t++)c(n.actionHistory[t]);i=window.$Config.ContactCache,i&&(i.logVerbose=!0)},handleError:function(t,i,r,u,f,e,o,s,h,c){n.log({eventType:"PageError",resultCode:u,stackTrace:o,resultDetails:{message:t,jsUrl:i,jsLine:r,data:h,hostname:f,action:s,isHidden:c}},!0)},startScenario:function(t){var r=i+"_"+t;return n.isQosEnabled?o.startScenario(r,i):null},stopScenario:function(t,i,r){var u,e,f,s,c;r&&!n.lastError&&(n.lastError=r),n.isQosEnabled&&(u=undefined,e=!1,!i&&r&&(f=h[r],f&&f.type&&(u=f.type,e=u==="f")),t.id&&(s=!i,c=i?null:r,n.log({eventType:t.id,resultCode:c,success:i,isQosImpacting:e},s)),o.stopScenario(t,i,r,u))},addStats:function(t,r,u,f){var c=i+"_"+t,e=u?h[u]:null,o=e&&e.name?e.name:u,l,p,s;o&&(this.lastError=o),l=e?e.type=="f":!1,p=f?f.id:null,n.log({eventType:c,resultCode:o,success:!!u,isQosImpacting:l,resultDetails:{api:c,property:i,scenario:p}}),n.isQosEnabled&&f&&(s={api:c,dependent:i},e&&(s[y]=e.type),o&&(s[v]=o),a.add(s,r,f))},getErrorCode:function(n,t){return t=t||"Unknown",n.errorCode?n.errorCode:n.code?n.code:t},isNullOrUndefined:function(n){return typeof n===p||n==null}}}(),function(n){function c(o,h){function k(){t.clearTimeout(y),y=t.setTimeout(d,s)}function c(){a&&(h&&h(),a=!1),k()}function d(){a||(o&&o(),a=!0)}var v=this,p=i.IE?"MSPointerDown":"touchstart",w=i.IE?"MSPointerMove":"touchmove",b=i.IE?"MSPointerUp":"touchend",y,a=!1,l=n(t.document);l.bind(e,c),l.bind(u,c),l.bind(f,c),l.bind(p,c),l.bind(w,c),l.bind(b,c),c(),v.dispose=function(){t.clearTimeout(y),n(t).unbind(r,v.dispose);try{l.unbind(e,c),l.unbind(u,c),l.unbind(f,c),l.unbind(p,c),l.unbind(w,c),l.unbind(b,c)}catch(i){}o=null,h=null},n(t).bind(r,v.dispose)}var s=3e5,r="unload",u="mousedown",f="mousewheel",e="keydown",t=window,h=t.wLive,o=h.People,l=o.Reporter,i=t.$B;o.IdleTimer=c}(window.originaljQuery||jQuery),function(){function o(n,t,f,e,o){function v(n){return c(n,["personal","work","other"])}function w(n){return c(n,["mobile","home","home2","work","work2","pager","homeFax","workFax","mobile2","companyPhone","other"])}function c(n,t,i){var f={},u;if(n)for(u=0;u<t.length;u++)r.Reporter.isNullOrUndefined(n[u])||(f[t[u]]=i?c(n[u],i):n[u]);return f}function y(){return t||"0"}function a(n){var t=p[n];return t||(t=k(n),p[n]=t),t}function k(n){for(var r=n.split("|"),t=["if (!firstName && !lastName) { return null }; var n = [], s = '';"],f,i=0,e=r.length;i<e;i+=2)f=u[r[i]],t.push("if ("+f+") {"),t.push(" if (n.length) { n.push(s); } "),t.push(" n.push("+f+"); "),t.push("s = '"+r[i+1]+"';"),t.push("} else {s = s || '"+r[i+1]+"';}");return t.push("return n.join('').trim();"),new Function("title","firstName","middleName","lastName","suffix",t.join(""))}function d(n,t,i,r,u){return b(n,t,null,r,u)}function b(n,t,i,r,u){var f=[];return!t&&!r?null:(r&&f.push(r),u&&r&&(f.push(" "),f.push(u)),t&&(r&&f.push(", "),n&&(f.push(n),f.push(" ")),f.push(t)),i&&(!t&&r?f.push(", "):f.push(" "),f.push(i)),f.join("").trim())}for(var h=this,p=[],s,l=0;l<=11;l++)s=i[l+""],s.fullName=a(s.fn),s.fullNameReverse=s.lnf?s.fullName:b,s.displayName=a(s.dn),s.displayNameReverse=s.lnf?s.displayName:d,s.sortName=a(s.sn),s.sortNameReverse=s.snr?a(s.snr):s.sortName;h.noNameString=f||"",h.profileUrl=e||"",h.photosUrl=o||"",h.isLastNameFirst=function(){return n},h.formatName=function(n,t,r,u,f,e,o){var s=n||y(),h=i[s][t];return h(r,u,f,e,o)},h.getDefaultNameType=y,h._isLastNameFirstForNameType=function(n){n=n||y();var t=i[n];return t&&t.lnf},h._buildDate=function(n){var t=null;return n&&(t=c(n,["year","month","day"]),(t.year==1900||t.year==1904)&&(t.year=null)),t},h._buildEmails=v,h._buildEmailFlags=function(n){return v(n)},h._buildEmailCapabilities=function(n){return v(n)},h._buildPhones=w,h._buildPhoneFlags=function(n){return w(n)},h._buildAddresses=function(n){return c(n,["home","work","other"],["street","city","state","zipCode","country"])}}var n="F| |L",t="L| |F",i={"0":{fn:"T| |F| |M| |L| |S",dn:"T| |F| |L| |S",sn:n,snr:t,lnf:!1},"1":{fn:"F| |L| |M| |T| |S",dn:"F| |L| |T| |S",sn:n,snr:t,lnf:!1},"2":{fn:"F| |L| |M| |T| |S",dn:"F| |L| |T| |S",sn:n,snr:t,lnf:!1},"3":{fn:"F| |M| |L| |T| |S",dn:"F| |L| |T| |S",sn:n,snr:t,lnf:!1},"4":{fn:"F| |M| |L| |T| |S",dn:"F| |L| |T| |S",sn:n,snr:t,lnf:!1},"5":{fn:"L| |F| |M| |T| |S",dn:"L| |F| |T| |S",sn:"L| |F",lnf:!0},"6":{fn:"T| |F| |M| |L| |S",dn:"T| |F| |L| |S",sn:n,snr:t,lnf:!1},"7":{fn:"T| |F| |L| |M| |S",dn:"T| |F| |L| |S",sn:n,snr:t,lnf:!1},"8":{fn:"T| |L||F| |M| |S",dn:"T| |L||F| |S",sn:"L||F",lnf:!0},"9":{fn:"T| |L| |F| |M| |S",dn:"T| |L| |F| |S",sn:"L| |F",lnf:!0},"10":{fn:"T| |L| |F| |M| |S",dn:"T| |L| |F| |S",sn:"L| |F",lnf:!0},"11":{fn:"T| |L| |M| |F| |S",dn:"T| |L| |F| |S",sn:"L| |F",lnf:!0}},u={T:"title",F:"firstName",M:"middleName",L:"lastName",S:"suffix"},f=window,e=f.wLive,r=e.People;r.Names=o}(),function(n){function i(n,t){var i=this;i._c=n,i._mri=t,i._aa=!1,i._p=0,i._ccl=!1,i._cch=!1,i._cgch=!1}var r="changed",t;window.wLive.People.MessagingAddress=i,t=i.prototype,t.isActiveAddress=function(){return this._aa},t.getPresence=function(){return this._p},t.canCall=function(){return this._ccl},t.canChat=function(){return this._cch},t.canGroupChat=function(){return this._cgch},t.getDifferentiator=function(){var i=this,n=i._c,t=n.getSourceId();return t=="GOOG"?i._getMri():t=="SCD"||t=="SKYPE"?n.getNickname():n.getDisplayNameWithFallback()},t._getContact=function(){return this._c},t._getMri=function(){return this._mri},t._setProperty=function(t,i,u,f,e){(this._aa!=t||this._p!=i||this._ccl!=u||this._cch!=f||this._cgch!=e)&&(this._aa=t,this._p=i,this._ccl=u,this._cch=f,this._cgch=e,n(this._getContact().getPerson()).triggerHandler(r))}}(window.originaljQuery||jQuery),function(){function t(n,t,i){var r=this;r._d=n,r._pd=t,r._n=i,r._b=n[2],r._a=null,r._an=null}var i=window.wLive.People,n;i.ContactDetails=t,n=t.prototype,n.getAddresses=function(){var n=this;if(!n._a){var t=n._b,i=n._pd[24]||[],r=n._d[25]||[],u=[t&65536?i[0]:r[0],t&131072?i[1]:r[1],t&262144?i[2]:r[2]];n._a=n._n._buildAddresses(u)}return n._a},n.getSignificantOther=function(){var n=this;return n._b&1048576?n._pd[25]:n._d[26]},n.getAnniversary=function(){var n=this,t;return n._an||(t=n._b&1048576?n._pd[26]:n._d[27],n._an=n._n._buildDate(t)),n._an},n.getWebsite=function(){var n=this;return n._b&2097152?n._pd[27]:n._d[28]},n.getJobTitle=function(){var n=this;return n._b&16?n._pd[28]:n._d[29]},n.getNotes=function(){var n=this;return n._b&4194304?n._pd[29]:n._d[30]}}(),function(){function r(n,t,i,r){var u=this;u._d=n,u._p=t,u._pd=i,u._n=r,u._b=n[2],u._cd=null,u._bd=null,u._e=null,u._eie=null,u._ec=null,u._ph=null,u._m=null,u._pie=null}var t=8,i=window.wLive.People,n;i.ContactState={deleted:-1,shell:0,meContact:1,pending:2,follower:3,twoWay:4,rolodex:5,nonFriend:6,declined:7,implicitContact:8,shellContactFanPage:9,enhancedShellContact:10,implicitShellContact:11,invitationShellContact:12},i.Contact=r,n=r.prototype,n.getPerson=function(){return this._p},n.getId=function(){var n=this;return n._b&1?n._pd[0]:n._d[0]},n.getPassportMemberName=function(){var n=this;return n._d[4]==="WL"?n._p.getPassportMemberName():null},n.getMessagingAddresses=function(){var n=this,r,t;if(!n._m)for(n._m=[],r=n.getMris(),t=0;t<r.length;t++)r[t]&&n._m.push(new i.MessagingAddress(n,r[t]));return n._m},n.getDisplayName=function(){var n=this;return n._n.formatName(n.getNameType(),"displayName",n.getTitle(),n.getFirstName(),n.getMiddleName(),n.getLastName(),n.getSuffix())},n.getFullName=function(){var n=this;return n.getOrderedName()||n._n.formatName(n.getNameType(),"fullName",n.getTitle(),n.getFirstName(),n.getMiddleName(),n.getLastName(),n.getSuffix())},n.getDisplayNameWithFallback=function(){var t=this,n=t.getDisplayName(),r,i;return n=n||t.getNickname(),n=n||t.getCompanyName(),n=n||t.getPassportMemberName(),n||(r=t.getEmails(),n=n||r.personal,n=n||r.work,n=n||r.other),n||(i=t.getPhones(),n=n||i.mobile,n=n||i.home,n=n||i.home2,n=n||i.work,n=n||i.work2,n=n||i.other),n||t._n.noNameString},n.getContactState=function(){return this._d[1]},n.getPromotionBitmap=function(){return this._b},n.getMris=function(){return this.getPerson().isMe()?["1:"+this.getPerson().getPassportMemberName()]:this._props()[0]||[]},n.getIsHidden=function(){return this._props()[1]},n.getOfflineImEnabled=function(){return this._props()[2]},n.getSourceId=function(){return this._d[4]},n.getObjectId=function(){return this._d[5]},n.getDomainTag=function(){return this._d[6]},n.getFirstName=function(){var n=this;return n._b&t?n._pd[2]:n._d[7]},n.getMiddleName=function(){var n=this;return n._b&t?n._pd[18]:n._d[18]},n.getLastName=function(){var n=this;return n._b&t?n._pd[3]:n._d[8]},n.getTitle=function(){var n=this;return n._b&t?n._pd[19]:n._d[20]},n.getSuffix=function(){var n=this;return n._b&t?n._pd[20]:n._d[21]},n.getEmails=function(){var n=this;if(!n._e){var t=n._b,i=n._pd[4],r=n._d[9]||[],u=[t&32?i[0]:r[0],t&64?i[1]:r[1],t&128?i[2]:r[2]];n._e=n._n._buildEmails(u)}return n._e},n.getPrimaryEmail=function(){var t=this,n=t.getEmails();return n.personal||n.work||n.other||t.getPassportMemberName()},n.getPhones=function(){var r=this;if(!r._ph){var n=r._b,t=r._pd[5],i=r._d[10]||[],u=[n&256?t[0]:i[0],n&512?t[1]:i[1],n&1024?t[2]:i[2],n&2048?t[3]:i[3],n&4096?t[4]:i[4],n&8192?t[5]:i[5],n&16384?t[6]:i[6],n&32768?t[7]:i[7],n&8388608?t[8]:i[8],n&16777216?t[9]:i[9],n&33554432?t[10]:i[10]];r._ph=r._n._buildPhones(u)}return r._ph},n.getCompanyName=function(){var n=this;return n._b&16?n._pd[10]:n._d[11]},n.getUserTile=function(){var n=this;return n._b&4?n._pd[11]:n._d[12]},n.getEmailImEnabled=function(){var n=this;return n._eie||(n._eie=n._n._buildEmailFlags(n._d[13])),n._eie},n.getEmailCapabilities=function(){var n=this;return n._ec||(n._ec=n._n._buildEmailCapabilities(n._d[14])),n._ec},n.getPhoneImEnabled=function(){var n=this;return n._pie||(n._pie=n._n._buildPhoneFlags(n._d[15])),n._pie},n.getFavoriteOrder=function(){return this._d[16]},n.getBirthday=function(){var n=this,t;return n._bd||(t=n._bd&524288?n._pd[16]:n._d[17],n._bd=n._n._buildDate(t)),n._bd},n.getNickname=function(){var i=this,n=i._b&t?i._pd[17]:i._d[19],r=i.getSourceId();return r&&r.toUpperCase()==="TWITR"&&n&&!n.startsWith("@")&&(n="@"+n),n},n.getYomiFirstName=function(){var n=this;return n._b&t?n._pd[21]:n._d[22]},n.getYomiLastName=function(){var n=this;return n._b&t?n._pd[22]:n._d[23]},n.getYomiCompanyName=function(){var n=this;return n._b&t?n._pd[23]:n._d[24]},n.getOrderedName=function(){var n=this;return n._b&t?n._pd[30]:n._d[31]},n.getNameType=function(){var n=this;return n._b&t?n._pd[31]:n._d[32]},n.getSkypeId=function(){return this._d[34]},n.getIsAnonymous=function(){return this._d[35]},n.getLinkedMsa=function(){return this._d[36]},n.getLinkedFacebookId=function(){return this._d[37]},n.getIsBidirectional=function(){return this._d[38]},n.getSkypePendingOutbound=function(){return this._d[39]},n.getIsBlocked=function(){return this._d[40]},n.getDetails=function(){var n=this;return n._cd||(n._cd=new i.ContactDetails(n._d,n._pd,n._n)),n._cd},n._props=function(){return this._d[3]||[]}}(),function(){function t(n,t){var i=this;i._d=n,i._n=t,i._a=null,i._an=null}var i=window.wLive.People,n;i.PersonDetails=t,n=t.prototype,n.getAddresses=function(){var n=this;return n._a||(n._a=n._n._buildAddresses(n._d[24])),n._a},n.getSignificantOther=function(){return this._d[25]},n.getAnniversary=function(){var n=this;return n._an||(n._an=n._n._buildDate(n._d[26])),n._an},n.getWebsite=function(){return this._d[27]},n.getJobTitle=function(){return this._d[28]},n.getNotes=function(){return this._d[29]},n.getAntilinks=function(){return this._d[32]}}(),function(n){function r(t,i){var r=this;r._d=t,r._n=i,r.$changes=n(this),r._c=null,r._e=null,r._p=null,r._b=null,r._ce=null,r._pd=null,r._m=null}var u=window,i=u.wLive.People,t;i.Person=r,t=r.prototype,t.getId=function(){return this._d[0]},t.getContacts=function(){var n=this,t,r;if(!n._c&&(n._c=[],t=this._d[1],t))for(r=0;r<t.length;r++)n._c.push(new i.Contact(t[r],n,n._d,n._n));return n._c},t.getMessagingRelevance=function(){var n=parseInt(this._d[33]);return isNaN(n)&&(n=0),n},t.getPeopleRelevance=function(){var n=parseInt(this._d[34]);return isNaN(n)&&(n=0),n},t.getMessagingAddresses=function(){var r=this,t,i,n;if(!r._m){for(t=r.getContacts(),i=[],n=0;n<t.length;n++)t[n].getSourceId()=="SKYPE"&&i.addRange(t[n].getMessagingAddresses());for(n=0;n<t.length;n++)t[n].getSourceId()=="WL"&&i.addRange(t[n].getMessagingAddresses());for(n=0;n<t.length;n++)t[n].getSourceId()!="SKYPE"&&t[n].getSourceId()!="WL"&&i.addRange(t[n].getMessagingAddresses());r._m=i}return r._m},t.isOnline=function(n){for(var r=this,i=r.getMessagingAddresses(),t=0;t<i.length;t++)if((!n||i[t].isActiveAddress())&&i[t].getPresence()==1)return!0;return!1},t.canCall=function(n){for(var r=this,i=r.getMessagingAddresses(),t=0;t<i.length;t++)if((!n||i[t].isActiveAddress())&&i[t].canCall())return!0;return!1},t.canChat=function(n){for(var r=this,i=r.getMessagingAddresses(),t=0;t<i.length;t++)if((!n||i[t].isActiveAddress())&&i[t].canChat())return!0;return!1},t.canGroupChat=function(n){for(var r=this,i=r.getMessagingAddresses(),t=0;t<i.length;t++)if((!n||i[t].isActiveAddress())&&i[t].canGroupChat())return!0;return!1},t.getDisplayName=function(){var n=this;return n._n.formatName(n.getNameType(),"displayName",n.getTitle(),n.getFirstName(),n.getMiddleName(),n.getLastName(),n.getSuffix())},t.getFullName=function(){var n=this;return n.getOrderedName()||n._n.formatName(n.getNameType(),"fullName",n.getTitle(),n.getFirstName(),n.getMiddleName(),n.getLastName(),n.getSuffix())},t.getDisplayNameWithFallback=function(){var t=this,n=t.getDisplayName(),r,i;return n=n||t.getNickname(),n=n||t.getCompanyName(),n=n||t.getPassportMemberName(),n||(r=t.getEmails(),n=n||r.personal,n=n||r.work,n=n||r.other),n||(i=t.getPhones(),n=n||i.mobile,n=n||i.home,n=n||i.home2,n=n||i.work,n=n||i.work2,n=n||i.other),n||t._n.noNameString},t.isLastNameFirst=function(){var n=this,t=n.getNameType();return n._n._isLastNameFirstForNameType(t)},t.getProfileUrl=function(){var n=this,t=n._d[7];return t?n._n.profileUrl.replace("{cid}",n._d[7]):""},t.getPhotosUrl=function(){var n=this,t=n._d[7];return t?n._n.photosUrl.replace("{cid}",n._d[7]):""},t.isMe=function(){var n=this._d[1][0];return n&&n[1]===1},t.isPendingInbound=function(){for(var i=this._d[1],r=!1,u=Math.min(i.length,3),t,n=0;n<u;n++)if(t=i[n],t&&t[1]===2){r=!0;break}return r},t.isHidden=function(){for(var i=this._d[1],r=!1,u=Math.min(i.length,3),n,t=0;t<u;t++)if(n=i[t],n&&(n[1]===6&&n[3]&&n[3][1]===1||n[1]===2)){r=!0;break}return r},t.isFanPage=function(){var n=this._d[1][0];return n&&n[1]===9},t.getFirstName=function(){return this._d[2]},t.getLastName=function(){return this._d[3]},t.getEmails=function(){var n=this;return n._e||(n._e=n._n._buildEmails(n._d[4])),n._e},t.getPhones=function(){var n=this;return n._p||(n._p=n._n._buildPhones(n._d[5])),n._p},t.getCid=function(){return this._d[6]},t.getHexCid=function(){return this._d[7]},t.getOnHideList=function(){return this._d[8]},t.getTrustLevel=function(){return this._d[9]},t.getCompanyName=function(){return this._d[10]},t.getUserTile=function(){return this._d[11]},t.getCategoryIds=function(){return this._d[12]?this._d[12]:[]},t.getIsFavorite=function(){return this._d[13]},t.getFavoriteOrder=function(){return this._d[14]},t.getPassportMemberName=function(){return this._d[15]},t.getBirthday=function(){var n=this;return n._b||(n._b=n._n._buildDate(n._d[16])),n._b},t.getNickname=function(){return this._d[17]},t.getMiddleName=function(){return this._d[18]},t.getTitle=function(){return this._d[19]},t.getSuffix=function(){return this._d[20]},t.getYomiFirstName=function(){return this._d[21]},t.getYomiLastName=function(){return this._d[22]},t.getYomiCompanyName=function(){return this._d[23]},t.getOrderedName=function(){return this._d[30]},t.getNameType=function(){return this._d[31]||this._n.getDefaultNameType()},t.getVersion=function(){return this._d[35]},t.getContactEmails=function(){function f(n,t,i){if(i){var r=i.toLowerCase();t[r]||(t[r]=1,n.push(i))}}var n=this,r,u;if(!n._ce){var t=[],i={},e=n.getContacts();for(r=0;r<e.length;r++)u=e[r].getEmails(),f(t,i,u.personal),f(t,i,u.work),f(t,i,u.other);f(t,i,n.getPassportMemberName()),n._ce=t}return n._ce},t.getDetails=function(){var n=this;return n._pd||(n._pd=new i.PersonDetails(n._d,n._n)),n._pd},t._update=function(n){var t=this;t._d=n,t._c=null,t._e=null,t._p=null,t._b=null,t._ce=null,t._pd=null,t._m=null},t._getHashKeys=function(){for(var u=this,n=u._d,i=[n[0],n[6],n[7]],r=n[1]||[],t=0;t<r.length;t++)i.push(r[t][0]);return i}}(window.originaljQuery||jQuery),function(n){function i(t){this._d=t,this.$changes=n(this)}window.wLive.People.Group=i;var t=i.prototype;t.getId=function(){return this._d[0]},t.getName=function(){return this._d[1]},t.getCid=function(){return this._d[2]},t.getHexCid=function(){return this._d[3]},t.getEmail=function(){return this._d[4]},t._update=function(n){return this._d=n},t._getHashKeys=function(){return[this._d[0]]}}(window.originaljQuery||jQuery),function(n){function i(t){this._d=t,this.$changes=n(this)}window.wLive.People.Category=i;var t=i.prototype;t.getId=function(){return this._d[0]},t.getName=function(){return this._d[1]},t.getIsFavorite=function(){return this._d[2]},t._update=function(n){return this._d=n},t._getHashKeys=function(){return[this._d[0]]}}(window.originaljQuery||jQuery),function(n){function i(t){this._d=t,this.$changes=n(this)}window.wLive.People.Service=i;var t=i.prototype;t.getId=function(){return this._d[0]},t.getName=function(){return this._d[1]},t.getTokenState=function(){return this._d[2]},t.getSupportsIm=function(){return this._d[3]},t.getSupportsContactAgg=function(){return this._d[4]},t.getIconUrlThumbnail=function(){return this._d[5]},t.getIconUrlMiniPhoto=function(){return this._d[6]},t.getIconUrlLargePhoto=function(){return this._d[7]},t.getProfileUrl=function(){return this._d[8]},t.getPhotosUrl=function(){return this._d[9]},t.getSendMessageUrl=function(){return this._d[10]},t.getReportAbuseUrl=function(){return this._d[11]},t.getRank=function(){return this._d[12]},t.getOnHideList=function(){return this._d[13]},t._getHashKeys=function(){return[this._d[0]]},t._update=function(n){this._d=n}}(window.originaljQuery||jQuery),function(n){function i(t){this._d=t,this.$changes=n(this)}var t=i.prototype;t.getMessengerTrustLevel=function(){return this._d[0]},t.getImHistoryEnabled=function(){return this._d[1]==1},t.getAbSettings=function(){return this._d[2]},t.getWebIMSettings=function(){return this._d[3]},t.getSkypePendingInboundCount=function(){return this._d[4]},window.wLive.People.Settings=i}(window.originaljQuery||jQuery),function(){function r(t){function f(n,t){var f,i,r;for(t=t||!1,f=n.length,i=0;i<f;i++){var s=n[i],u=s._getHashKeys(),h=u.length;for(r=0;r<h;r++)t?e(u[r]):o(u[r],n[i])}}function e(n){n&&u[n]&&delete u[n]}function o(t,i){n.Reporter.isNullOrUndefined(t)||(u[t]=i)}var r=this,i=!1,u=[];r.get=function(n){return i||(i=!0,r.update(t)),u[n]||null},r.clear=function(){i=!1,u=[]},r.update=function(n,u){!i&&u&&(i=!0,r.update(t)),i&&f(n,!1)},r.removeItemByKey=function(n){i&&e(n)},r.remove=function(n){i&&f(n,!0)}}var t=window,i=t.wLive,n=i.People;n.LazyHash=r}(),function(){function o(r,e,o){function p(i){t.logAction("Pwc_XmlProxyCallback");var f=i.status,r=null;f==200?(s.window=w(),s.window||(t.logAction("Pwc_XmlProxyIframeNotFound"),r=n.document.domain!=l.domain?"HostDomainInvalid":c?c:"UnknownProxyFailure")):r=f,t.addStats(u,y,r,e),o&&o()}function w(){for(var f=null,e=n.document.getElementsByTagName("iframe"),i,u,r=0,o=e.length;r<o;r++)try{if(i=e[r],u=i.contentDocument?i.contentDocument:i.contentWindow.document,u&&u.location.href==h){f=i.contentWindow||i.contentDocument.parentWindow;break}}catch(s){t.logError("Pwc_FindProxyIframeFailure",s)}return f}function v(t){t.origin==n.location.protocol+"//"+r&&t.data&&t.data.startsWith&&t.data.startsWith("pwc:")&&(c=t.data.substring(4))}var s=this,h,y=+new Date,a,c,l=n.$Config;if(s.window=null,n.addEventListener)try{n.addEventListener(i,v,0),a=!0}catch(b){}h=n.location.protocol+"//"+r+"/xmlProxy.htm?vn="+n.$Version.encodeURIComponent()+"&domain="+(l.d||l.domain).encodeURIComponent(),f.fetchXML(h,p,"GET",null,null),s.dispose=function(){a&&n.removeEventListener&&n.removeEventListener(i,v,0)}}var i="message",u="LoadXmlProxy",n=window,f=n.$Network,r=n.wLive,e=r.People,t=e.Reporter;r.People.CrossDomainProxy=o}(),function(){function f(){var r=this,f=[],u=null;r.errorCode=null,r.setProxyWindow=function(f,e){var h,o,s;try{h=e?e:i,o=f?h.localStorage:h.sessionStorage,o?(s="st_"+Math.round(Math.random()*1e5),o.setItem(s,s),o.getItem(s)==s?(o.removeItem(s),u=o):r.errorCode="GetTestValueFailed"):r.errorCode=e?"CantAccessIframeStorage":"NoStorage"}catch(c){n.logError("Pwc_RestoreAbError",c),r.errorCode=t(c)}e&&r.errorCode&&r.setProxyWindow(!1)},r.remove=function(i){if(u)try{u.removeItem(i)}catch(e){n.logError("Pwc_StorageRemove",e),r.errorCode=t(e)}else delete f[i]},r.get=function(i,e){var o;if(u)try{o=u.getItem(i)}catch(s){n.logError("Pwc_StorageGet",s),r.errorCode=t(s)}else o=f[i];return n.isNullOrUndefined(o)&&(o=e),o},r.getDate=function(i){var u=r.get(i),f;if(u)try{return f=parseInt(u),new Date(f)}catch(e){n.logError("Pwc_StorageGetDate",e),r.errorCode=t(e)}return new Date(1)},r.getInt=function(i,u){var f=r.get(i);if(f)try{return parseInt(f)}catch(e){n.logError("Pwc_StorageGetInt",e),r.errorCode=t(e)}return u||0},r.set=function(i,e){if(u)try{u.setItem(i,e)}catch(o){n.logError("Pwc_StorageSet",o),r.errorCode=t(o)}else f[i]=e},r.setDate=function(n,t){t&&r.set(n,t.getTime())},r.dispose=function(){f=null,u=null}}var i=window,u=i.wLive,r=u.People,n=r.Reporter,t=n.getErrorCode;r.StorageProxy=f}(),function(){function d(k,d,g,nt,tt){function st(n,r,u){for(var c=n.getInt(r+t,-1),l=u.length,h=[],o,e,s,f=0;f<=c;f++){for(o={},e=0;e<l;e++)if(s=n.get(r+u[e]+f,null),s!=null)o[u[e]]=s;else return i.logAction("Pwc_GetIncrementalResponsesMissingKey"),[];h[f]=o}return h}function et(){i.logAction("Pwc_ClearAb"),it.remove(l),it.remove(c),it.remove(h),it.remove(r),it.remove(u),it.remove(n),it.remove(e),it.remove(f),ot(it,o,[v,y])}function ht(n,i,r){var f=n.getInt(i+t,-1)+1,u;n.set(i+t,f);for(u in r)typeof u=="string"&&n.set(i+u+f,r[u])}function ot(n,i,r){var e,o,u,f;if(n){for(e=n.getInt(i+t,-1),o=r.length,u=0;u<=e;u++)for(f=0;f<o;f++)n.remove(i+r[f]+u);n.remove(i+t)}}var rt=this,ft=null,it=new w,ut=new w;rt.init=function(n){function t(){var n=ft.window?ft.window:p;n&&(it.setProxyWindow(d,n),ut.setProxyWindow(!0,n),(it.get(l)!==g||it.get(c)!==nt)&&et()),tt&&tt()}ft=new s.CrossDomainProxy(k,n,t)},rt.setFullSyncRequired=function(n){it.set(e,n)},rt.getFullSyncRequired=function(){return it.get(e)},rt.setFullAb=function(t,s,a){var w=+new Date,p;try{it.errorCode=null,ot(it,o,[v,y]),it.remove(f),it.set(l,g),it.set(h,t),it.set(c,nt),it.setDate(r,a),it.setDate(u,a),it.remove(n),it.remove(e),p=it.errorCode}catch(k){i.logError("Pwc_SetFullAb",k),p=i.getErrorCode(k)}i.addStats(b,w,p,s)},rt.clearAbErrorCode=function(){var n=it.errorCode;return it.errorCode=null,n},rt.getFullAb=function(){return it.get(h,null)},rt.setLastFullSync=function(n){it.setDate(r,n)},rt.getLastFullSync=function(){return it.getDate(r)},rt.setDeltaSyncRequired=function(t){it.set(n,t)},rt.getDeltaSyncRequired=function(){return it.get(n)},rt.removeDeltaSyncRequired=function(){it.remove(n)},rt.setAbDelta=function(n,t){ht(it,o,{json:n,syncKey:t})},rt.getAbDeltas=function(){return st(it,o,[v,y])},rt.setLastDeltaSync=function(n){it.setDate(u,n)},rt.getLastDeltaSync=function(){return it.getDate(u)},rt.setDeltaSyncCount=function(n){it.set(f,n)},rt.getDeltaSyncCount=function(){return it.getInt(f)},rt.setHost=function(n){ut.set(a,n)},rt.getHost=function(n){return ut.get(a,n)},rt.clearHost=function(){ut.remove(a)},rt.clearAb=et,rt.dispose=function(){ft&&(ft.dispose(),ft=null),it&&(it.dispose(),it=null),ut&&(ut.dispose(),ut=null)}}var b="PersistAB",h="fullSyncResponse",c="mkt",l="abCid",r="lastFullSync",u="lastDeltaSync",n="deltaSyncRequired",f="deltaSyncCount",e="fullSyncRequired",o="deltaSyncResponse",a="preferredHostName",t="_e",v="json",y="syncKey",p=window,k=p.wLive,s=k.People,w=s.StorageProxy,i=s.Reporter;s.Store=d}(),function(){function nt(h,g,nt,tt,it,rt){function ft(n,t){this.errorCode=t,this.message=n}function et(t){var i={};return i.Pragma="no-cache",i["Cache-Control"]="no-cache",i.Expires="-1",n.isQosEnabled&&t&&u.$ScenarioQoS.addScenarioToHttpHeader(i,t),i}function ot(t,r){var o,f,e;if(o=h.getHost(nt),f="&cbus="+Math.random(),!n.isNullOrUndefined(r))for(e in r)f+="&"+e+"="+r[e].encodeURIComponent();return u.location.protocol+"//"+o+"/people/"+t+"?SerializeAs=compact"+s+g.encodeURIComponent()+"&appid="+tt.encodeURIComponent()+"&version="+i.encodeURIComponent()+f}function lt(n){return it+"/Handlers/PeopleApi/"+n+".mvc"}function at(n){var t=yt(n),r;return t&&t.length>0&&t[0]==i?r=t[1]:[]}function st(t,i,r,u,o,s,c){var l=null,v=null,y=[],a;ct(t)||(l=ht(t));try{v=wt(t.responseText),y=vt(v,c)}catch(p){n.logError("Pwc_PeopleParseError",p,!0),a=l,l=n.getErrorCode(p,l?l:e),l=="MissingTicket"||l=="PassportAuthFail"||l==f||n.isNullOrUndefined(a)||a=="200"||(l=a+"_"+l)}n.addStats(i,o,pt(t,l),s),l==null?(bt(t),r(t,v,y)):(h.clearHost(),u(t,l))}function vt(n,t){var r,u=null,e=yt(n),o,s;if(e&&e.length?(o=e[1],o?o.length>=2?(u=o[0]||"EmptyEvalOrAbError",r=o[1]||"Unspecified error returned",(u==f||u=="BadArgument"&&(r.toLowerCase().indexOf("resolve the caller")!=-1||r.toLowerCase().indexOf("ticket")!=-1))&&(r="Invalid passport user",u=f)):(r="Invalid error response",u="InvalidErrorResponse"):(s=e[0],s?t||s[2]==i||(r="Schema mismatch (expected: {0}, returned: {1})".format(i,s[2]||""),u="SchemaMismatch"):(r="Data is missing in the response",u="EmptyResponseArray"))):(r="Invalid response format",u="InvalidResponse"),r)throw new ft(r,u);return e}function yt(rawResponse){var result;try{result=eval(rawResponse)}catch(ex){n.logError("Pwc_ParseJsonFailure",ex),result=[,[ex.name,"Syntax error: "+ex.message]]}return result}function wt(n){if(!n)throw new ft("Empty PWC response","EmptyResponse");if(n.indexOf("<json>")<0)throw new ft("JSON prefix not found on PWC response","JsonPrefixNotFound");return n.substring(6,n.length)}function ht(n){var t=n?n.status:null;return t!==null&&t!=="undefined"?t:p}function ct(n){return ht(n)==200}function pt(n,t){return ct(n)?t:t?t:ht(n)}function bt(t){try{var i=Boolean(t)&&Boolean(t.getResponseHeader)?t.getResponseHeader("PreferredHostName"):null;i&&h.setHost(i)}catch(r){n.logError("Pwc_UpdatePreferredHost",r)}}ft.prototype=new Error,ft.prototype.constructor=ft;var ut=this;ut.fullSync=function(n,i,u){function h(t){st(t,l,n,i,f,u)}var f=+new Date,e=ot(o),s=et(u);t.fetchXML(e,h,r,null,s)},ut.deltaSync=function(n,i,u,f){function c(n){st(n,a,i,u,e,f)}var e=+new Date,s=ot(o,{syncKey:n}),h=et(f);t.fetchXML(s,c,r,null,h)},ut.loadPersonDetails=function(n,i,u,f){function h(n){st(n,v,i,u,e,f,!0)}var e=+new Date,o=ot(k,{contactId:n}),s=et(f);t.fetchXML(o,h,r,null,s)},ut.loadAllPersonDetails=function(n,i,u,f){function c(n){st(n,y,i,u,h,f,!0)}var h=+new Date,e=null,o,s;n&&(e={filter:n}),o=ot(d,e),s=et(f),t.fetchXML(o,c,r,null,s)},ut.loadProfiles=function(i,r,u,f){function y(t){var i=null,s=[];if(ct(t))try{s=at(t.responseText)}catch(h){n.logError("Pwc_ProfilesParseError",h,!0),i=n.getErrorCode(h,e)}else i=ht(t);n.addStats(c,o,pt(t,i),f),i?u(t,i):r(t,s)}var o=+new Date,h=i.join(","),l=lt(b),a="canary="+rt.encodeURIComponent()+"&cids="+h.encodeURIComponent()+s+g.encodeURIComponent(),v=et(f);t.fetchXML(l,y,w,a,v)},ut.parseProfiles=at,ut.parseAb=vt,ut.blockOrUnblockMessenger=function(n,i,r,u){var f=n.getCid(),e;f&&(e=(i?"Hide":"Unhide")+"Contact",t.fetchXML(lt(e),function(n){var i=n&&n.responseText==="200",t=i?r:u;t&&t(n.responseText)},"POST","canary="+rt.encodeURIComponent()+"&cid="+encodeURIComponent(f)))}}var c="Rest_GetProfiles",l="Rest_FullSync",a="Rest_DeltaSync",v="Rest_PersonDetails",y="Rest_AllPersonDetails",f="InvalidPassportUser",p="HostUnreachable",e="ParseError",i="W5.M2",r="GET",w="POST",b="GetProfiles",o="abcore",k="PersonDetails",d="allPersonDetails",s="&market=",u=window,t=u.$Network,g=u.wLive,h=g.People,n=h.Reporter;h.ServiceProxy=nt}(),function(){function st(n,i,r){function ut(n,t){var f=!1,u,r;if(n&&n.length>0){for(u=i.settings,r=0;r<n.length;r++)n[r]&&n[r]!=u._d[r]&&(u._d[r]=n[r],f=!0);f&&t&&u.$changes.triggerHandler(i.changedEventName)}return f}function v(n,t,i,r,f,e){var c,b,o,s,h,k,l,a;if(!n)return null;if(typeof n!==p){var v=[],y=[],w=[];for(c=0,b=n.length;c<b;c++){for(o=n[c],s=-1,h=0,k=t.length;h<k;h++)if(t[h].getId()===o[u]){s=h;break}s!==-1?(l=t[s],o[f]===1?(y.push(l),r.remove([l]),t.splice(s,1)):(v.push(l),t[s]._update(o))):o[f]!==1&&(a=e(o),w.push(a),r.update([a]),t.push(a))}if(w.length>0||v.length>0||y.length>0)return new tt(i,w,v,y)}return null}function ot(n){var v,r,u,w,y,e,b,p,o;if(!n)return null;var s={},h=[],c=[],l=[],a=[];st(n,s),ht(n,s,h);for(v in s)r=i._personHash.get(v),u=r._d,r&&(w=u[t].length,y=i.getPersonDetails(v),y&&i._personDetailsHash.remove([y]),w===0?(i.persons.remove(r),i._personHash.remove([r]),l.push(r)):(it(u),r._update(u),i._personHash.update([r]),c.push(r)));for(e=0,b=h.length;e<b;e++)p=h[e],it(p),o=new f.Person(p,i.names),i.persons.push(o),i._personHash.update([o]),a.push(o);return a.length>0||c.length>0||l.length>0?new tt(i.$persons,a,c,l):null}function st(n,r){for(var c,h,o,s=0,p=n.length;s<p;s++)for(c=n[s],h=c[t],o=0;o<h.length;){var l=h[o],a=l[e],f=i._personHash.get(a);if(f&&(l[1]===ft.deleted||c[u]!==f.getId())){var v=f._d,w=v[t],y=k(v,a);y!=-1&&(i._personHash.removeItemByKey(a),r[f.getId()]=1,w[y][4]==="WL"&&(i._personHash.removeItemByKey(f.getCid()),i._personHash.removeItemByKey(f.getHexCid()),ct(v)),w.splice(y,1))}l[1]===ft.deleted?h.splice(o,1):o++}}function ht(n,r,f){for(var o,h,v,nt,l,w,a=0,d=n.length;a<d;a++)if(o=n[a],o[t].length)if(h=i._personHash.get(o[u]),h&&h.getId()===o[u]){var c=h._d,g=o[t],p=c[t];for(v=0,nt=g.length;v<nt;v++)l=g[v],w=k(c,l[e]),r[h.getId()]=1,w!=-1?p[w]=l:p.push(l),l[4]==="WL"&&lt(c,o);y(p),c[s]=o[s],c[b]=o[b]}else f.push(o)}function y(n){n.sort(function(n,t){var u=w(n[4]),f=w(t[4]),i,r;return u>f?1:u<f?-1:(i=n[e],r=t[e],i>r?-1:i<r?1:0)})}function ct(n){for(var t=0,i=l.length;t<i;t++)delete n[l[t]]}function lt(n,t){for(var i,r=0,u=l.length;r<u;r++)i=l[r],n[i]=t[i]}function at(n,i){return n[t][i][e]||n[u]}function w(n){var t,r;return n==="ABCH"?t=-2:(r=i.getService(n),t=r?r.getRank():9999),t}function vt(n){var o,r,u,h,f,e,c;if(o=0,n[s]){for(r=0,u=n[s].length;r<u;r++)if(h=i._categoryHash.get(n[s][r]),h&&h._d[2]){o=1;break}n[b]=o}for(f=n[t],e=f[0][16]||n[14]||0,r=1,u=f.length;r<u;r++)c=f[r][16]||n[14]||0,e>c&&(e=c);n[14]=e}function k(n,i){for(var u=-1,e=n[t],r=0,f=e.length;r<f;r++)if(at(n,r)===i){u=r;break}return u}function d(n){var y,b,l,k,v,tt,i,f,it,w,c,rt,s,ut;for(y=n[t],b=n[u],l=0,k=o.length;l<k;l++){var e=o[l],d=e.mask,r=e.personFields,a=e.contactFields,p=e.arrayIndex,g=e.isArray,nt=!1;for(v=0,tt=y.length;v<tt;v++)if(i=y[v],i[h]&d){if(nt=!0,g)for(f=0,it=r.length;f<it;f++)w=n[r[f]],w&&(i[a[f]]||(i[a[f]]=[]),i[a[f]][p]=w[p]);else for(c=0,rt=r.length;c<rt;c++)i[a[c]]=n[r[c]];i[h]=i[h]&~d}if(nt)for(s=0,ut=e.personFields.length;s<ut;s++)g?n[r[s]]&&(n[r[s]][p]=null):n[r[s]]=null}n[u]=b}function g(n,t,i,r,u){var o,e,s,f;for(o=!0,e=0,s=i.length;e<s;e++)f=n[i[e]],r&&f&&(f=f[u]),f&&(t[e]=f,o=!1);return o}function yt(n,t,i,r){for(var u,f=0,e=t.length;f<e;f++)u=t[f],n[u]&&(i?r<n[u].length&&(n[u][r]=null):n[u]=null)}function pt(n,t,i,r,u,f){var s,o,c,e,h;for(s=!0,o=0,c=i.length;o<c;o++)if(e=n[i[o]],r&&e&&(e=e[u]),h=t[o],f){if(!f(e,h)){s=!1;break}}else if(!(typeof e===p&&typeof h===p||e===h)){s=!1;break}return s}function it(n){d(n),rt(n),vt(n)}function rt(n){var b,c,k,l,d,p,it,s,r,rt;for(b=n[u],c=0,k=et;c<k;c++)nt[c]&&delete n[c];for(n[u]=b,n[35]=(n[35]||0)+1,l=0,d=o.length;l<d;l++){var i=o[l],ut=i.mask,tt=n[t],f=[],w=i.contactFields,e=i.personFields,a=i.isArray,v=i.arrayIndex,ft=i.comparer,y=g(n,f,e,a,v);for(p=0,it=tt.length;p<it;p++)s=tt[p],y&&(y=g(s,f,w,a,v)),!y&&pt(s,f,w,a,v,ft)&&(s[h]=(s[h]||0)|ut,yt(s,w,a,v));if(i.isArray&&!n[e[0]]&&(n[e[0]]=[]),!y)for(r=0,rt=Math.min(e.length,f.length);r<rt;r++)i.isArray?n[e[r]][i.arrayIndex]=f[r]:n[e[r]]=f[r]}}function a(n){var t,i,u,r;for(t=n.clone(),i=0,u=t.length;i<u;i++)r=t[i],typeof r=="object"&&r instanceof Array&&(t[i]=a(r));return t}var c=this;c.apply=function(n){var t=[],e=r[0],l=e[3],a=e[4],y=e[5],p=e[6],w=e[7],h=ut(p,n),o,c,u,s;for(t.push(v(w,i.services,i.$services,i._serviceHash,20,function(n){return new f.Service(n)})),t.push(v(a,i.categories,i.$categories,i._categoryHash,3,function(n){return new f.Category(n)})),t.push(v(y,i.groups,i.$groups,i._groupHash,5,function(n){return new f.Group(n)})),t.push(ot(l)),o=0,c=t.length;o<c;o++)if(t[o]!==null){if(n&&(u=t[o],u.$event.triggerHandler(i.changedEventName,u),u.changed!=null))for(s=0;s<u.changed.length;s++)u.changed[s].$changes.triggerHandler(i.changedEventName);h=!0}return h},c.flatten=function(n){var t=a(n._d);return d(t),new f.Person(t,i.names)},c.clone=function(n){var t=a(n._d);return new f.Person(t,i.names)},c.dedupe=function(n){var t=a(n._d);return rt(t),new f.Person(t,i.names)},c.sortContactsByRank=function(n){y(n._d[1]),n._update(n._d)}}function tt(n,t,i,r){var u=this;u.$event=n,u.added=t,u.changed=i,u.removed=r}function n(n,t,i,r,u,f){var e=this;e.mask=n,e.personFields=t,e.contactFields=i,e.isArray=r,e.arrayIndex=u,e.comparer=f}function y(n,t){var i=!1;return n&&t&&n.length===t.length&&(i=!0,n.forEach(function(n,r){t[r]!=n&&(i=!1)})),i}for(var p="undefined",u=0,t=1,w=4,i=5,s=12,b=13,k=24,et=35,e=0,h=2,d=9,r=10,g=25,l=[6,7,9,8,15],o=[new n(1,[u],[e]),new n(4,[11],[12]),new n(8,[2,3,19,20,17,18,21,22,30,31],[7,8,20,21,19,18,22,23,31,32]),new n(16,[10,23,28],[11,24,29]),new n(32,[w],[d],1,0),new n(64,[w],[d],1,1),new n(128,[w],[d],1,2),new n(256,[i],[r],1,0),new n(8388608,[i],[r],1,8),new n(512,[i],[r],1,1),new n(1024,[i],[r],1,2),new n(2048,[i],[r],1,3),new n(4096,[i],[r],1,4),new n(16384,[i],[r],1,6),new n(8192,[i],[r],1,5),new n(32768,[i],[r],1,7),new n(16777216,[i],[r],1,9),new n(33554432,[i],[r],1,10),new n(65536,[k],[g],1,0,y),new n(131072,[k],[g],1,1,y),new n(262144,[k],[g],1,2,y),new n(1048576,[25,26],[26,27]),new n(2097152,[27],[28]),new n(4194304,[29],[30]),new n(524288,[16],[17],0,0,y)],nt=[],v,c,rt,a=0,it=o.length;a<it;a++)for(v=o[a].personFields,c=0,rt=v.length;c<rt;c++)nt[v[c]]||(nt[v[c]]=1);var ot=window,ut=ot.wLive,f=ut.People,ft=f.ContactState;f.DeltaSync=st,ut.People.DeltaSyncEvent=tt}(),function(){function tt(nt,tt,it,rt,ut){function pt(n,t,i,h){for(var y=!0,l,a=null,p,w,v=0,b=et.length;v<b;v++)if(l=et[v],p=l[r],w=l[e],p===n){w||(y=!1,a=l);break}else if(n===f&&p===s&&!w){y=!1,a=l;break}y?(l={},l[r]=n,l[o]=[t],l[c]=[i],l[u]=h,l[e]=!1,et.push(l)):a&&(t||i)&&(t&&a[o].push(t),i&&a[c].push(i),h&&(a[u]=h)),ot()}function ot(){function i(n,i,r){it.lastFullSync=it.lastDeltaSync=new Date,ft.resetTimers(!1),bt(i),wt(r),it._personDetailsHash.clear(),ft.fullSyncRequired=!1,ft.deltaSyncRequired=!1,tt.setFullAb(i,t[u],it.lastFullSync),et.shift(),vt(t[o],"fsSuccess"),ot()}function a(n,t){l(t,!1)}function d(r,u,f){var e,c,l,s,h;it.lastDeltaSync=new Date,tt.setLastDeltaSync(it.lastDeltaSync),ft.resetTimers(!1),e=f[0],e[8]?i(r,u,f):(tt.removeDeltaSyncRequired(),g.setSessionCookie(v,null),c=new n.DeltaSync(nt,it,f),l=c.apply(!0),l&&(s=e[0],it.syncKey=s,tt.setAbDelta(u,s),h=tt.getDeltaSyncCount()+1,tt.setDeltaSyncCount(h),h>=k&&(ft.fullSyncRequired=!0,tt.setFullSyncRequired(!0))),ft.deltaSyncRequired=!1,et.shift(),vt(t[o],"dsSuccess"),ot())}function rt(n,t){l(t,!0)}function l(n,i){if(t[h]=(t[h]||0)+1,t[h]>=b||n===y||n===p||n===w){var r=i?"dsFailure":"fsFailure";et.shift(),i?it.lastDeltaSync=new Date:(it.lastFullSync=new Date,tt.setLastFullSync(it.lastFullSync)),ft.resetTimers(i,!0),vt(t[c],r,[n])}else t[e]=!1;ot()}if(et.length!==0){var t=et[0];t[e]||t[r]===f&&ct||(t[r]===s?nt.fullSync(i,a,t[u]):t[r]===f&&nt.deltaSync(it.syncKey,d,rt,t[u]))}}function bt(n){for(var f=0,r,u,i=0,e=it.persons.length;i<e;i++)r=it.persons[i]._d[1],r&&r.length&&(f+=r.length);u={contactCount:f,responseLength:n.length},t.logDetails("Pwc_FullSync",u),d.reportEvent("View.WLPeopleCache.FullSync",u)}function wt(t){for(var i=t[0]||[],v=i[3]||[],y=[],o,s,u,h,c,f,l,a,e,p,r=0;r<v.length;r++)y[r]=new n.Person(v[r],it.names);for(o=i[4]||[],s=[],u=0;u<o.length;u++)s[u]=new n.Category(o[u]);for(h=i[5]||[],c=[],f=0;f<h.length;f++)c[f]=new n.Group(h[f]);for(l=i[7]||[],a=[],e=0;e<l.length;e++)a[e]=new n.Service(l[e]);p=new n.Settings(i[6]||[]),it._applyFull(y,s,c,a,p),it.syncKey=i[0]}function vt(n,t,i){i=i||[];for(var r=0;r<n.length;)kt(n[r],t+"["+r+"]",i),r++;n.splice(0,n.length)}function kt(n,i,r){if(n)try{r&&r.length>0?n.apply(null,r):n()}catch(u){t.logError("Pwc_Callback"+i+"Error",u)}}function dt(){st=!0}function gt(){st=!1,ft.deltaSyncRequired&&ft.queueDelta()}var ft=this,et=[],st,ht=new n.IdleTimer(dt,gt),ct=!1,yt=0,lt=null,at=null;ft.deltaSyncRequired=!1,ft.fullSyncRequired=!1,ft.applyFull=function(n){var t=nt.parseAb(n);wt(t)},ft.applyDelta=function(t){var i=nt.parseAb(t),r=new n.DeltaSync(nt,it,i);r.apply()},ft.queueFull=function(n,i,r){function f(){u&&t.stopScenario(r,!0),n&&n()}function e(n){u&&t.stopScenario(r,!1,n),i&&i()}t.logAction("Pwc_FullSyncQueued");var u=!r;r=r||t.startScenario(l),pt(s,f,e,r)},ft.queueDelta=function(n,i,r){function e(){u&&t.stopScenario(r,!0),n&&n()}function o(n){u&&t.stopScenario(r,!1,n),i&&i()}if(t.logAction("Pwc_DeltaSyncQueued"),tt.setDeltaSyncRequired(!0),it.isReady&&!st){if(ft.fullSyncRequired)ft.queueFull(n,i,r);else{var u=!r;r=r||t.startScenario(a),pt(f,e,o,r)}ft.deltaSyncRequired=!1}else ft.deltaSyncRequired=!0},ft.pause=function(){ct=!0},ft.resume=function(){ct=!1,ot()},ft.resetTimers=function(n,t){var e;if(t){if(++yt>=3)return}else yt=0;var u=new Date,r=rt,f=it.lastFullSync||u,o=it.lastDeltaSync||f;n=n||!1,n||(lt!==null&&i.clearTimeout(lt),r=Math.max(r-(u.getTime()-f.getTime()),0),lt=i.setTimeout(function(){ft.queueFull()},r)),at!==null&&i.clearTimeout(at),e=Math.max(ut-(u.getTime()-o.getTime()),0),ut<r&&(at=i.setTimeout(function(){ft.queueDelta()},e))},ft.dispose=function(){ht&&ht.dispose(),ht=null,et=[]}}var l="FullSync",a="DeltaSync",v="wpd",y="InvalidPassportUser",p="PassportAuthFail",w="MissingTicket",b=3,k=20,s="full",f="delta",e="inProgress",h="attempts",o="successCallbacks",c="failureCallbacks",r="requestType",u="qosScenario",i=window,d=i.$BSI,g=i.$Cookie,nt=i.wLive,n=nt.People,t=n.Reporter;n.SyncClient=tt}(),function(n){function h(o,s,h){var c=this,l;c.fullSync=function(n,t,i){s.queueFull(n,t,i)},c.deltaSync=function(n,t,i){s.queueDelta(n,t,i)},c.pauseDeltaSync=function(){s.pause()},c.resumeDeltaSync=function(){s.resume()},c.processABChangedEvent=function(i){var r,u,f;if(t.logAction("Pwc_ProcessABChangedEvent"),r=!0,i)try{u=n(n.parseXML(i)),f=u.find("LastModifiedDate"),r=Date.parse(h.syncKey)!=Date.parse(f.text()),r||t.logAction("Pwc_ProcessABChangedNoDeltaSyncRequired")}catch(e){t.logError("Pwc_ProcessABChangedFailedEvent",e)}r&&s.queueDelta()},l={},c.loadPersonDetails=function(n,r,u,e){function y(r,u,f){var a,o;if(f.length<1){v(r,"InvalidResponseArray");return}for(a=new i.Person(f[0],h.names),h._personDetailsHash.update([a],!0),c&&t.stopScenario(e,!0),o=0;o<s.successCallbacks.length;o++)s.successCallbacks[o](a);l[n]=null}function v(i,r){t.logDetails("Pwc_DetailsData",{contactId:n,errorCode:r}),c&&t.stopScenario(e,!1,r);for(var u=0;u<s.failureCallbacks.length;u++)s.failureCallbacks[u](i,r);l[n]=null}var c=!e,a=!1,s;l[n]||(l[n]={successCallbacks:[],failureCallbacks:[]},a=!0),s=l[n],r&&s.successCallbacks.push(r),u&&s.failureCallbacks.push(u),a&&(e=e||t.startScenario(f),o.loadPersonDetails(n,y,v,e))},c.loadAllPersonDetails=function(n,r,u,f){function l(n,u,e){var l,a,o;if(e.length<1){c(n,"InvalidResponseArray");return}for(l=e[0],a=[],o=0;o<l.length;o++)a[o]=new i.Person(l[o],h.names);h._personDetailsHash.update(a,!0),s&&t.stopScenario(f,!0),r&&r()}function c(n,i){s&&t.stopScenario(f,!1,i),u&&u()}var s=!f;f=f||t.startScenario(e),o.loadAllPersonDetails(n,l,c,f)},c.loadProfiles=function(n,i,f,e){function g(n,r,u){var o,s,f;for(l++,o=[],s=[],h._addProfiles(r),f=0;f<u.length;f++)h.getPerson(u[f])?o.push(u[f]):s.push(u[f]);l>=k&&y&&t.stopScenario(e,!w,p),i&&i(o,s)}function nt(n,i,r){l++,w=!0,p=i,l>=k&&y&&t.stopScenario(e,!w,p),f&&f(r)}for(var s=[],v=[],d,a,c=0,b=n.length;c<b;c++)h.getPerson(n[c])?v.push(n[c]):s.push(n[c]);var k=0,l=0,y=!1,p=null,w=!1;if(s.length>0)for(y=!e,e=e||t.startScenario(u);s.length>0;)d=s.length>r?r:s.length,a=s.splice(0,d),o.loadProfiles(a,function(n,t){g(n,t,a)},function(n,t){nt(n,t,a)},e);(s.length==0||v.length>0)&&i&&i(v,[])},c.blockOrUnblockMessenger=function(n,t,i,r){o.blockOrUnblockMessenger(n,t,i,r)},c.dispose=function(){o=null,s=null,h=null}}var r=122,u="GetProfiles",f="PersonDetails",e="AllPersonDetails",o=window,s=o.wLive,i=s.People,t=i.Reporter;i.Client=h}(window.originaljQuery||jQuery),function(){var n=window.wLive.People.NetworkID=function(){};n.skype="SKYPE",n.windowsLive="WL",n.shortCircuit="SCD",n.facebook="FB",n.google="GOOG"}(),function(){var n=window.wLive.People.SortOrder=function(){};n.none=0,n.displayName=1,n.messagingRelevance=2,n.peopleRelevance=3}(),function(n){function a(l,a,v){function tt(n,t){n.splice(0,n.length),n.addRange(t||[])}function ft(n,t,i){var r,e,u;if(n)for(r=0,e=n.length;r<e;r++)if(u=n[r][t],typeof u!==f&&u===i)return n[r];return null}function k(n,t){var r=[],i;if(n.filter)r=n.filter(t);else for(i=0;i<n.length;i++)t(n[i])&&r.push(n[i]);return r}function et(){y.profiles.splice(0,y.profiles.length),y.persons.splice(0,y.persons.length),y.categories.splice(0,y.categories.length),y.groups.splice(0,y.groups.length),y.services.splice(0,y.services.length),b.clear(),d.clear(),nt.clear(),it.clear(),rt.clear()}var y=this;y.readyEventName=o,y.failureEventName=e,y.disposeEventName=h,y.changedEventName=u,y.fullSyncEventName=s,y.persons=[],y.categories=[],y.groups=[],y.services=[],y.profiles=[],y.settings=new t.Settings([]);var d=new r(y.persons),g=new r([]),nt=new r(y.categories),it=new r(y.groups),rt=new r(y.services),b=new r(y.profiles),p=[],w=[],ut=!1;y.$persons=n({}),y.$categories=n({}),y.$groups=n({}),y.$services=n({}),y.$events=n(y),y.client=null,y.names=new t.Names(l.isLastNameFirst,l.nameType,l.nns,l.profileUrl,l.photosUrl),y.isReady=!1,y.isFailed=!1,y.lastFullSync=null,y.lastDeltaSync=null,y.syncKey=null,y._personHash=d,y._personDetailsHash=g,y._categoryHash=nt,y._groupHash=it,y._serviceHash=rt,y.getMe=function(){return y.getPerson(c.$Config.cid)},y.getPerson=function(n){var t=d.get(n);return t===null&&(t=b.get(n)),t},y.getPersons=function(n,t){var r=y.persons.slice(0),u,e;n&&(typeof n.isOnline!==f&&(u=n.isOnline?function(n){return n.isOnline()}:function(n){return!n.isOnline()},r=k(r,u)),typeof n.isIMCapable!==f&&(u=n.isIMCapable?function(n){return n.getMessagingAddresses().length>0}:function(n){return n.getMessagingAddresses().length==0},r=k(r,u)),typeof n.hasPicture!==f&&(u=n.hasPicture?function(n){return n.getUserTile()&&!0}:function(n){return!n.getUserTile()&&!0},r=k(r,u)),t&&(t==i.messagingRelevance||t==i.peopleRelevance)&&(u=t==i.messagingRelevance?function(n){return n.getMessagingRelevance()>=0}:function(n){return n.getPeopleRelevance()>=0},r=k(r,u)),n.networks&&n.networks instanceof Array&&n.networks.length>0&&(u=function(t){for(var r=t.getContacts(),i=0;i<r.length;i++)if(n.networks.contains(r[i].getSourceId()))return!0;return!1},r=k(r,u))),e=t?t:i.none;switch(e){case i.displayName:r.sort(function(n,t){return n.getDisplayNameWithFallback().localeCompare(t.getDisplayNameWithFallback())});break;case i.messagingRelevance:r.sort(function(n,t){return t.getMessagingRelevance()-n.getMessagingRelevance()});break;case i.peopleRelevance:r.sort(function(n,t){return t.getPeopleRelevance()-n.getPeopleRelevance()})}return r},y.getFavorites=function(){for(var t=[],n=0,i=y.categories.length;n<i;n++)if(y.categories[n].getIsFavorite()){t=y.getPersonsByCategory(y.categories[n].getId());break}return t},y.getPersonsByEmail=function(n){var u=[],t,f,r,i,e;if(n)for(n=n.toLowerCase(),t=0,f=y.persons.length;t<f;t++)for(r=y.persons[t].getContactEmails(),i=0,e=r.length;i<e;i++)if(r[i]&&r[i].toLowerCase()===n){u.push(y.persons[t]);break}return u},y.getPersonsByCategory=function(n){for(var r=[],i,t=0,u=y.persons.length;t<u;t++)i=y.persons[t]._d[12],i&&i.contains(n)&&r.push(y.persons[t]);return r},y.getPersonsByService=function(n){for(var r=[],i,f,t=0,u=y.persons.length;t<u;t++)i=y.persons[t],f=ft(i._d[1],4,n),f&&r.push(i);return r},y.getPersonDetails=function(n){return g.get(n)},y.removePersonDetails=function(n){var t=g.get(n);t&&g.remove(t)},y.getContactIdsForMri=function(n){var e,t,s,o,i,h,r,u,f,c;if(e=[],n)for(n=n.toLowerCase(),t=0,s=y.persons.length;t<s;t++)for(o=y.persons[t]._d[1],i=0,h=o.length;i<h;i++)if(r=o[i],r[3]&&(u=r[3][0],u))for(f=0,c=u.length;f<c;f++)if(u[f].toLowerCase()==n){e.push(r[0]);break}return e},y.getCategory=function(n){return nt.get(n)},y.getService=function(n){return rt.get(n)},y.reset=function(){et(),a.clearAb(),a.clearHost()},y.callWhenReady=function(n,t){function i(){y.$events.unbind(e,i);for(var n=0;n<w.length;n++)w[n]();w=[]}function r(){y.$events.unbind(o,r);for(var n=0;n<p.length;n++)p[n]();p=[]}y.isReady&&n?n():(p.length===0&&y.$events.bind(o,r),p.push(n),t&&(y.isFailed?t():(w.length===0&&y.$events.bind(e,i),w.push(t))))},y.removeWhenReadyCallback=function(n,t){if(p){var i=p.indexOf(n);i!=-1&&p.splice(i,1),t&&(i=w.indexOf(t),i!=-1&&w.splice(i,1))}},y.dispose=function(){ut=!0,y.$events.triggerHandler(h),y._disposeCache()},y.processABChangedEvent=function(n){y.client.processABChangedEvent(n)},y._flatten=function(n){var i=new t.DeltaSync(v,this,null);return i.flatten(n)},y._clone=function(n){var i=new t.DeltaSync(v,this,null);return i.clone(n)},y._sortContactsByRank=function(n){var i=new t.DeltaSync(v,this,null);i.sortContactsByRank(n)},y._dedupeContacts=function(n){var i=new t.DeltaSync(v,this,null);return i.dedupe(n)},y._addProfiles=function(n){for(var f=[],i,r,u=0;u<n.length;u++)if(i=new t.Person(n[u],y.names),b.get(i.getId())){for(r=0;r<y.profiles.length;r++)if(y.profiles[r].getId()==i.getId()){y.profiles[r]=i;break}}else y.profiles.push(i),f.push(i);b.update(f)},y._applyFull=function(n,t,i,r,u){tt(y.persons,n),tt(y.categories,t),tt(y.groups,i),tt(y.services,r),y.settings=u,d.clear(),nt.clear(),it.clear(),y.isReady&&y.$events.triggerHandler(s)},y._getProfile=function(n){return b.get(n)},y._find=function(n){function t(n,t){for(var r,i=0;i<n.length;i++)if(r=n[i].getDisplayName(),r&&t&&r.toLowerCase().indexOf(t.toLowerCase())>=0)return n[i];return null}var i=t(y.persons,n);return i||t(y.profiles,n)},y._snapshot=function(){function n(t){var e,r,u,f,i;if(t)if(t instanceof Array)for(e=0;e<t.length;e++)n(t[e]);else{r=[];for(u in t)u.startsWith("get")&&u!="getPerson"&&typeof t[u]=="function"&&r.push(u);for(f=0;f<r.length;f++)i=t[r[f]](),t[r[f].substr(3)]=i,i&&(typeof i=="function"||i instanceof Array)&&n(i)}}n(y.persons),n(y.profiles),n(y.categories),n(y.groups),n(y.services),n(y.settings)},y._disposeCache=function(){ut||(y.$events.unbind(o),y.$events.unbind(e),y.$events.unbind(s),y.$persons.unbind(u),y.$categories.unbind(u),y.$groups.unbind(u),y.$services.unbind(u),y.profiles=null,y.services=null,y.categories=null,y.groups=null,y.persons=null,y.settings=null)}}var f="undefined",e="failure",o="ready",h="dispose",u="changed",s="fullSync",c=window,l=c.wLive,t=l.People,r=t.LazyHash,i=t.SortOrder;t.Cache=a}(window.originaljQuery||jQuery),function(n){function p(){function ot(){var n,t;tt||(s.isReady?u(w,!0):(n=y.getFullSyncRequired(),i.logAction("Pwc_InitCacheFullSyncRequired"),!n&&st()?(t=v.deltaSyncInterval?parseInt(v.deltaSyncInterval):3e5,p.deltaSyncRequired&&(s.lastDeltaSync=new Date(+new Date-t),p.deltaSyncRequired=!1,i.logAction("Pwc_InitCacheDeltaSyncRequired")),p.resetTimers(),g()):ht()))}function st(){var r=!1,o=+new Date,n=y.clearAbErrorCode(),f=y.getFullAb(),u,t;if(n=y.clearAbErrorCode()||n,f){try{for(p.applyFull(f),s.lastFullSync=y.getLastFullSync(),s.lastDeltaSync=y.getLastDeltaSync(),u=y.getAbDeltas(),t=0;t<u.length;t++)p.applyDelta(u[t].json);r=!0,p.deltaSyncRequired=y.getDeltaSyncRequired()||e.getSessionCookie(a)==="1"}catch(h){i.logError("Pwc_RestoreAbError",h),n=i.getErrorCode(h)}r||y.clearAb()}return i.addStats(c,o,n,w),r}function ht(){if(v.initOnPageLoad)if(f.isLoading()){var t=!1,n;n=function(){t||(n&&(f.removeLoadedCallback(n),t=!0),rt())},f.addLoadedCallback(n)}else rt();else u(w,!0)}function rt(){s.isReady?p.resetTimers():v.fullSyncDelay?t.setTimeout(function(){d.fullSync(g,ut,w)},v.fullSyncDelay):d.fullSync(g,ut,w)}function g(){s.isReady=!0,s.isFailed=!1,e.setSessionCookie(o,"1"),u(w,!0),s.$events.triggerHandler(s.readyEventName)}function ut(){s.isReady=!1,s.isFailed=!0,e.setSessionCookie(o,null),u(w,!1,"fullSyncFailure"),s.$events.triggerHandler(s.failureEventName)}function ft(){s.reset()}function nt(){tt=!0,t.$Logout&&v.enabled&&!v.fullyDisabled&&b.hcid&&t.$Logout.remove(ft),n(t).unbind(l,nt),y&&(y.dispose(),y=null),s&&(s.$events.unbind(s.disposeEventName,nt),s._disposeCache(),s=null),p&&(p.dispose(),p=null)}var et=this,tt=!1,b=t.$Config||{},v=b.ContactCache||{},it=b.mkt?b.mkt.toLowerCase():"";i.isQosEnabled=v.qos;var w,y=new r.Store(v.peopleApiBaseUrl,v.localStorage,b.hcid,it,ot),k=new r.ServiceProxy(y,it,v.peopleApiBaseUrl,v.peopleApiAppId,b.handlerBaseUrl,v.canary),s=new r.Cache(v,y,k),p=new r.SyncClient(k,y,s,v.fullSyncInterval,v.deltaSyncInterval),d=new r.Client(k,p,s);s.client=d,s.$events.bind(s.disposeEventName,nt),et.cache=s,v.enabled&&!v.fullyDisabled&&b.hcid&&(w=i.startScenario(h),t.$Logout&&t.$Logout.add(ft),y.init(w))}var h="Init",c="RestoreAB",l="unload",a="wpd",o="wpc",s="$pwc",t=window,v=t.$Do,y=t.wLive,r=y.People,i=r.Reporter,u=i.stopScenario,f=t.$BSI,e=t.$Cookie,w=new p;t[s]=w.cache,v.register(s,0,!0)}(window.originaljQuery||jQuery),function(){function r(){function f(){return i||(i=n.ic_common_data),i||{}}function u(){return r||(r=n.ic_menu_data),r||{}}var t=this,i,r;t.getActionData=function(n){return u()[n]},t.getReturnUrl=function(){return f().ru||location.href},t.getActionDescription=function(n){return u()[n][0]||""}}var n=window,t=n.wLive||{},i;t.IC=t.IC||{},i=t.IC,i.ICCommonData=new r}(),function(n){function u(t,i,r){function f(n){return n<s?i[n]:null}function h(){return o++}var u=this,o=0,e,s=i.length;u.id=t,u.html=r.html(),u.getNewId=function(){return t+h()},u.getCid=function(){return f(0)},u.getShowCard=function(){return f(1)=="1"},u.getMenuActions=function(){return f(2)},u.getName=function(){return f(3)},u.getEmail=function(){return f(6)},u.getUserTileUrl=function(){return f(17)},u.getTileSize=function(){var u,i;if(!e)if(u=n("#{0}_{1}".format(t,"usertilecontainer"),r),u.length>0){if(i=u.attr("class").split(" "),i&&i[1])return i[1].replace("c_ic_img_","")}else e="none";return e},u.dispose=function(){r=null,i=null}}var r=window,t=r.wLive,i;t.IC=t.IC||{},i=t.IC,i.ICTemplate=u}(window.originaljQuery||jQuery),function(n){function u(){function f(n){if(n.startsWith("icTm")){var t=n.indexOf("_template"),i=t>=0?t:n.length;return n.substring(4,i)}return n}var u=this,i={};u.init=function(){t.icPwcData&&u.addTemplates(t.icPwcData)},u.addTemplates=function(t){var u,e;if(t)for(u in t)e=f(u),i[e]&&i[e].dispose(),i[e]=new r.ICTemplate(u,t[u],n("#{0}_template".format(u)))},u.getTemplate=function(n){return n=f(n),i[n]?i[n]:null},u.dispose=function(){for(var n in i)i[n].dispose(),delete i[n];i=null},u.init()}var t=window,i=t.wLive,r;i.IC=i.IC||{},r=i.IC,r.ICTemplates=u}(window.originaljQuery||jQuery),function(n){function f(n,i){var u=this;u.id=f.id,u.isEnabled=function(){return n&&n.getContactEmails().length>0||i},u.getAvailableOptions=function(){var u=[],r=n?n.getContactEmails():[],t;for(i&&u.push({id:i,displayName:i}),t=0;t<r.length;t++)i&&r[t]==i||u.push({id:r[t],displayName:r[t]});return u},u.performAction=function(n){var i,f,e,o;t.getActionData(u.id)&&(i=u.getAvailableOptions(),f=n||i.length>0&&i[0].id,f&&(e=t.getActionData(u.id)[1].replace("$address$",f).replace("$ru$",encodeURIComponent(t.getReturnUrl())),o=r.wLive&&r.wLive.Hotmail?null:"_blank",$BSI.navigateTo(e,o)))},u.dispose=function(){}}function e(n){var i=this;i.id=e.id,i.isEnabled=function(){return n&&!n.isMe()&&n.getId()},i.getAvailableOptions=function(){return[]},i.performAction=function(){if(n&&t.getActionData(i.id)){var f=t.getActionData(i.id)[1].replace("$contactid$",n.getId());r.open(f,"_blank")}},i.dispose=function(){}}function o(n){var i=this;i.id=o.id,i.isEnabled=function(){return n&&n.isMe()},i.getAvailableOptions=function(){return[]},i.performAction=function(){if(t.getActionData(i.id)){var u=t.getActionData(i.id)[1];r.open(u,"_blank")}},i.dispose=function(){}}function s(n,t,i){var r=this,u;r.id=s.id,r.setWebImContact=function(n){u=n},r.isEnabled=function(){return u&&n&&!n.isMe()&&n.canChat(t)},r.getAvailableOptions=function(){var r=[],i,t;if(n&&u)for(i=n.getMessagingAddresses(),t=0;t<i.length;t++)i[t].canChat()&&r.push({id:i[t].get_id(),displayName:i[t].get_network().get_name()});return r},r.performAction=function(t,r){var f=c(n.getMessagingAddresses(),t);$WLXIM.startConversation(u,f?f.get_type():0,h(i),f?f.get_network():null,r)},r.dispose=function(){}}function u(n,t,i,r){var f=this,e;f.id=t?u.audioId:u.videoId,f.setWebImContact=function(n){e=n},f.isEnabled=function(){return e&&n&&!n.isMe()&&n.canCall(i)},f.getAvailableOptions=function(){var r=[],i,t;if(n&&e)for(i=n.getMessagingAddresses(),t=0;t<i.length;t++)i[t].canCall()&&r.push({id:i[t].get_id(),displayName:i[t].get_network().get_name()});return r},f.performAction=function(i,u){var f=c(n.getMessagingAddresses());t?$WLXIM.startVideoCall(e,h(r),f,u):$WLXIM.startAudioCall(e,h(r),f,u),y()},f.dispose=function(){}}function h(n){return n=n||a,v[n]||n}function c(n,t){var r=null,i;if(t)for(i=0;!r&&i<n.length;i++)n[i].get_id()==t&&(r=n[i])}function y(){function i(){n(t).unbind("pluginLoaded",i),n(t).unbind("callFinished",i),$header.hideLoading()}var t=Microsoft.Live.Messenger.Services.SkyJSHelper;t.skypeEnabled&&$header&&($header.showLoading(),n(t).bind("pluginLoaded",i),n(t).bind("callFinished",i))}var r=window,l=r.wLive,i=l.IC,a="identityControl",v={PeoplePane:"peoplePane"},t=i.ICCommonData;i.ICActionEmail=f,f.id="se",i.ICActionContactDetails=e,e.id="cd",i.ICActionEditProfile=o,o.id="ep",i.ICActionSendIm=s,s.id="si",i.ICActionCall=u,u.videoId="vc",u.audioId="ac"}(window.originaljQuery||jQuery),function(n){function e(u,e){function k(){(a=i.$WLXIM,a&&s&&!w&&!v)&&(n(s).bind(r,d),o[t.ICActionEmail.id]=new t.ICActionEmail(s,p),o[t.ICActionEditProfile.id]=new t.ICActionEditProfile(s),o[t.ICActionContactDetails.id]=new t.ICActionContactDetails(s),o[t.ICActionSendIm.id]=new t.ICActionSendIm(s,u,e),o[t.ICActionCall.videoId]=new t.ICActionCall(s,!1,u,e),o[t.ICActionCall.audioId]=new t.ICActionCall(s,!0,u,e),w=!0,y(),$Do.when("$WLXIM.UserSignedIn",0,function(){!v&&s.getId()&&(l=s.isMe()?a.user.get_contact():a.user.findContactById(s.getContacts()[0].getId()),l&&(o[t.ICActionSendIm.id].setWebImContact(l),o[t.ICActionCall.videoId].setWebImContact(l),o[t.ICActionCall.audioId].setWebImContact(l),y()))}))}function y(){var u=c.isOnline(),i=b!=u,t,r;b=u;for(t in o)r=o[t].isEnabled(),i=i||r!=h[t],h[t]=r;i&&n(c).trigger(f)}function d(){y()}var c=this,l,a,s,p,w=!1,o={},b=!1,h={},v=!1;h[t.ICActionEmail.id]=!1,h[t.ICActionContactDetails.id]=!1,h[t.ICActionEditProfile.id]=!1,h[t.ICActionSendIm.id]=!1,h[t.ICActionCall.videoId]=!1,h[t.ICActionCall.audioId]=!1,c.actions=o,c.setPerson=function(n,t){s=n,p=t,k()},c.isOnline=function(){return s&&s.isOnline(u)},c.dispose=function(){for(var t in o)o[t].dispose(),delete o[t];o=null,n(s).unbind(r,d),l=null,v=!0},$Do.when("wlxim",0,k)}var i=window,u=i.wLive,t=u.IC,r="changed",f="presenceChanged";t.ICPresence=e}(window.originaljQuery||jQuery),function(n){function b(){if(!u){var t=n("#"+s);t.length==0?(u=n("<div>").prop("id",s),n("body").prepend(u),e.$Sutra&&sutra(u,i+"ICMenuList")):u=t}return u}function k(u,s){function rt(){s&&n(s).bind(h,tt)}function ut(i){var f,r;a=n("<ul>"),a.addClass(v),a.prop("id",u.id+"_menu_ul"),a.html(ft()),et(),tt(),b().append(a),f={offset:{x:0,y:5},nofocus:1,hoverDelay:y,menuEl:a[0]},$menu.create(i,0,f),k=a[0].binding,st(),d&&!d.isMe()&&(r=it(),r.Template=u.template.id,r.hasContactDetails=nt(t.ICActionContactDetails.id),r.hasEmail=nt(t.ICActionEmail.id),r.hasIM=nt(t.ICActionSendIm.id),r.hasVideoVoiceCall=nt(t.ICActionCall.videoId)||nt(t.ICActionCall.audioId),$BSI.reportEvent("View.IC.Nav",r))}function nt(n){return s&&s.actions[n]&&s.actions[n].isEnabled()?1:0}function ft(){var f="",h=nt(t.ICActionContactDetails.id)?c:w,e=h.format(u.getName().encodeHtml(),u.getEmail().encodeHtml(),t.ICActionContactDetails.id),n,i,o;if(s)for(d&&d.isMe()&&(e=c.format(u.getName().encodeHtml(),l.getActionDescription(t.ICActionEditProfile.id).encodeHtml(),t.ICActionEditProfile.id)),n=0;n<r.length;n++)i=r[n],o=l.getActionDescription(i).encodeHtml(),f=f+p.format(i,o,ot(i));return e+f}function et(){e.$Sutra&&a&&a.length>0&&(sutra(a,i+"ICMenu"),sutra(n("#"+t.ICActionEditProfile.id,a),i+"ICMenuEditProfile"),sutra(n("#"+t.ICActionContactDetails.id,a),i+"ICMenuContactDetails"),sutra(n("#"+t.ICActionEmail.id,a),i+"ICMenuSendEmail"),sutra(n("#"+t.ICActionSendIm.id,a),i+"ICMenuStartIM"),sutra(n("#"+t.ICActionCall.videoId,a),i+"ICMenuVideoCall"),sutra(n("#"+t.ICActionCall.audioId,a),i+"ICMenuAudioCall"),sutra(n(".c_ic_menu_name",a),i+"ICMenuName"),sutra(n(".c_ic_menu_sub",a),i+"ICMenuSub"))}function ot(t){var i;switch(t){case"si":i=f.IM;break;case"se":i=f.Mail;break;case"vc":i=f.Video;break;case"ac":i=f.Audio}return i?n($IS.CreateFromConfig("ic/icmenu2_gray.png,ic/icmenu2_gray.png,",i,$Config.imgsBase)).html():""}function st(){for(var i=0;i<r.length;i++)at(r[i]);n("#ep a",a).bind("click",function(){s.actions[t.ICActionEditProfile.id].performAction()}),n("#cd a",a).bind("click",function(){s.actions[t.ICActionContactDetails.id].performAction()})}function ht(){for(var t=0;t<r.length;t++)lt(r[t]);n("#ep a",a).unbind(),n("#cd a",a).unbind()}function ct(){k&&(k.dispose(),k=null),a&&(ht(),a.remove(),a=null)}function lt(t){n("#"+t,a).unbind()}function at(t){function r(n){$IS.toggle(i[0],n-f),f=n}var i=n("#"+t,a),f=1;i.hover(function(){r(2)},function(){r(1)}),i.bind("mousedown",function(){r(3)}),i.bind("mouseup",function(){r(1)}),i.bind("mouseup",function(){r(1)}),s.actions[t]&&i.bind("click",function(n){n&&n.preventDefault(),s.actions[t].performAction(null,i[0]),g.hide();var r=it();r.IdentityControlNav=vt(t),r.Template=u.template.id,$BSI.reportEvent("SelectClick.IC.Nav",r)})}function vt(n){switch(n){case t.ICActionEditProfile.id:return"Profile";case t.ICActionContactDetails.id:return"CDMenu";case t.ICActionEmail.id:return"Email";case t.ICActionSendIm.id:return"IM";case t.ICActionCall.videoId:return"Video";case t.ICActionCall.audioId:return"Voice"}return"UnknownAction"}function it(){var r={},u={},i,t,n;if(d)for(i=d.getContacts(),t=0;t<i.length;t++)u[i[t].getSourceId()]=!0;for(n=0;n<o.length;n++)r[o[n]]=u[o[n]]||!1;return r}function tt(){var t,i,u;if(a&&s){for(t=0;t<r.length;t++)i=r[t],u=n("#"+i,a),s.actions[i]&&s.actions[i].isEnabled()?u.css("display",""):u.hide();k&&k.update()}}var g=this,a,k,d;g.setPerson=function(n){d=n},g.show=function(n){a||ut(n),k&&!k.isOpen()&&k.show()},g.hide=function(){k&&k.isOpen()&&k.hide()},g.toggleVisibility=function(){k&&k.toggleState()},g.dispose=function(){s&&(n(s).unbind(h,tt),s=null),ct()},rt()}var e=window,a=e.wLive,t=a.IC,s="c_ic_menus",v="c_ic_menu c_m t_hovl",y=625,d="z-index",h="presenceChanged",i="$Sutra.Shared.",p='<li id="{0}" class="c_ic_menu_glyph"><a href="#" alt="{1}" tabindex="1" role="menuitem"><span class="is_c">{2}<\/span><\/a><\/li>',w='<li id="{2}"><span><div class="c_ic_menu_name">{0}<\/div><div class="c_ic_menu_sub">{1}<\/div><\/span><\/li>',c='<li id="{2}"><a href"#" tabIndex="1" role="menuitem"><div class="c_ic_menu_name">{0}<\/div><div class="c_ic_menu_sub">{1}<\/div><\/a><\/li>',f={Mail:"1,0,30,31,",IM:"32,0,30,31,",Audio:"63,0,30,31,",Video:"94,0,30,31,"},r=[t.ICActionEmail.id,t.ICActionSendIm.id,t.ICActionCall.videoId,t.ICActionCall.audioId],o=["ABCH","FB","GOOG","LI","MYSP","SINWE","SKYPE","SCD","TWITR","WL"],l=t.ICCommonData,u;t.ICCard=k}(window.originaljQuery||jQuery),function(n){function h(h,c,l){function wt(){var i=h.getTileSize(),t,n;p.isMe()||i!="mxl"&&i!="mxxl"||(t=p.getContacts(),n=t.length>0?t[0].getId():null,n&&($pwc.getPersonDetails(n)?(nt=$pwc.getPersonDetails(n),st(!0)):$pwc.client.loadPersonDetails(n,function(){nt=$pwc.getPersonDetails(n),st(!0)})))}function bt(){if(d){var n=g;et=!1,a.deactivate(),a.render(),y.replaceWith(d),ot=!0,n&&a.activate()}}function st(n){var t=ct();v&&(!et||n)&&(et=!0,v.prop("src")==t?at():(v.bind("load",at),v.bind("error",vt),t?v.prop("src",u.$ssl.ensureSSLImageUrl(t)):v.prop("src",v.prop("errsrc")||$icerrsrc)))}function at(){var n,t,i,r,u,f;try{if(o[v.prop("src")]=1,v.attr("class","c_ic_tile"),i=0,t=v[0].naturalWidth,n=v[0].naturalHeight,r=v.css("width"),u=v.css("height"),t==1&&n==1||r=="1px"&&u=="1px"){vt();return}if(f=Math.round,t&&n&&t!=n)if(t>n){var e=parseInt(u),s=parseInt(r),h=f(t*(e/n));i=-f((h-s)/2),v.css({width:"auto","max-width":"none",left:i+"px"})}else v.css({height:"auto","max-height":"none"});v.css("visibility","")}catch(c){tt&&tt.logError("IC_OnUserTileLoad_Error",c)}}function vt(){var n,t;try{n=v.parent(),v.remove(),t=v.attr("errsrc")||$icerrsrc,v.attr("src")!=t&&(v.attr("class","c_ic_tile").css("top","").css("left","").css("height","").css("width",""),setTimeout(function(){v.attr("src",t).css("visibility","")},0))}catch(i){tt&&tt.logError("IC_OnUserTileError_Error",i)}finally{null!=n&&n.append(v)}}function ht(){var u=n(w("frame"),y),f=n(w("bar"),y),t=!l.hidePresence&&b.isOnline();u.length>0?$IS.setClass(u[0],t?r:i):(f.removeClass(t?i:r),f.addClass(t?r:i))}function kt(){var t=n(w("bar"),y);t.css("visibility","inherit")}function yt(n){k&&k.show(n)}function dt(){k&&k.toggleVisibility()}function pt(){var t=lt(),r=ft(),i;a.getShowICCard()&&p&&(t=""),n(w("frame_clip"),y).attr("title",t),n(w("usertile"),y).attr("alt",t),i=n(w("name"),y),i.attr("title")&&i.attr("title",r)}function gt(){return p&&p.getIsFavorite()}function ni(){return l.showICCard&&h.getShowCard()}function ut(){var t=l.name||p&&p.getDisplayNameWithFallback(),n=h.getName();return n=n=="{0}"?null:n,t||n||""}function ct(){var n=h.getUserTileUrl(),t=p&&p.isMe()&&!ii(n)?n:null;return t||l.userTileUrl||nt&&nt.getUserTile()||p&&p.getUserTile()||h.getUserTileUrl()}function ft(){var n=l.email,t;return!n&&p&&(t=p.getContactEmails(),t.length>=0&&(n=t[0])),n||h.getEmail()}function lt(){if(l.toolTipType=="none")return"";var n;return n=l.toolTipType&&l.toolTipType!="email"&&ut()?ut():ft(),n||""}function w(n){return"#{0}_{1}".format(it,n)}function ti(n){return s&&(n==null||n=="")?'""':n}function ii(n){return n.indexOf("blueman")>=0}l=l||{};var a=this,p,nt,it,d,b,k,tt,et=!1,g=!1,ot=!0,rt=!1,y,v;a.person=null,a.pwcId=c,a.template=h,a.init=function(){a.id=it=h.getNewId(),a.namespace=l.namespace,b=new t.ICPresence(l.useActiveMessagingAddress),k=new t.ICCard(a,b),c&&$Do.when("$pwc",0,function(){$pwc.callWhenReady(function(){rt||(tt=f.People.Reporter,a.person=p=$pwc.getPerson(c),p&&(b.setPerson(p,ft()),k.setPerson(p),pt(),wt()),d&&bt())})})},a.render=function(){var u=ut().encodeHtmlAttribute(),f=lt().encodeHtmlAttribute(),i,r,t;return d=h.html.replace(new RegExp(h.id,"g"),it).format(u,"","",ti(f)),i=ct(),o[i]&&(r=n("<div><\/div>").html(d),t=n(w("usertile"),r),t.prop("src",i),t.addClass("c_ic_tile"),t.css("visibility",""),d=r.html()),d},a.activate=function(t){var r,u,i;g||rt||(ot&&(ot=!1,y=t||n("#"+it),y.addClass("icpwc"),v=n(w("usertile"),y),pt(),gt()&&(r=n(w("fstarp"),y),r.length>0&&(r.removeClass("c_ic_fstarp_hide"),u=n(w("name"),y),u.length>0&&u.parent().addClass("c_ic_name_fstar_"+h.getTileSize()))),a.getShowICCard()||n(w("usertilecontainer"),y).addClass("c_emptymenu"),kt()),n(b).bind(e,ht),ht(),setTimeout(st,0),a.getShowICCard()&&(i=n(w("frame_clip"),y),i.addClass("c_ml"),i.find(".c_ic_tile_clip").css("cursor","pointer"),i.bind("mouseover.ic",yt),i.bind("focus.ic",yt),i.bind("click.ic",dt)),g=!0)},a.deactivate=function(){g&&!rt&&(n(b).unbind(e,ht),y&&(n(w("frame_clip"),y).unbind(".ic"),n(w("name"),y).unbind()),v&&v.unbind(),k.dispose(),k=new t.ICCard(a,b),g=!1)},a.isActive=function(){return g},a.getUserTileContainerElement=function(){return n(w("usertilecontainer"),y)},a.getPresence=function(){return b},a.dispose=function(){a.deactivate(),b&&(b.dispose(),b=null),y&&y.html(""),y=v=null,a.person=p=nt=null,rt=!0},a.getShowICCard=ni,a.getName=ut,a.getUserTileUrl=ct,a.getEmail=ft,a.getTooltip=lt,a.init()}var u=window,f=u.wLive,t=f.IC,s=$B.IE,e="presenceChanged",i="c_ic_blueframe",r="c_ic_greenframe",o={};t.IC=h}(window.originaljQuery||jQuery),function(n){function r(){function h(n,t,r){var e=new i.IC(n,t,r);return o[e.id]=e,t&&(f[t]=f[t]||[],f[t].push(e)),r.namespace&&(u[r.namespace]=u[r.namespace]||[],u[r.namespace].push(e)),e}var r=this,o={},f={},u={},e,s=!1;r.init=function(){s||(s=!0,e=new i.ICTemplates,$Do.register("$icm",0,!0))},r.addTemplates=function(n){s&&e.addTemplates(n)},r.createICForPerson=function(n,t,i){if(!e)return null;i=i||{};var r=e.getTemplate(n);return!t||!r?null:h(r,t,i)},r.createNonContactIC=function(n,t,i){if(!e)return null;var r=e.getTemplate(n);return r?(i=i||{},i.email=t,h(r,null,i)):null},r.createICsFromCids=function(n,i,u,f){function s(t,i){var e=r.createICForPerson(n,i.getId()||t,f);u(o[t],e)}function h(n,t){for(var i=0;i<n.length;i++)s(n[i],e.getPerson(n[i]));for(i=0;i<t.length;i++)u(t[i],null)}var o={},e;$Do.when("$pwc",0,function(){e=t.$pwc,e.callWhenReady(function(){for(var r=[],n,u,t=0,f=i.length;t<f;t++)n=i[t][0],o[n]=i[t][1],n!="0"&&n!=0&&(u=e.getPerson(n),u?s(n,u):r.push(n));r.length>0&&e.client.loadProfiles(r,h)})})},r.getICById=function(n){return o[n]||null},r.getICsForPerson=function(n){return f[n]},r.getICsForNamespace=function(n){return u[n]||[]},r.removeIC=function(n){var t,i;delete o[n.id],n.pwcId&&(t=n.pwcId,f[t]&&(f[t].remove(n),f[t].length==0&&delete f[t])),n.namespace&&(i=n.namespace,u[i]&&(u[i].remove(n),u[i].length==0&&delete u[i])),n.dispose()},r.removeAllICsByNamespace=function(n){var t=u[n],i;if(t)for(t=t.clone(),i=0;i<t.length;i++)r.removeIC(t[i])},r.removeAllICs=function(){for(var n in o)r.removeIC(o[n])},r.dispose=function(){n(t).unbind("unload",r.dispose),r.removeAllICs(),o=null,u=null,f=null,e&&e.dispose(),e=r.templates=null,t.$icm=null},n(t).bind("unload",r.dispose)}var t=window,u=t.wLive,i=u.IC;i.ICManager=r,t.$icm=new r,$Do.register("$icmCreated",0,!0)}(window.originaljQuery||jQuery),function(){function o(n,f){var c=f&&f.getAttribute("wrap");if(c){var s=t.$Config,v=s.WS||{},y=v.SL||{},l=y.url;if(l){for(var h=c.split(i),p=h.slice(u).join(i),a={l:p,p:s.di,mkt:s.mkt},o=0;o<u;o++)h[o]&&(a[r[o]]=h[o]);f.href=l+"?"+e.serialize(a)}}}var t=window,f=t.$BSI,e=t.$Utility,i="|",r=["h","o","u","q1","q2","q3","q4","q5"],u=r.length;f.addNavCallback(o)}(window.originaljQuery||jQuery),function(n){function e(){u=t.$Config,i=u.Ssl||{},r=i.imu,f=i.d}var t=window,h=t.$Utility,c=t.Debug,u,i,r,f,o="http://",s="https://";e(),t.$ssl={ensureSSLImageUrl:function(n){return f||document.location.href.toLowerCase().startsWith(s)&&n.toLowerCase().startsWith(o)&&r&&(n=r+n.encodeUrl()),n},copyOutConfig:function(t){t.$Config.Ssl={},n.extend(t.$Config.Ssl,$Config.Ssl,!0),t.$ssl.resetCachedValues()},resetCachedValues:e}}(window.originaljQuery||jQuery),function(n){function gt(n){n.which==13&&(kt=n.type=="keydown")}function gr(){var r=window.location.host.split("."),u="."+r[r.length-2]+".com",i=new Date,t=$HIC,f=ut.getCookie(it,1)||"",n=f.split("|");i.setDate(i.getDate()+t.e),n[0]!=t.c&&(n=[]),n[0]=t.c||n[0]||"",n[1]=t.m||t.m===0?t.m:n[1]||"",n[2]=t.l||t.l===0?t.l:n[2]||"",n[3]=t.cl||n[3]||"",n[4]=t.dg||t.dg===0?t.dg:n[4]||"",n[5]=t.scl||n[5]||"",n[0]?ut.setCookie(it,n.join("|"),u,0,i,1):ut.deleteCookie(it,u)}var i=window,o=i.$Config,rt=i.$Do,ut=i.$Cookie,bt=n(i),h,a,kt,b,ft,et,dt,ot=document.createElement("div"),st=n(ot),k,ct,c,f,y,s,r,l,ni,u,ui,fi,ei,p,pt,g,w,dr,v,wt,nt,tt,it;ot.className="headerBarBG";var ht=[],si="SelectClick.MetroHeader.Nav",hi="c_h_mail",ci="c_h_ppl",li="c_h_cal",ai="c_h_sd",vi="c_h_dfe",yi="c_h_dfi",pi="c_h_wd",wi="c_h_xl",bi="c_h_ppt",ki="c_h_on",di="c_clogot",gi="c_clogoc",nr="c_hiconm",tr="c_hiconu",ir="c_hiconc",rr="c_coh",ur="c_cof",fr="c_memenu",er="c_melink",or="c_himla",sr="c_himld",hr="c_memenuic",cr="c_profile",lr="c_hli",ar="c_wimnetsub",vr="c_signout",yr="c_wimneton_FB",pr="c_wimnetoff_FB",t={};t[hi]="Mail",t[ci]="People",t[li]="Calendar",t[ai]="SkyDrive",t[vi]="DogExt",t[yi]="DogInt",t[pi]="Word",t[wi]="Excel",t[bi]="PowerPoint",t[ki]="OneNote",t[di]="Home",t[gi]="Switcher",t[nr]="webIM",t[tr]="undo",t[ir]="gear",t[rr]="help",t[ur]="feedb",t[er]="me",t[or]="presence",t[sr]="presence",t[hr]="c_memenuic",t[cr]="profile",t[lr]="account",t[ar]="3pchatm",t[vr]="signout",t[yr]="fbchat",t[pr]="fbchat",k=n("#c_signin"),ct=function(){for(var t=0;t<ht.length;t++)ht[t].unbind("click");k.unbind(),n(".c_clogo").unbind(),n(i).unbind("unload",ct)},n(".c_clogo a").attr("onclick",""),i.$header={},l=0,i.$header.showAppBar=function(t,e,o){var v,l,p,a;e&&(c&&(r.unbind(),s.remove(),f.remove(),y=c=null),c=document.createElement("div"),c.id="c_headerBar",document.body.appendChild(c),f=n(c),y=$f.createIframe(),y.id="c_headerBarIframe",document.body.appendChild(y),s=n(y),v='<div><ul class="c_h_ttl">'+e.innerHTML+'<\/ul><div class="c_clr"><\/div><\/div>',c.innerHTML=v,r=f.find("a"),dt=r.length,r.each(function(){var t=n(this);u(t,t.attr("id"))}),i.$Sutra&&$Sutra.Shared&&$Sutra.Shared.HeaderTile&&(r.each(function(){sutra(this,"$Sutra.Shared.HeaderTile")}),i.$Sutra&&$Sutra.Shared&&$Sutra.Shared.HeaderTiles&&sutra(n("#c_headerBar div")[0],"$Sutra.Shared.HeaderTiles")),n(e).remove());var w=function(n){n=n||event;var t=n.target,i=n.which;b=i===9,ft=!!n.shiftKey,et=t},k=function(n){var t=n.which;t===9&&(b=0)},d=function(t){if(b&&ft&&et===r[0]||b&&!ft&&et===r[dt-1]){l(t);try{n("#c_clogoc").focus()}catch(i){}}},h;r.bind("mousedown",function(){h&&h.removeClass("c_hbf"),h=n(this),h.addClass("c_hbf")}),r.each(function(){var t=n(this);t.bind("keydown",w),t.bind("keyup",k),t.bind("blur",d)}),f.show(),s.show(),setTimeout(function(){if(f.css("top","0"),s.css("top","0"),s.css("height",f.outerHeight()+"px"),o)try{r[0].focus()}catch(n){}},0),l=function(n){if(n.type!="keydown"||n.which==27)if(st.remove(),$B.IE&&$B.V<=9)f.hide(),s.hide(),a();else{var t=f.outerHeight()*-1;f.css("top",t+"px"),s.css("top",t+"px"),setTimeout(a,250)}},p=function(t){n(t.srcElement).parents("#c_headerBar").length||l(t)},n(t).bind("keydown.header",l),n(i).bind("keydown.header",l),n(document).bind("click.header",l),n(document).bind("touchend.header",p),document.body.appendChild(ot),st.width(bt.width()).height(bt.height()),a=function(){f.hide(),s.hide(),st.remove(),r.unbind(),n(document).unbind(".header"),h&&h.removeClass("c_hbf")}},n("#c_clogoc").bind("click",function(){if(i.top.$header.showAppBar(i,_ge("c_h_ttl"),kt),i.top.$HeaderWebIM){var n=window.top.originaljQuery||window.top.jQuery;i.top.$HeaderWebIM.setUnreadCountEl(n("#c_headerBar #c_murc")[0])}return!1}),n("#c_clogoc").bind({keydown:gt,keyup:gt}),i.$header.showLoading=function(){h||(h=n($f.createLoading(0,$f.loadingType.flying,"100%","4px",0,"#fff")),h.addClass("c_h_flyingDots"),n("#c_cb0").append(h)),l++,$f.showLoading(h)},i.$header.hideLoading=function(){l--,l=l<0?0:l,h&&!l&&$f.hideLoading(h)},i.$header.getDummyHeader=function(){if(!a){a=document.createElement("ul"),a.className="c_mcp t_hdbg c_c";var n=document.createElement("li");n.style.listStyle="none",a.appendChild(n),document.body.appendChild(a)}return a},ni=function(n){if(i.$PF){var t=encodeURIComponent($PF.getCurrentUrl()),r=$f.replaceQs(k.attr("href"),"wreply",t);return $BSI.navigateTo(r,"_top"),$f.cancelEvent(n)}return!0},k.bind("click",ni),n(i).bind("unload",ct);var e=[],nu,lt,at,vt,ti,ii,tu,wr=function(n,t,i){this.execute=function(r){r.href=r.href.indexOf("?rru=home")>-1?r.href.replace(t,i):r.href.replace(n,i)}},iu=function(n,t){this.execute=function(i){var r="://"+t,u="://"+n+t;i.href=i.href.replace(r,u)}},ri=function(n,t,i){this.execute=function(r){var u=r.href,f,s,h,e;u.indexOf(t)>-1&&u.indexOf("#")<0&&!u.match(/[\?|&|\/]cid/)&&(i?(f="."+o.d,s=f+"/"+n,t.toLowerCase()=="profile"&&u.indexOf("/home")>0&&(f+="/home"),r.href=u.replace(f,s)):(h="cid="+n,e="?",u.indexOf(e)>-1&&(e="&"),r.href=u+e+h))}},br=function(n,t){this.execute=function(i){n&&i.href.indexOf("?rru=inbox")>-1?i.href=n:t&&i.href.indexOf("?rru=contacts")>-1&&(i.href=t)}},kr=function(n){var t,r,u;i.$theme=n.$theme,t=n._ge("themecss"),t&&(r=document.createElement("style"),document.head.appendChild(r),r.styleSheet&&t.styleSheet?r.styleSheet.cssText=t.styleSheet.cssText:(u=document.createElement("div"),u.innerHTML='&nbsp;<style type="text/css">'+t.innerHTML+"<\/style>",document.head.appendChild(u)))};i.$header.copyThemeToOuterFrame=kr,u=function(n,i,r){n&&Boolean(t[i])&&(n.bind("click",function(){var n=t[i];Boolean(r)&&(n=n+r),$BSI.reportEvent(si,{MetroHeaderNav:n})}),ht.push(n))},i.$header.reportBSIMenu=u,ui=function(i){var r=i.getAttribute("hid");Boolean(t[r])&&u(n(i),r,"A")},rt.register("$Header.MenuBind",ui),fi=function(){u(n("#c_h_theme_m_ul"),fr)},rt.register("$Header.ThemesMenuBind",fi),o.Header&&(lt=o.Header.MailLink,at=o.Header.ContactsLink,vt=o.Header.HotmailDomain,ii=o.Header.OldHomeDomain,ti=o.Header.OldHotmailDomain),ei=vt,lt||at?e[e.length]=new br(lt,at):ei&&(e[e.length]=new wr(ti,ii,vt)),p=i.$HIC&&$HIC.c,p&&p.length>0&&(e[e.length]=new ri("cid-"+p,"profile",!0),e[e.length]=new ri(p,"skydrive."));var d=[],yt=[],oi=i._ge("c_header");for(oi&&(pt=$css.getCN("c_hleft","div",oi)[0],pt&&(yt=pt.getElementsByTagName("a"))),g=yt.length-1;g>=0;g--)w=yt[g],d.push(w),u(n(w),w.id),i.$Sutra&&$Sutra.Shared&&$Sutra.Shared.HeaderLink&&sutra(w,"$Sutra.Shared.HeaderLink");for(u(n("#c_clogot"),"c_clogot"),u(n("#c_clogoc"),"c_clogoc"),u(n("#c_hiconu"),"c_hiconu"),u(n("#c_hiconm"),"c_hiconm"),u(n("#c_hiconc"),"c_hiconc"),dr=n("#c_hmc").find("a").each(function(){d.insert(0,this)}),nt=d.length-1;nt>=0;nt--)for(v=d[nt],!v.target&&(v.href.indexOf("//g.live")>-1||v.href.indexOf(o.sd)<0)&&(v.target="_top"),tt=e.length-1;tt>=0;tt--)wt=e[tt],wt&&wt.execute(v);i.$HIC&&(it="HIC",rt.register("$Header.UpdateCookie",gr))}(window.originaljQuery||jQuery),function(n){function v(r){var p=i.Themes,e=[],h,v,s;e.push('<div id="c_h_theme_m" class="c_om noresize t_hovl"><ul class="c_oblock c_ot" id="c_h_theme_m_ul" serviceurl="'),e.push(p.ThemeService.encodeHtmlAttribute()),e.push('">');var w='<li class="c_omti">',y="<\/li>",c=!0,b=r?Math.min(l,r.length):l,k=a-1;for(h=0;h<b;h++)v=h%a,v==0&&e.push(w),s=r?r[h]:null,e.push('<a href="#" onclick="return false;" info="'),s&&e.push((s[0]+"|"+s[1]).encodeHtmlAttribute()),e.push('" class="c_thmb" title="'),s&&e.push(s[2].encodeHtmlAttribute()),e.push('">'),s||e.push('<div class="c_noimg"><\/div>'),e.push("<\/a>"),c=v==k,c&&e.push(y);c||e.push(y),e.push('<\/ul><span class="c_ms"><\/span><\/div>'),f.innerHTML=e.join(""),u=t._ge("c_h_theme_m"),sutra(u,"$Sutra.Shared.ThemesPicker"),t.$Sutra&&$Sutra.Shared&&$Sutra.Shared.ThemesThumb&&n(".c_thmb",u).each(function(){sutra(this,"$Sutra.Shared.ThemesThumb")}),r&&t.$theme.bind(u,$menu.themeAreaId),u.style.display="block",o=1}function w(n){n&&(r=0,h=0,f=null),r==0?((!o||n)&&(e=t._ge("c_theme_menu"),(e||f)&&(f=f||e.parentNode,e=null,v())),o&&($BSI.isLoading()?$BSI.addLoadedCallback(y):y(),s&&s.menu&&s.menu.update())):r==1&&t.$theme&&t.$theme.beforeMenuShow()}function y(){if(r!=1){if(r=1,$menu.themeAreaId="c_h_theme_m_ul",$menu.disableThumbs=0,!h){h=1;var f=i.handlerBaseUrl,u=t.$PF&&$PF.getAppFrameWindow();if(u)try{f=u.location.protocol+"//"+$U.getHost(u.location.href)}catch(e){}c.fetchScript(f+"/Handlers/ThemePickerJS.mvc"+i.Themes.ThemeJSParms,n.noop),c.fetchScript(i.Header.themeJsUrl,function(){$Do.register("$theme.invertTheme")})}setTimeout(b,5)}}function b(){(function n(){"undefined"==typeof t.$theme?$menu.themeCallback=n:(t.$theme.renderThemePicker=function(n){var e,t,i,r,u,f,o;if(p)for(e=n.length,window.themejs=null,t=1,u=e-1,f=t;f<n.length;f++)i=Math.floor(Math.random()*u)+t,r=Math.floor(Math.random()*u)+t,o=n[i],n[i]=n[r],n[r]=o;v(n),$Do.when("$Header.ThemesMenuBind")},$Do.register("$theme.renderThemePicker",t.$theme.renderThemePicker))})()}var t=window,i=t.$Config,c=t.$Network,u,r=-1,o=0,s=t._ge("c_hiconc"),e,f,h,p=!1,l=i.Themes.numberOfThemes,a=6;i&&i.Header&&i.Header.themeJsUrl&&(r=0),$Do.register("$ThemeMenuInit",w)}(window.originaljQuery||jQuery),function(n){function u(){function k(){n(t).unbind(".me"),e&&n(e).unbind("click",v)}function v(n){$menu.closeCurrent();var i=t.$Logout;i&&i.doLogout&&i.doLogout(n)}var u=this,f=!1,l=!1,y,p,w,o="c_memenu",b="c_meic",s="c_melinkspan",h="c_melink",c,i,a,e;n(t).bind("unload.me",k),e=_ge("c_signout"),e&&n(e).bind("click",v),u.copyAndInitializeMenu=function(r){var e,y,w,p,b;if(r=r||t.$PF&&t.$PF.getAppFrameWindow()||window,e=_ge(o),y=r._ge(o),a=r._ge(s),w=t!=r&&(!e||!e.initialized||!y.isCopied),w&&(f=!1),!f&&r.$f){if(p=_ge(s),i=e||y,w){e&&(n(e).remove(),i=y),b=_ge(h),b&&n(b).remove();var d=$header.getDummyHeader().firstChild,k=r.$f.getLocation(r._ge(s),1,1),v=document.createElement("ul"),l=document.createElement("a");v.innerHTML=i.innerHTML,v.className=i.className,v.id=i.id,v.initialized=1,y.isCopied=1,l.style.position="absolute",l.style.top=k.bottom+"px",l.style.left=($B.rtl?k.left:k.right)+"px",l.style.height=0,l.style.padding=0,l.id=h,i=v,c=l,d.appendChild(l),d.appendChild(v),t.$header.copyThemeToOuterFrame(r),n(t).bind("resize.me",function(){v.initialized=0})}else e&&p&&e.parentNode!=p.parentNode&&($css.add(e,"uxfa_m c_m t_hovl"),p.parentNode.insertBefore(e,p.nextSibling),c=_ge(h));u.init(),$Do.when("$HeaderWebIM.Initialize")}},u.openMenu=function(n){u.copyAndInitializeMenu(),f&&(i.binding?i.binding.toggleState():$menu.create(n,0,{sourceEl:c,menuEl:i,pressedStateEl:a}))},u.createMeICs=function(){var i,u,a,o,f,e,v;if(!l){l=!0;var s=t.$icm,h=r.cid,c=_ge(b);c&&(i=s.createICForPerson("MeControlSmall",h),i&&(u=n(c),u.html(i.render()),i.activate(),a=u.find("img"),a.attr("title",u.attr("title")))),o=_ge("c_memenuic"),o&&(f=s.createICForPerson("MeControlXXL",h),f&&(e=n(o),e.html(f.render()),f.activate(),v=e.find("img"),v.attr("title",e.attr("title"))))}},u.init=function(){f||(y=n("#c_memenu"),p=n("#c_memenu_right"),w=n("#c_memenu_left"),$Do.when("$ic",0,u.createMeICs),t.$header&&(t.$header.reportBSIMenu(n("#c_himla"),"c_himla"),t.$header.reportBSIMenu(n("#c_himld"),"c_himld"),t.$header.reportBSIMenu(n("#c_memenuic"),"c_memenuic"),t.$header.reportBSIMenu(n("#c_profile"),"c_profile"),t.$header.reportBSIMenu(n("#c_hli"),"c_hli"),t.$header.reportBSIMenu(n("#c_wimnetsub"),"c_wimnetsub"),t.$header.reportBSIMenu(n("#c_signout"),"c_signout")),sutra(_ge(o),"$Sutra.Shared.MeControlMenu"),sutra(_ge("c_profile"),"$Sutra.Shared.Profile"),sutra(_ge("c_hli"),"$Sutra.Shared.Account"),sutra(_ge("c_signout"),"$Sutra.Shared.SignOut"),f=!0)},$Do.when("$icm",0,u.createMeICs)}var t=window,r=t.$Config,i=_ge("c_melink");i&&(_$meLink=n(i),_$meLink.mouseover(function(){window.top.$MeControl.copyAndInitializeMenu(t)}),_$meLink.focus(function(){window.top.$MeControl.copyAndInitializeMenu(t)}),t.$header.reportBSIMenu(_$meLink,"c_melink"),sutra(i,"$Sutra.Shared.MenuLink")),t.$MeControl=new u}(window.originaljQuery||jQuery),function(n){function ft(){var n=null;if(t.XMLHttpRequest)n=new XMLHttpRequest;else if(t.ActiveXObject)try{n=new t.ActiveXObject("Microsoft.XMLHTTP")}catch(i){}return n}function et(){var i=ft(),o=u("LanguagePicker.Client.Title"),s='<div class="loadingArea"><table class="loadingTable"><tr><td class="loadingSpinner" id="lpSpinner"><\/td><td class="lpLoading">'+u("LanguagePicker.Client.Loading")+"<\/td><\/tr><\/table><\/div>",e=wLive.Controls.Notifications,r=e.createFlyout({title:o,content:s,anchor:_ge("uxp_ftr_link_language"),buttons:{action:u("LanguagePicker.Client.Save")},options:{dismissOnButtonClick:!1,moreCss:"languagePickerFlyout"}}),f;return d=r,n(r).bind({"buttonclick.flyout":function(i,f,e){var s,o;if(e==="action"){var v=n(r.content()).find("form"),h=v[0].elements,c=h.language.value,l=h.canary.value,y=n(r.content()).find(".UserContent").html('<div class="loadingArea"><table class="loadingTable"><tr><td class="loadingSpinner" id="lpSpinner"><\/td><td class="lpLoading">'+u("LanguagePicker.Client.Saving")+"<\/td><\/tr><\/table><\/div>");n(".languagePickerFlyout button.default").hide(),t.$f&&(s=n($f.createLoading(0,$f.loadingType.spinning,"25px","25px")),n("#lpSpinner").append(s),$f.showLoading(s)),o=ft(),o&&(o.onreadystatechange=function(){if(o.readyState==4&&o.status==200)if(r.dismiss(),t.$PF)try{t.top.location=t.$PF.getCurrentUrl()}catch(f){}else{var i=o.responseText,n=t.top.location.href.toString(),u=$f.replaceQs(n,"mkt",i);try{t.top.location.href=u,n.indexOf("#")!=-1&&t.top.location.reload()}catch(f){}}else o.readyState==4&&o.status!=200&&(r.dismiss(),st(a.saving))},o.open("POST","/handlers/languagesave.mvc?canary="+encodeURIComponent(l)+"&lang="+c,!0),o.send("canary="+encodeURIComponent(l)+"&lang="+c))}},"beforedismiss.flyout":function(){n(document.body).toggleClass(nt,!1)}}),n(document.body).toggleClass(nt,!0),r.show().then(function(){}),e.getQueue().start(),t.$f&&(f=n($f.createLoading(0,$f.loadingType.spinning,"25px","25px")),n("#lpSpinner").append(f),$f.showLoading(f)),i&&(i.onreadystatechange=function(){i.readyState==4&&i.status==200?pt(i.responseText):i.readyState==4&&i.status!=200&&(r.dismiss(),st(a.loading))},i.open("GET","/handlers/languagepicker.mvc",!0),i.send()),!1}function yt(){return window.require?window.require(["Flyout.js"],et):et(),!1}function u(n){var i="";return t.GetString&&(i=t.GetString("live.shared.strings."+n)),i}function ot(){var n="",t,i;n=ut===a.loading?u("LanguagePicker.Client.Error.Loading"):u("LanguagePicker.Client.Error.Saving"),t=wLive.Controls.Notifications,i=t.createTopBar({content:n,dismissalMode:"Explicit",buttons:{action:u("LanguagePicker.Client.Close")}}),i.show(),t.getQueue().start()}function st(n){return ut=n,window.require?window.require(["NotificationBar.js"],ot):ot(),!1}function pt(t){var r=n(d.content()).find(".UserContent").html('<div><form name="langPicker" action="/handlers/languagesave.mvc" method="POST">'+t+"<\/form><\/div>"),i;n(".languagePickerFlyout button.default").show(),i=n(".Flyout.languagePickerFlyout"),i.attr("aria-labelledby","uxp_ftr_link_language"),i.attr("aria-label",u("LanguagePicker.Client.Title"))}function v(n,t,i){return(rt.style.display=t,i)?(n.returnValue=!1,!1):!0}function wt(n){return v(n,"none",!0)}function bt(n){return v(n,"",!0)}function ht(t,i){return t&&(t.id===i||ht(n(t).parent(),i))}function ct(n){return rt.style.display===""&&!ht(n.target,s.id)?v(n,"none",!1):!0}function e(){clearTimeout(w),w=setTimeout(i.adjustFooter,50)}function kt(){var t=r[n(this).attr("id")];t&&$BSI.reportEvent(tt,{FooterNav:t})}function lt(n){t.$Sutra&&$Sutra.Shared&&$Sutra.Shared.FooterLink&&sutra(n,"$Sutra.Shared.FooterLink")}var t=window,p=$Config,i=t.$footer={},w,b=_ge("uxp_ftr_control"),f=n("#m_wf"),at=n("#m_wh"),c="uxp_ftr_ff",k,vt=at.height(),d,l,g,nt="langPickerVisible",tt,r,y,o;p.wla&&$Network.fetchScript($Config.wla,function(){},"window.live.shared.strings.languagepicker","Gfx_JS_WLiveStr_Download","Gfx"),f.length||(f=n(b).parent()),tt="SelectClick.Footer.Nav",r={},r.uxp_ftr_link_legal="Terms",r.uxp_ftr_link_privacy="Privacy",r.uxp_ftr_link_developers="Dev",r.uxp_ftr_link_intl1="Intl",r.uxp_ftr_link_custom3="CoB1",r.uxp_ftr_link_custom4="CoB2",r.uxp_ftr_link_abuse="Abuse",r.uxp_ftr_link_language="Lang";var s=t._ge("uxp_ftr_control_mini"),it=t._ge("uxp_ftr_hidechevron"),rt=t._ge("uxp_ftr_control_cc"),h=t._ge("uxp_ftr_link_language"),a={loading:0,saving:1},ut=-1;i.dispose=function(){s&&(n(document).unbind("click",ct),n(s).unbind(),n(it).unbind()),n(h).unbind(),n("#uxp_ftr_control a").unbind(".ftr"),n(t).unbind("unload",i.dispose),n(t).unbind("resize",e),n(document).unbind(".footerResize")},i.pageContentDiv=_ge("c_content")||_ge("BelowHeader"),i.pageContentDiv||(i.pageContentDiv=f.prev(".MainLayoutIndented")[0]),i.adjustFooter=function(){var r=i.pageContentDiv,u,t,e;b&&r&&(u=$f.clientHeight(),t=r.scrollHeight,l&&l==u&&g==t||(l=u,g=t,k=f.outerHeight(),n(i).trigger("beforeResize"),t=r.scrollHeight,e=t+vt,f.hasClass(c)&&(e+=k),e<$f.docHeight(!0)?f.addClass(c):f.removeClass(c),n(i).trigger("afterResize")))},s&&(n(document).bind("click",ct),n(s).bind("click",bt),n(it).bind("click",wt)),n("#uxp_ftr_control a").each(function(){var t=this;n(t).bind("click.ftr",kt),lt(t)}),y=_ge("uxp_ftr_link_mobile"),y&&n(y).bind("click",function(){try{$Cookie.setCookie($Config.bpcc,"false",$Config.sd),window.open($Config.fml,"_top")}catch(n){}}),lt(_ge("uxp_ftr_link_trademark")),p.ff&&(f.css("padding-top",0),n(t).bind("resize",e),n(document).bind({"keydown.footerResize":e,"mousedown.footerResize":e,"mousewheel.footerResize":e,"DOMMouseScroll.footerResize":e}),i.adjustFooter()),$Config.LP&&$Config.LP.bypassLanguageFlyout||h&&(o=n(h),o.attr("aria-haspopup","true"),o.attr("aria-label",u("LanguagePicker.Client.LanguageLinkAriaLabel")),o.attr("tabindex","0"),o.attr("role","button"),h.href="",o.bind("click",yt)),n(t).bind("unload",i.dispose)}(window.originaljQuery||jQuery),function(n){function v(){if(r.length){if(f=n(u.$footer),l=n("#uxp_ftr_control"),s=_ge("c_base"),n(u).bind("unload.leftNav",y),n(".c_n .c_gl").bind("click",p),h)i=n("#"+h);else{var c=n(".c_n .active > a");i=c.length?c:n(".c_n .active > .link")}i&&(t=i.hasClass("c_gl")?i.siblings("ul"):n(i.parents("ul")[0]),o.AutoExpand&&t.show(),i.parent().addClass("active"),i.parents("ul").show()),o.FullHeight&&(f.bind("beforeResize.leftNav",w),f.bind("afterResize.leftNav",b),e.adjustHeight()),r.find("a").bind("dragstart.ln",$f.cancelEvent)}}function y(){n(u).unbind(".leftNav"),n(f).unbind(".leftNav"),n(".c_n .c_gl").unbind(),r.find("a").unbind(".ln")}function p(){var r=n(this),i;r.attr("href")||(i=r.siblings("ul"),t||(t=i),t[0]==i[0]?t.toggle():(t.hide(),i.show(),t=i))}function w(){r.css("height","auto")}function b(){clearTimeout(c),c=setTimeout(e.adjustHeight,100)}var u=window,e=u.$leftNav={},o=$Config.LeftNav||{},h=o.ActiveLinkId,c,r=n("#c_ln"),s,f,l,a=parseInt(r.css("padding-top")),t,i;e.adjustHeight=function(){if(s&&r.length){var n=s.scrollHeight-l.height()-a;r.css("height",n+"px")}},v()}(window.originaljQuery||jQuery),function(n){var t=window,i=0,r=6;t.CollapsingMenu=function(t,u,f,e,o,s,h,c){function k(){var t,i,n;return h?t=h():(n=a?s.previousSibling:s,n&&(i=$B.ltr?f.parentNode.offsetWidth+v(f.parentNode)<n.offsetWidth+v(n)+o+20:v(f.parentNode)>v(n)-(o+20),t=f.childNodes.length>b&&i||it.offsetTop<n.offsetTop-n.offsetHeight)),t}function v(n){for(var t=n.offsetLeft;n.nodeName.toLowerCase()!="body"&&n.nodeName.toLowerCase()!="html";)if(n=n.offsetParent,n)t+=n.offsetLeft;else break;return t}function w(){var t=!1,n=f.lastChild.previousSibling;return n&&(d(n,!0),l.insertBefore(n,l.firstChild),t=!0),t}function d(t,u){var f=n(t),s=f.find("a.c_ml")[0],e=s&&s.menu,o,h;f.hasClass("c_sm")?u?(e&&e.deactivate(),f.children("a").hide(),f.children("ul").css("visibility",""),f.find("ul li:last-child").append('<span class="c_ms"> <\/span>')):(e&&e.activate(),f.children("a").css("display",""),f.find("ul li:last-child .c_ms").remove()):f.children(".c_m").length>0&&(o=f.find("span.c_chev"),o.length&&(h=u?tt:nt,o[0].innerHTML=" "+h),e&&(u?e.convertToSubMenu(r):e.convertFromSubMenu(i)))}var y=this,p=t,b=u,g=c?$menu.chevronTypes.SmallDownLight:$menu.chevronTypes.SmallDownDark,nt=$menu.createChevron(g,!0),tt=$B.rtl&&$B.IE_M6?$menu.createChevron($menu.chevronTypes.SmallLeftDark,!0):$menu.createChevron($menu.chevronTypes.SmallRightDark,!0),l=f.lastChild.childNodes[1],it=f.firstChild,a=!1;s||(s=l.parentNode,a=!0),y.updateMaxItems=function(n){p=n},y.updateMinItems=function(n){b=n},y.redraw=function(t,i){var h=$css.getCN("c_collRem","a",l)[0],u,r,o,c,v;for(h&&(u=h.parentNode,u.parentNode.removeChild(u)),r=f.childNodes.length-1;r<p&&l.childNodes.length!=0;)d(l.firstChild,!1),f.insertBefore(l.firstChild,f.lastChild),r++;while(r>p)w(),r--;for(l.parentNode.style.display=e;!i&&k();)if(!w())break;o=n(l),o.show(),c=o.children(),c.filter(":visible").length===0?l.parentNode.style.display="none":(v=a,l.parentNode.style.display=e,s=l.parentNode,a=!1,k()&&w(),a=v),l.binding&&l.binding.update()}}}(window.originaljQuery||jQuery),function(n){function u(){}function i(t,i){var r=this;r._id=u._getItemId(),r.$obj=n(t).first(),r._isDisposed=!1,i?(r._$a=r.$obj.children("a").first(),r._$a.length==0?r._$a=null:r.id=r._$a.attr("id"),sutra(r._$a,"$Sutra.Shared.NavLink",!0),r._$span=r.$obj.children("span:not(.is_c)").first(),r._$span.length==0&&(r._$span=null),r._$imageStrip=r.$obj.children("span.is_c").first(),r._$imageStrip.length==0&&(r._$imageStrip=null),r._$sep=r.$obj.children("span.c_ms").first(),r._$sep.length==0&&(r._$sep=null),r._$rchev=r.$obj.children("span.c_rchev").first(),r._$rchev.length==0&&(r._$rchev=null)):s(r,!1)}function r(t){t._$a&&t._$a.length!=0||(t._$a=n("<a><\/a>"),sutra(t._$a,"$Sutra.Shared.NavLink",!0),t.$obj.append(t._$a),t._isDisposed=!1)}function s(n,t){t&&(n.$obj=null),n._$a=null,n._$span=null,n._$sep=null,n._$rchev=null,n._$imageStrip=null}var f=window,e=f.wLive.Controls,o=f.$edh,h=0,t;e.NavItem=u,u._getItemId=function(){return"c_ci"+h++},e.NavLink=i,t=i.prototype,t.setHtml=function(n){var t=this;return r(t),t._$a.html(n),sutra(t._$a,"$Sutra.Shared.NavLink",!0),t._$span&&(t._$a.detach(),t._$span.html(n),t._$span.append(t._$a)),t},t.setUrl=function(n){return this.setProperty("href",n)},t.setId=function(n){var t=this;return t.id=n,t.setProperty("id",n)},t.setProperty=function(n,t){var i=this;return r(i),i._$a.attr(n,t),i},t.enable=function(){var n=this;return n._$span&&(o.e(n._$span[0]),n._$a=n.$obj.find("a").first(),sutra(n._$a,"$Sutra.Shared.NavLink",!0),n._$span=null),n},t.disable=function(){var n=this;return n._$a&&(o.d(n._$a[0]),n._$span=n.$obj.find("span").first()),n},t.removeClick=function(){var n=this;return n._aclickHandler&&n._$a&&n._$a.unbind("click",n._aclickHandler),n},t.addClick=function(n,t){var i=this;return r(i),i.removeClick(),t||i.setUrl("#"),i._aclickHandler=function(t){var i;try{i=n(t)}catch(r){return $WebWatson.submitFromException(r),!1}return i},i._$a.click(i._aclickHandler),i},t.addMousedown=function(n){var t=this;return r(t),t._$a.mousedown(n),t},t.addSeparator=function(){var t=this;return t._$sep||(t._$sep=n('<span class="c_ms" role="presentation"><\/span>'),t.$obj.append(t._$sep)),t._$sep.css("display",""),t},t.removeSeparator=function(){var n=this;return n._$sep&&n._$sep.hide(),n},t.addRChev=function(){var t=this;return t._$rchev||(t._$rchev=n('<span class="c_rchev"><\/span>'),t.$obj.append(t._$rchev),t._$rchev.html($menu.createChevron($menu.chevronTypes.SmallRightDark,!0))),t._$rchev.show(),t},t.removeRChev=function(){var n=this;return n._$rchev&&n._$rchev.hide(),n},t.addImageStrip=function(t,i){var r=this;return r._$imageStrip||(r._$imageStrip=n(t),i?r._$a.append(r._$imageStrip):(r._$imageStrip.append(" "),r._$a.prepend(r._$imageStrip))),r},t.dispose=function(){var n=this;n._isDisposed||(n.removeClick(),s(n,!0),n._isDisposed=!0)},i.defaultOptions={html:"",separator:!1,url:"#",id:"",click:null,mousedown:null,container:"<li><\/li>",imageStrip:null},i.create=function(t){var r=n.extend({},i.defaultOptions,t),u=new i(r.container);return u.setHtml(r.html),u.setUrl(r.url),u.setId(r.id),r.separator&&u.addSeparator(),r.click&&u.addClick(r.click,r.url),r.mousedown&&u.addMousedown(r.mousedown),r.imageStrip&&u.addImageStrip(r.imageStrip),u}}(window.originaljQuery||jQuery),function(n){function ht(){var n=this;n._isItemsHashDirty=!0,n._itemsHashTable={},n._list=[],n.list=[]}function u(t,r,u,f,e){function p(n){o._menu||(r?o._menu=o._$ul[0].binding:(f.defaultLoc=ot,$menu.create(n,st,f)&&(o._menu=o._$ul[0].binding)))}var o=this,s,y,h,c,l,v;o._id=i.NavItem._getItemId(),s=new i.MenuDataModel,o._items=[],o.$obj=n(t).first(),f=f||{},r||(y=$Config.isLightTheme?$menu.chevronTypes.SmallDownDark:$menu.chevronTypes.SmallDownLight,h=$menu.createChevron(y,!0),e?(c='<span class="c_mlu">'+h+"  &nbsp;<\/span>",l=""):(c='<span class="c_mlu"><\/span>',l='<span class="c_chev"> '+h+"<\/span>"),v='<a href="#" class="uxfa_ml c_ml" onclick="return false">'+c+l+'<\/a><ul class="uxfa_m '+w+' t_hovl"><\/ul>',u?o.$obj.append(v):o.$obj.html(v)),o._$a=o.$obj.children("a.c_ml").first(),o._navLink=new a(o.$obj,!0),o._$mspan=o._$a.children("span.c_mlu").first(),o._$chev=o._$a.children("span.c_chev").first(),o._$ul=o.$obj.children("ul"),o._$ul.length==0&&(o._$ul=n('<ul class="uxfa_m '+w+' t_hovl"><\/ul>'),o.$obj.append(o._$ul)),o.id=o._$ul.attr("id"),o._menu=o._$ul[0].binding,nt(o),s._list=o._items,o._$a.bind("click.menu",function(n){n.preventDefault(),p(n)}),o._$a.bind("mousedown.menu",p),sutra(o._$a,"$Sutra.Shared.MenuLink",!0),sutra(o._$ul,"$Sutra.Shared.MenuList",!0),o._dataModel=s,k(o,s._list),s.list=new ObservableArray(s._list)}function ct(){var n=this;n.menu={}}function f(t,r,f){var e=this;e._id=i.NavItem._getItemId(),e._dataModel=new i.SplitMenuDataModel,e.$obj=n(t).first(),e._$a=new a(e.$obj,r),r?e._$sep=e.$obj.children(".c_ms"):(e._$a.setHtml("&nbsp;"),e._$sep=n('<span class="c_ms"> <\/span>'),e.$obj.append(e._$sep),e.$obj.addClass(v+" "+l)),e._$menu=new u(e.$obj,r,!0,{dockEl:e.$obj.get()[0]},f),e._dataModel.menu=e._$menu}function b(t){var i=this;i._isItemsHashDirty=!0,i._itemsHashTable={},i._logo=t&&t.logo||{containerWidth:"220px",imageStrip:"",text:"",title:"",url:"",hasPropertyText:!1},i._list=[],i.isLightTheme=t&&t.isLightTheme,i.getIndexById=function(n){var t,r,u;if(i._isItemsHashDirty)for(t=0;t<i._list.length;t++)r=i._list[t]._id,u=i._list[t].id,i._itemsHashTable[r]=t,i._itemsHashTable[u]=t;return i._itemsHashTable[n]},i.getItemById=function(n){var t=i.getIndexById(n);return i._list[t]},i.getItemByIndex=function(n){return this._list[n]},i._dispose=function(){n(i.logo).unbind(),n([i.list]).unbind(),n(i.list).unbind()}}function s(t,r,u){var f=this,e;f._id=i.NavItem._getItemId(),f._needsToRender=!1,f.$obj=n(t),e=new i.CommandBarDataModel(u),sutra(f.$obj,"$Sutra.Shared.CommandBarControl",!0),f._items=[],r||f.$obj.html('<div class="c_clogo"><a href="#"><h1><span class="c_clogoimg"><\/span><span class="c_clogot"><\/span><\/h1><\/a><\/div><ul class="c_cc"><\/ul><div class="c_cme">><\/div>'),f._$logo=f.$obj.children(".c_clogo"),f._$logoImage=f._$logo.find(".c_clogoimg"),f._$logoText=f._$logo.find("span.c_clogot"),f._$logoLink=f._$logo.find("a"),f._$ul=f.$obj.children("ul"),sutra(f._$ul,"$Sutra.Shared.CommandBar",!0),f._$logoImage.length==0&&(f._$logoImage=n('<span class="c_clogoimg"><\/span>'),f._$logoText.parent().prepend(f._$logoImage)),nt(f,"$Sutra.Shared.CommandItem"),e._list=f._items,e._logo.imageStrip=f._$logoImage.html(),f._dataModel=e,h(f._$logoText,e._logo,"text","innerHTML"),h(f._$logoText,e._logo,"hasPropertyText",at,"function"),h(f._$logoLink,e._logo,"url","href"),h(f._$logoLink,e._logo,"title","title"),h(f._$logoImage,e._logo,"imageStrip",vt,"function"),h(f._$logo,e._logo,"containerWidth",$B.IE_M6?"width":"min-width","style"),k(f,e._list),e.logo=new Observable(e._logo),e.list=new ObservableArray(e._list)}function at(n,t){t?n.hide():n.show()}function vt(n,t){n.empty(),n.append(t)}function h(t,i,r,u,f){n(i).bind("propertyChanged",function(n,i,e){r==i&&(f=="style"?t.css(u,e):f=="function"?u(t,e):t.attr(u,e))})}function k(t,i){n([i]).bind("arrayChange",function(i,r,u,f){t._needsToRender||n(t).trigger("beforeRender"),clearTimeout(t._renderTimeout),t._needsToRender=!0,t._renderTimeout=setTimeout(function(){t._needsToRender&&t.render&&t.render()},500),r=="insert"?t.add(f,u):r=="remove"&&t.remove(u,!0,f)})}function d(){y||(y=setTimeout(yt,0))}function yt(){var t,n;for(y=0,t=c.length,n=0;n<t;n++)c[n]();c.splice(0,t)}function g(n){c.push(n)}function nt(t,i){var r=t._$ul.children("li");r.each(function(){var r=n(this);r.hasClass(v)?t._items.push(new f(r,!0)):r.hasClass(l)?r.hasClass(et)||t._items.push(new u(r,!0)):t._items.push(new a(r,!0)),i&&sutra(this,i,!0)})}function pt(n){for(var i=n._items,t=0;t<i.length;t++)n._$ul.append(i[t].$obj)}function tt(t,i,r){r||r==0||(r=t._items.length),g(function(){var f,e,u,s,o;i.$obj&&(f=t._$ul.children(),e=f[r],f.length!=0&&e?n(e).before(i.$obj):t._$ul.append(i.$obj),u=i._$a,u.attr("role")||u.attr("role","button"),s=i._$ul,s&&(u.attr("aria-expanded","false"),u.attr("aria-haspopup","true")),o=i.$obj.css("display"),(o=="list-item"||o=="block"&&$B.IE_M7)&&i.$obj.css("display",""),i.$obj.hasClass(l)&&!i.$obj.hasClass(v)&&pt(i))}),t._items.splice(r,0,i),t._dataModel&&(t._dataModel._isItemsHashDirty=!0),d()}function it(n,t,i){t&&!t._isDisposed&&(t.$obj&&(t.$obj.remove(),n._dataModel&&(n._dataModel.isItemsHashDirty=!0),n._$ul=n.$obj.children("ul")),i&&t.dispose())}function rt(n,t,i){var u=n._items.splice(t,1)[0];return u._isDisposed||(g(function(){it(n,u,i)}),d()),u}function ut(n){var i=n._items,t;if(i)for(t=0;t<i.length;t++)i[t].dispose();return n._items=[],n._$ul&&n._$ul.html(""),n}var e,p,t,o,lt,r,c,y;window.ObservableArray=function(n){this.array=n},e=ObservableArray.prototype,e.insert=function(t,i){var r=this;t>=0&&t<=r.array.length&&n([r.array]).triggerHandler("arrayChange",["insert",t,i])},e.push=function(n){var t=this;t.insert(t.array.length,n)},e.remove=function(t){var i=this,r;t>=0&&t<i.array.length&&(r=i.array[t],n([i.array]).triggerHandler("arrayChange",["remove",t,r]))},e.clear=function(){for(var n=this;n.array.length;)n.remove(n.array.length-1)},e.length=function(){return this.array.length},window.Observable=function(n){this.obj=n},p=Observable.prototype,p.setProperty=function(t,i){var r=this,u=r.obj[t];i!=u&&(r.obj[t]=i,n(r.obj).trigger("propertyChanged",[t,i,u]))};var ft=window,i=ft.wLive.Controls,a=i.NavLink,w="c_m",v="c_sm",et="c_cmore",l="c_mcp",ot=0,st=6;i.MenuDataModel=ht,i.Menu=u,t=u.prototype,t.makeSubMenu=function(){var n=this,t=$menu.chevronTypes.SmallRightDark;return $B.rtl&&(t=$menu.chevronTypes.SmallLeftDark),n._$chev.html(" "+$menu.createChevron(t,!0)),n},t.setHtml=function(n){var t=this;return t._$mspan.html(n),t},t.setId=function(n){var t=this;return t._$ul.attr("id",n),t.id=n,t},t.getDataModel=function(){return this._dataModel},t.getMenu=function(){return this._menu},t.getLink=function(){return this._navLink},t.add=t.push=function(t,i,r){var u=this;return tt(u,t,i),r||t._$a.hasClass("c_ml")||n(t._$a).bind("click",$menu.closeAll),u._menu&&u._menu.update(),u},t.remove=function(t,i,r){var u=this,f=rt(u,t,i,r);return n(f._$a).unbind("onclick",$menu.closeAll),u._menu&&u._menu.update(),f},t.clear=function(){var n=this;return ut(n),n._menu&&n._menu.update(),n},t.dispose=function(){var n=this;n._$a.unbind(".menu"),n.clear(),n._menu&&n._menu.dispose()},u.defaultOptions={html:"",id:"",subMenu:!1,container:'<li class="'+l+'"><\/li>',menuParams:null,linkId:""},u.create=function(t){var i=n.extend({},u.defaultOptions,t),r=new u(i.container);return r.setHtml(i.html),r.setId(i.id),r._$a.attr("id",i.linkId),i.subMenu&&r.makeSubMenu(),r},i.SplitMenuDataModel=ct,i.SplitMenu=f,o=f.prototype,o.getDataModel=function(){return this._dataModel},o.dispose=function(){var n=this;n._$menu&&n._$menu.dispose()},o.setProperty=function(n,t){var i=this;return i.$obj.attr(n,t),i},o.getMenu=function(){return this._$menu},o.getLink=function(){return this._$a},f.defaultOptions={id:"",linkId:"",container:"<li><\/li>",useChevronAsText:!0},f.create=function(t){var i=n.extend({},f.defaultOptions,t),r=new f(i.container,!1,i.useChevronAsText);return r.setProperty("id",i.id),r._$a.setId(i.linkId),r},i.CommandBarDataModel=b,lt=b.prototype,i.CommandBar=s,r=s.prototype,r.add=r.push=function(n,t){var i=this;return sutra(n.$obj,"$Sutra.Shared.CommandItem",!0),tt(i,n,t),i},r.remove=function(n,t,i){return rt(this,n,t,i)},r.addLightHover=function(){this.$obj.addClass("c_clih")},r.removeLightHover=function(){this.$obj.removeClass("c_clih")},s.defaultOptions={container:'<div class="c_c c_cbb c_ccptc"><\/div>'},s.create=function(t){var i=n.extend({},s.defaultOptions,t);return new s(i.container)},r.render=function(){var t=this;clearTimeout(t._renderTimeout),n(t).trigger("afterRender"),t._needsToRender=!1},r.getDataModel=function(){var n=this;return n._dataModel},r.dispose=function(){for(var n=this,t=0,i=n._items.length;t<i;t++)it(n,n._items[t],!0);n._dataModel._dispose()},r.get=t.get=function(n){return this._items[n]},r.count=t.count=function(){return this._items.length},r.clear=function(){var n=this;return ut(n),n},c=[]}(window.originaljQuery||jQuery),function(n){function d(){clearTimeout(k),k=setTimeout(st,100)}function st(){s=0,n(t).trigger(f)}function g(){var i=ut-n("#c_cb0 .c_cme").outerWidth();n("#c_cb0 .c_cc").css("padding-"+y,i+"px"),n(t).trigger("resize")}function ht(){n("#c_cb0 .c_cc").css("padding-"+y,0),n(t).trigger("resize")}function nt(){var y,s,p,k,v,nt;for($Do.when("$WLXIM.SidebarCreated",0,function(){$WLXIM.isSidebarOpened()&&g(),n($WLXIM.sidebar).bind("onSidebarOpenedEvent",g),n($WLXIM.sidebar).bind("onSidebarClosedEvent",ht)}),y=$css.getCN("c_c","div",document),s=0;s<y.length;s++){var u=y[s],h=n(u),c=h.children(".c_cc")[0],e=r.getInstanceById(u.id);h.hasClass("c_ncolapse")||(p=e&&!e.getDataModel().isLightTheme,k=$B.IE_M6?"block":$B.IE_M7?"inline":"inline-block",u.collapse=new CollapsingMenu(u.m,u.i,c,k,14,0,at(u.id),p),u.r&&u.collapse.redraw(),u.DisableCommand=function(n){var t=u.getElementsByTagName("a")[n];l.d(t)},u.EnableCommand=function(n){var t=u.getElementsByTagName("a")[n].parentNode;l.e(t)},u.dispose=function(){i.unbind("unload",u.dispose)},u.updateMaxItems=function(n){u.collapse.updateMaxItems(n)},u.updateMinItems=function(n){u.collapse.updateMinItems(n)},v=window.$Config,v&&v.CommandBar&&v.CommandBar.resize&&(i.bind(f,u.collapse.redraw),e&&(w=n("#c_cb0 h1"),b=n("#c_clogoc"),et=b.siblings(".c_ms"),_$emptyLogoLink=n("#c_cb0.c_cle a.c_clogot"),ct(h),_$emptyLogoLink.length&&(_$emptyLogoLink.unbind(),_$emptyLogoLink.bind("click",function(){return!1})),n(e).bind("beforeRender",function(n){c.style.overflow=rt,u.collapse.redraw(n,!0)}),n(e).bind("afterRender",function(){u.collapse.redraw(),u.style.overflow=o,c.style.overflow=o}),e.updateMaxItems=u.updateMaxItems,e.updateMinItems=u.updateMinItems,nt=n("#c_cb0 h1 .c_clogot"),w.bind("keydown",lt)),i.bind(a,d),u.dispose=function(){if(i.unbind(a,d),i.unbind(f,u.collapse.redraw),e&&(n("a",h).unbind(),n(e).unbind(),n("#c_clogoc").unbind(),e.dispose(),t.$WLXIM&&$WLXIM.sidebar))try{n($WLXIM.sidebar).unbind()}catch(r){}i.unbind("resize.cb"),i.unbind("unload",u.dispose)},e&&e.render()),i.bind("unload",u.dispose)),c.style.overflow=o}$Do.register("WLXCommandBar")}function ct(n){n.delegate("a",{"mousedown.cb":tt,"focus.cb":tt,"blur.cb":c,"mouseup.cb":c,"mouseleave.cb":c,"dragstart.cb":$f.cancelEvent})}function lt(n){it=n.shiftKey}function tt(){$B.IE&&$B.V<=8&&(this.hideFocus=!0),n(this).addClass(v)}function c(){n(this).removeClass(v)}function at(t){return function(){var r="#"+t,e=n(r),u,i;if(e.length){if(i=s,!i){var o=n(r+" .c_cme"),h=o.outerWidth(),f=n(r+" .c_clogo").outerWidth();f>ft&&(i=n(r).outerWidth()-f-h)}i>0&&(s=i,u=n(r+" .c_cc").outerWidth()>i)}return u}}var t=window,l=t.$edh,i=n(t),u={},it,a="resize",f="wlResize",e="c_cb0",v="c_cf",vt="c_clh",yt="visibility",rt="hidden",o="visible",ut=300,ft=50,y=$B.rtl?"left":"right",p=_ge(e),r={},w,b,et,s,h,ot,k;p?r=t.$CommandBar=u[e]=new wLive.Controls.CommandBar("#"+e,!0,p.dataModel):t.$CommandBar=r,r.showOptionsMenu=function(r,u){var s=_ge("c_copt"),c=u._ge("c_copt"),f=s||c,a=u._ge("c_hiconc"),v,y,w;if(t!=u&&(!s||!c.isCopied||!h)){s&&(n(s).remove(),f=c);var p=$header.getDummyHeader().firstChild,l=u.$f.getLocation(a,1,1),o=document.createElement("ul"),e=document.createElement("a");o.innerHTML=f.innerHTML.replace(/window\./g,"_ge($PF.fid).contentWindow."),o.className=f.className,o.id=f.id,c.isCopied=1,h=1,e.style.position="absolute",e.style.top=l.bottom+"px",e.style.left=($B.rtl?l.left:l.right)+"px",e.style.height=0,e.style.padding=0,f=o,v=e,p.appendChild(e),p.appendChild(o),t.$Config.Themes=u.$Config.Themes,y=1,t.$header.copyThemeToOuterFrame(u),i.bind("resize.cb",function(){h=0}),t.$header.reportBSIMenu(n("#c_cof"),"c_cof"),t.$header.reportBSIMenu(n("#c_coh"),"c_coh")}f.binding?f.binding.toggleState():(w=a.parentNode,$menu.create(r,1,{sourceEl:v,menuEl:f,pressedStateEl:w,bindEnterKey:!0})),($Config.Themes.ThemeService||t.$themewritecallback)&&$Do.when("$ThemeMenuInit",0,y)},r.getInstanceById=function(n){if(!u[n]){var t=_ge("#"+n);t&&(u[n]=new wLive.Controls.CommandBar("#"+n,!0,t.dataModel))}return u[n]},r.invalidateOptionsMenu=function(n){var t=n._ge("c_copt");t.isCopied=!1},ot={},r.init=nt,$Do.when("$CommandBarDomReady",0,function(){$Do.when("$WLiveLoaded",0,function(){setTimeout(nt,0)})})}(window.originaljQuery||jQuery),function(){function t(n){function f(n){for(var r=0,u=t.length-1,i=null,e=null,f=null;r<=u;)if(i=Math.floor((r+u)/2),f=t[i].key.substring(0,n.length),n>f)r=i+1;else if(n<f)u=i-1;else return i;return null}var i=this,t=[],r=n,u=!1;i.remove=function(n){t.remove(n)},i.insert=function(n,i){var r={key:n,datum:i};return t.push(r),u=!1,r},i.sort=function(){u||t.sort(function(n,t){var i=n.key,r=t.key;return i>r?1:r>i?-1:0}),u=!0},i.matchPrefix=function(n,u){var l=null,o=null,s=null,w=null,e=null,v=null,y=null,h,p,a,c;if(i.sort(),l=f(n),l==null)return[];for(o=l;o>0;o--)if(!t[o-1].key.startsWith(n))break;for(s=l+1;s<t.length;s++)if(!t[s].key.startsWith(n))break;for(e=new Array(s-o),h=0;h<e.length;h++)a=t[o+h],p=u?{key:a.key,datum:a.datum}:a.datum,e[h]=p;if(r){for(e.sort(r),v=[y=e[0]],c=0;c<e.length;c++)r(y,e[c])&&v.push(y=e[c]);return v}return e}}var n=window;n.$Trie=t}(),function(){function i(){function u(n,t){r||(r=1,$BSI.navigateTo(n,t))}function f(n,t){var r=this,i=[];r.pause=function(n){i.push(n)},r.resume=function(r){i.remove(r),i.length==0&&u(n,t)}}var i=this,n=[],r;i.add=function(t){n.push(t)},i.remove=function(t){n.remove(t)},i.doLogout=function(i){var o,h=0,a=n.length,e,s,c,l;if(r=0,!i.shiftKey&&!i.ctrlKey&&!i.altKey)for(e=i.target;e;){if(e.tagName=="A"){s=e.href,s&&(c=e.target,$f.cancelEvent(i),o=new f(s,c),setTimeout(function(){u(s,c)},1e3));break}e=e.parentNode}for(l="$logout",o.pause(l);h<a;h++)try{n[h](o)}catch(v){t.submitFromException(v)}o.resume(l)}}var n=window,t=n.$WebWatson,r=n.$Logout=new i}(),function(n){function y(){$Config.WebIM?$Do.when("wlxim",0,p):$BSI.isLoading()?($BSI.addLoadedCallback(e),o=1):e(),n(r).bind("beforeunload",i.dispose)}function p(){u=window.$WLXIM,n(u).bind("stateChange",s),s(),f=1}function l(){n(u).unbind("stateChange",s),f=0}function s(){u.hasContacts()&&e()}function e(){var n=h.DelayMs||0;setTimeout(w,n),f&&l()}function w(){if(!c){var n=h.View;c=1,n&&(t=document.createElement("iframe"),t.id=a,t.width=t.height=0,t.style.display="none",t.src="/handlers/resourcespreload.mvc?bicild=&view="+n,document.body.appendChild(t))}}var r=window,i=r.$Preload={},u,a="preload_frame",v=r.$Config,h=v.Preload||{},t,c=0,f=0,o=0;i.dispose=function(){if(i.pause(),f?l():o&&($BSI.removeLoadedCallback(e),o=0),n(r).unbind("beforeunload",i.dispose),t){try{var u=t.contentWindow;u.onunload&&(u.onunload(),u.onunload=null)}catch(s){}t.parentNode.removeChild(t),t=0}},i.resume=function(n){if(t)try{t.contentWindow.$Preload.resume(n)}catch(i){}},i.pause=function(){if(t)try{t.contentWindow.$Preload.pause()}catch(n){}},y()}(window.originaljQuery||jQuery),function(){window.$CSIPerf.lapse.push({s:"sjs",t:+new Date})}(),function(n){function b(){$Do.when("$PF.attach",0,f.dispose),o.fs&&$BSI.addLoadedCallback(nt),v.hasClass(y)&&(r=i.height(),u.css({top:r+"px"}),$B.IE_M7&&(u.height($f.docHeight()-r),n(t).bind("resize",k))),n(document).bind("mousedown",g),$f.getDocType().indexOf("Strict")>0&&n(document.body).addClass("strict")}function k(){clearTimeout(l),l=setTimeout(d,w)}function d(){u.height($f.docHeight(!0)-(a?r:0))}function g(t){var i=t.target;for(e&&s(t,e);i;){if(p.contains(i.tagName)){e=i,$css.addHideBorder(t,i),i.tagName=="A"&&$css.addPressedState(t,i),n(i).bind("blur",s);break}i=i.parentNode}}function s(t,i){i=i||this,$css.removeHideBorder(t,i),$css.removePressedState(t,i),n(i).unbind("blur",s),e=null}function nt(){$Network.fetchCSS(o.fs,tt,undefined,"Gfx_Css_WlxFonts_Download","Gfx")}function tt(){var n=new Date;n.setDate((new Date).getDate()+1),$Cookie.setCookie("wlfonts","1",o.sd,"/",n)}var t=window,f=t.$baseMaster={},h,o=$Config,v=n("html"),i=n("#m_wh"),c=n("#c_cb0"),u=n("#c_base"),r,e,l,a=!0,y="fh",p=["A","INPUT","LABEL","BUTTON","TEXTAREA"],w=20;f.getHeaderHeight=function(){return r},f.toggleFixedHeader=function(f){a=!!f,i.show(),f?($B.IE&&$B.V<=8&&i.show(),i.css({top:"0"}),c.removeClass("c_h_hidden"),u.css({top:r+"px"}),t.$WLXIM&&$WLXIM.setSidebarToFullScreen(!1),n("a",i).attr("tabindex","")):($B.IE&&$B.V<=8&&i.hide(),u.css({top:"0"}),i.css({top:"-"+r+"px"}),c.addClass("c_h_hidden"),t.$WLXIM&&$WLXIM.setSidebarToFullScreen(!0),n("a",i).attr("tabindex","-1"))},f.dispose=function(){if(!h){var i=t.$Static,r=t.$Preload,u=t.$WLXIM,f=t.$WLXIMCL,e=t.$footer,o=t.$HeaderWebIM;i&&i.pause(1),r&&r.dispose(),u&&u.pause(),f&&f.dispose(),e&&e.dispose(),o&&o.dispose(),n(document.body).parent().removeClass("fh"),h=1}},b()}(window.originaljQuery||jQuery),function(n){function v(n){var e,i,r,u,f;try{e=_ge(t.fid).contentWindow.document.domain}catch(o){return}return i="",r=n.pfState,i=r?r.indexOf("#")==0?[t.afu,r].join(""):r:t.afu,u=t.getNormalizedUrl(i,null),setTimeout(function(){t.navigateTo(u)},1),u!=i&&(f=t.getRelativeUrl(u)),f}function y(i){t.i||(n(t).bind(u,i),e++)}function p(i){var u=this;t.i||n(t).bind(r,function(){i.call(u)})}function w(i){t.i||n(t).unbind(r,i)}function b(){i||(i=n("#"+t.lid),i.html('<div style="top:45%;width:100%;position:absolute;text-align:center">'+$f.createLoading(1,0,"60px")+"<\/div>"),f=i.find(".c_loadingDots")),i.show(),$f.showLoading(f),n("#"+t.did).hide()}function l(n){var i=n.document.getElementsByTagName("link"),t;if(i)for(t=0;t<i.length;t++)if(i[t].getAttribute("rel").indexOf("icon")>-1)return i[t];return undefined}var o=window,r="Merge",u="PreMerge",t=o.$PF,i,f,s,e=0,h=0,c,a=2e3;t&&t.f&&(t.i||($Do.when("$History.attachPF",0,v,!0),t.m&&n("form").submit(function(){var i=n(this);return i.attr("target")||(i.attr("target",t.fid),$Do.when("$PF.merge")),!0})),t.preMerge=function(i){if(t.merged){t.navigateTo(i);return}e>0?(c=i,n(t).trigger(u)):t.mergeAndNavigate(i)},t.allowMerge=function(){h++,h>=e&&t.mergeAndNavigate(c)},t.merge=function(){t.merged||(t.merged=!0,n(t).trigger(r),n(t).unbind(r),n(t).unbind(u),n("body").css("cssText",t.hbs),n("html").css("cssText",t.hhs),n("#"+t.did).show().add("[persist]").parentsUntil("body").andSelf().attr("persist",1).siblings().filter(":not([persist])").hide())},t.showLoading=function(){t.lid&&(s=setTimeout(b,a))},t.hideLoading=function(){t.lid&&(clearTimeout(s),n("#"+t.did).show(),i&&(i.hide(),$f.hideLoading(f)))},t.updateFavicon=function(n,t){var u=l(n),i=l(o),r;u&&i&&(r=i.cloneNode(!0),r.href=u.getAttribute("href"),t.document.head.appendChild(r),i.parentNode.removeChild(i))},$Do.register("$PF"),$Do.register("$PF.merge",t.merge),$Do.register("$PF.attach",p),$Do.register("$PF.detach",w),$Do.register("$PF.attachPreMerge",y))}(window.originaljQuery||jQuery),function(){var n=window;n.$Flextag=new function(){var t=this;t.load=function(){n.$Config&&$Config.flextag&&$Config.flextag.url&&setTimeout(function(){var t="flextagFrame",i=document.getElementById(t),r=$Config.flextag.url+"?v="+ +new Date,n;i?i.src=r:(n=document.createElement("IFRAME"),n.id=n.name=t,n.width=n.height=0,n.style.display="none",n.scrolling="no",n.frameBorder="0",n.allowTransparency=!0,n.src=r,document.body.appendChild(n))},2e3)}}}(),function(n){function e(t,r,u,f){return f||(n(t).removeClass("NoDisplay"),n(t).toggle(!0)),i}function t(t){return function(r){return t?(n(r).removeClass("NoDisplay"),n(r).toggle(t)):n(r).addClass("NoDisplay"),i}}function o(){return function(t,r){return n(t).addClass("NoDisplay"),n(r).removeClass("NoDisplay"),n(r).toggle(!0),i}}var f=window,r=f.wLive,u,i;r.Animations={},u=r.Animations,i=null,n.Deferred&&(i=n.Deferred().resolve()),n.extend(u,{Direction:{Horizontal:0,Vertical:0},Enabled:!1,expand:t(!0),collapse:t(!1),fadeIn:t(!0),fadeOut:t(!1),addToList:t(!0),deleteFromList:t(!1),addToSearchList:t(!0),deleteFromSearchList:t(!1),deleteFromListFast:t(!1),addAndDeleteInListFast:o(),showEdgeUI:t(!0),showPanel:t(!0),hideEdgeUI:t(!1),hidePanel:t(!1),showPopup:t(!0),hidePopup:t(!1),enterContent:e,exitContent:t(!1),flyAway:function(){return i},reveal:t(!0),hide:t(!1)})}(window.originaljQuery||jQuery),function(n){function ou(){function ef(){return it&&it.get_status()==wt.UserStatus.signedIn}function gf(i,r){var f,u,e,o,s;t.$Sutra&&(f=i.content(),u="$Sutra.WebIM.Flyouts.{0}".format(r.sutra.flyoutName),sutra(f,u),e=i.getButton({buttonName:"action"}),e&&sutra(n(e),u+"ActionButton"),o=n(".UserTitle",f),o.length>0&&sutra(o,u+"Title"),s=n(".UserContent",f),s.length>0&&sutra(s,u+"Message"),r.sutra.applyCustomTags&&r.sutra.applyCustomTags(u,f))}function ne(n,r,u,f,e,o){function w(i){l==0&&(c&&b?t.$pwc.client.blockOrUnblockMessenger(n,u,function(){o||(k.addScenarioQoSStats(u?di:gi,null,a,s,!1),v(s,!0)),ui(f)},function(t){te(u,n),o||(k.addScenarioQoSStats(u?di:gi,t,a,s,!1),v(s,!1,t)),ui(e)}):(c||te(u,n),o||v(s,c,c?null:vr(i)),ui(c?f:e)))}var c=!0,l=0,b,d=n.getContacts(),s=o||rt.startScenario(u?gr:nu,ft),a=+new Date,p,y,h,g;if(!k.user){o||v(s,!1,"userNotInitialized"),ui(e);return}for(p=k.user.get_skypeAddress()?k.user.get_skypeAddress().get_address():null,y=0;y<d.length;y++)h=d[y],h.getSourceId()===wr?b=h:k.isSkypeBlockEnabled()&&p&&(h.getSourceId()===kt||h.getSourceId()===li)&&u!=h.getIsBlocked()&&t.SkyJS&&t.SkyJS.Outlook.isUserLinkStatusActive()&&(l++,g=u?t.SkyJS.Outlook.blockContact:t.SkyJS.Outlook.unblockContact,g({data:{userId:p,contactId:ie(h),reporterIp:i.ip,reportAbuse:r?1:0},success:function(n){l--,k.addScenarioQoSStats(u?bi:ki,null,a,s,!1),w(n)},error:function(n){c=!1,l--,k.addScenarioQoSStats(u?bi:ki,vr(n),a,s,!1),w(n)}}));w(null)}function te(i,r){var e=t.MsgrUI,o=i?e._getLocString("flyoutsBlockErrorMessage"):e._getLocString("flyoutsUnblockErrorMessage"),s,f;o=o.format(r.getDisplayName().encodeHtml()),s={action:e._getLocString("flyoutsBlockErrorMessageButton")},f=u.Controls.Notifications.createTopBar({content:o,dismissalMode:u.Controls.Notifications.BarDismissalMode.Explicit,buttons:s}),n(f).bind("aftershow.topBar",function(){gf(f,{sutra:{flyoutName:"BlockUnblockErrorNotification"}}),n(f).unbind("aftershow.topBar")}),f.show().then(function(){f=null})}function so(n,i,r,u,f,e){function h(n){(!r||r&&c)&&(v(o,s,s?null:vr(n)),ui(s?f:e))}var o=rt.startScenario(dr,ft),l=+new Date;if(t.SkyJS&&t.SkyJS.Outlook.isUserLinkStatusActive()){var s=!0,c=!1,a=k.user.get_skypeAddress().get_address();t.SkyJS.Outlook.declineRequest({data:{userId:a,contactId:n},success:function(f){if(k.addScenarioQoSStats(wi,null,l,o,!1),r&&k.blockPerson(i,u,function(){c=!0,h(f)},function(){c=!0,s=!1,h(f)},o),u){var e=t.$pwc.getPerson(i);k.reportAbuse(e,n)}h(f)},error:function(n){k.addScenarioQoSStats(wi,vr(n),l,o,!1),s=!1,h(n)}})}else v(o,!1,"userLinkNotActive"),ui(e)}function vr(n){return n?"{0}-{1}".format(n.code||"NoCode",n.text||"NoDescription"):"NoErrorData"}function ie(n){return n.getSourceId()==kt?n.getSkypeId():n.getObjectId()}function ui(n,t){n&&n.apply(null,t||[])}function ho(){gt=!0}function co(){fe(),gt=!1,ot!=null&&(t.clearInterval(ot),t.setTimeout(function(){s.title=lt},200),st=0,rr={},ot=null)}function lo(i,r,u){var e=n("<div class='imToastHeader' />").text(i),o=n("<div class='imToastBody' />").append(t.Microsoft.Live.Messenger.MessengerUtility.replaceEmoticons(r)),s=ri(yr),f=t.wLive.Controls.Notifications.createToast({title:e,content:o,sourceIcon:s,options:{moreCss:"t_cbr"}});of(u),ht[u]=f,f.show().then(function(n){if(n.clicked)$WLXIM.onToastClicked(u)})}function of(n){if(ht[n])try{ht[n].dismiss();var i=t.wLive.Controls.Notifications.getQueue();i&&i.removeNotification(ht[n])}catch(u){r.logError("removeToastFromQueueError",u)}}function vu(t,i){n("#rec_conv").length!=0&&(o=t,ct=!0,fr&&hr(),fu=it.get_contacts().findByIdWithoutRoleCheck(t),fi(t,i||"other","chat"))}function re(n){yo(n,ni)&&(ir-=1)}function ao(n){ue(n,ni)&&ir++}function vo(n){ue(n,rr)&&st++}function yo(n,t){return t[n]==1?(ni[n]=0,!0):!1}function ue(n,t){return t[n]!=1?(t[n]=1,!0):!1}function fe(){vt>0&&u.Animations.enterContent(n("#c_ofm"),{top:100,left:0}).then()}function yu(){return g?"open":"close"}function ee(i,r,u,f){if(r=r||i.get_currentAddress(),r&&r.get_network().get_isSkype()){if(t.SkyJS){f=f||n("#sidebar")[0];var e=r.get_linkedContact().get_skypePendingOutbound&&r.get_linkedContact().get_skypePendingOutbound();if(t.SkyJS.Outlook.isUserLinkStatusActive()){if(r.get_type()==20)return r.get_linkedContact().get_isBlocked()||k.showSkypeInviteFlyout(f,i.get_id(),u),!1;if(r.get_type()==8&&e)return k.showResendSkypeInviteFlyout(f,i.get_id(),u),!1}else return k.showConnectToSkypeFlyout(f,t.MsgrUI._getLocString("flyoutsConnectToSkypeSendMessageText")),!1;return!0}return!1}return!0}function oe(i,r,u){return(r=r||i.get_currentAddress(),r&&r.get_network().get_isSkype())?t.SkyJS?t.Microsoft.Live.Messenger.Services.SkyJSHelper.isCallInProgress?!1:(u=u||n("#sidebar")[0],!t.SkyJS.Outlook.isUserLinkStatusActive())?(k.showConnectToSkypeFlyout(u,t.MsgrUI._getLocString("flyoutsConnectToSkypeCallText")),!1):!0:!1:!0}function se(n,i,r){var u;u=i?i.get_network().get_id():n.get_currentAddress().get_network().get_id(),t.SkyJS.Outlook.startCall(n.get_skypeName(),n.get_cid(),r,it.createSkypeInitializationInfo(n),u)}function po(){var t=40;return n("#m_wh").length>0?t=n("#m_wh").height():n("#HeaderContainer").length>0&&(t=n("#HeaderContainer").height()),t}function he(){var i,t;g=!1,i=oi("c_hiconm"),i!=null&&i.setAttribute("aria-pressed","false"),t=n("#sidebar"),t.is(":hidden")||(ci("onSidebarClosedEvent",null),w.rtl?u.Animations.hideEdgeUI(t,{left:et,top:0}).then(function(){t.hide(),we(),pe(),ci("onSidebarCloseCompletedEvent",null),n(i).css("background-color","")}):u.Animations.hideEdgeUI(t,{left:et,top:0}).then(function(){n(t).css("left",""),t.hide(),we(),pe(),ci("onSidebarCloseCompletedEvent",null),n(i).css("background-color","")}),nt&&e&&e.sendWebimPaneStateChanged(yu())),sf(hi)}function ce(n){ct&&o?ae(n):le()}function le(){var t=n("#chat_view");t.is(":hidden")?ye():u.Animations.fadeOut(t).then(function(){t.hide(),ye()})}function ae(t){var i=n("#rec_conv");i.is(":hidden")?ve(t):u.Animations.fadeOut(i).then(function(){i.hide(),ve(t)})}function ve(t){var i=n("#chat_view");i.is(":hidden")&&(i.show(),u.Animations.fadeIn(i).then(function(){var i=n(".ModernConversationHistoryControl").get(0),r;i&&(i.scrollTop=i.scrollHeight),r=n(".ModernConversationInputControl_TextBox").get(0),r!=null&&t==!0&&r.focus(),l&&l.set_isVisible(!0),ci("landingPageControlVisible",!1)})),ct=!0,o&&(re(o),of(o),sf(o))}function ye(){var t=n("#rec_conv");t.is(":hidden")&&(t.show(),u.Animations.fadeIn(t).then(function(){b&&(n(b.get_element()).show(),ci("landingPageControlVisible",!0))})),sf(si)}function pe(){n("#rec_conv").css("display","none")}function we(){n("#chat_view").css("display","none")}function ci(t,i){n("#sidebar").trigger(t,i)}function sf(n){var t="cid="+i.cid+":state="+n;ut.setCookie("Webim_Sidebar_Open",t,i.sd,0,null,1)}function hf(){uu(0),it&&it.set_services(wt.SessionServices.notifications)}function cf(){it&&(it.set_services(wt.SessionServices.full),ke("Full"))}function wo(n){if(k.hasPresence()){n&&(bu=n,bu.pause("wim"));try{it.signOut()}catch(t){r.logError("Signout Error",t)}}}function be(){pu=1,ti=i.WebIM,af(),r.logAction("WebIM_DownloadingResources"),tr(),bo()}function bo(){ur=new Date,h=rt.startScenario(br,ft),a=+new Date,y.fetchCSS(ti.c,pr,undefined,"Gfx_Css_WlxWebIMUI_Download","Gfx"),y.fetchCSS(ti.cc,pr,undefined,"Gfx_Css_WebIMCore_Download","Gfx"),y.fetchScript(ti.a,pr,"window.live.shared.globalsettings.webim","Gfx_JS_WebIMStr_Download","Gfx"),y.fetchScript(ti.cs,pr,"webimui","Gfx_JS_WebIMCombined_Download","Gfx"),window.$Config.WebIM.si==1?y.fetchScript(ti.slu+"?r="+Math.random(),ko,undefined,"Gfx_JS_Skype_LocJs","Gfx"):(r.logAction("WebIM_Skype_DisabledByConfig"),lf()),ti.pj&&y.fetchScript(ti.pj,null,undefined,"Gfx_JS_Popover_Download","Gfx"),t.wLive.Search==null&&y.fetchScript(ti.ss,null,undefined,"window.wLive.Search")}function ko(){t.SkyJS&&t.SkyJS.Live&&t.SkyJS.Live.Rollout?t.SkyJS.Live.Rollout.isEnabled(i.cid,i.mkt.toLowerCase())?(k.addScenarioQoSStats(ai,null,a,h,!1),ou=t.SkyJS.Live.Rollout.getPackageUrl(i.cid,i.mkt.toLowerCase()),ti.eso&&t.location.search.indexOf("skyjsurl=")>-1&&/^https:\/\/(az351254|az299139|az340659|az359216|az415007)\.vo\.msecnd\.net\/\d+-\d+-\d+\/assets\/javascript\/outlook-package\.min\.js$/.test(t.location.search.split("skyjsurl=")[1])&&(ou=t.location.search.split("skyjsurl=")[1]),y.fetchScript(ou,pr,undefined,"Gfx_JS_Skype_Skyjs","Gfx")):(r.logAction("WebIM_Skype_Rollout_Disabled"),lf()):(su=!0,k.addScenarioQoSStats(ai,d+"LocJs",a,h,!1),lf())}function lf(){var n=s.createElement("script");ou=n.src="",pr(n)}function pr(t){uf++,go(t),uf==bf&&(su?v(h,!1,d):v(h,!0),c.register("wlximuiouter",0,!0),wu?ns():ei(!1,d,null),n("#sidebar").length==0&&(cu(),n("#c_hiconm").removeClass("c_md"),lu(),c.when("$pwc",0,au)))}function go(n){var i=n.nodeName.toLowerCase()=="script"?n.src:n.href;switch(i){case location.protocol+"//"+location.hostname+ti.a:t.GetString!=undefined&&t.GetString("live.webim.strings.connectedto")!=""?k.addScenarioQoSStats(yi,null,a,h,!1):(su=!0,k.addScenarioQoSStats(yi,d+"Strings",a,h,!1));break;case ti.cs:k.ML=pf=t.Microsoft.Live,k.MLM=wt=pf.Messenger,wt?(wu=!0,k.addScenarioQoSStats(vi,null,a,h,!1)):(su=!0,k.addScenarioQoSStats(vi,d+"Core",a,h,!1));break;case ou:t.SkyJS&&t.SkyJS.Outlook?k.addScenarioQoSStats(pi,null,a,h,!1):(su=!0,k.addScenarioQoSStats(pi,d+"SkyJS",a,h,!1))}}function ns(){var t=new wt.RpsAuthIdentity(i.email,i.cid,null,null);i.BSI!=null&&i.BSI.xid!=null&&t.set_experienceId(i.BSI.xid),n(t).bind("authenticationCompleted",ts)}function ts(i,u,f){var h=t.Microsoft.Live.Messenger,s=f.get_resultCode(),e,o;s==wt.AuthenticationResultCode.failure?f.get_isUnsupportedBrowser()?(df=1,oo(-1,"Authentication Failed: unsuported browser")):oo(91,"Authentication Failed with status code: "+f.get_status()):(r.logAction("WebIM_SigningIn"),k.user=it=new wt.User(u,new wt.Services.PeopleCache),it.get_localEndpoint().set_name(ti.n),it.get_services()!=wt.SessionServices.normal?(uu(it.get_status()),ff=1):f.get_multipleEndpointsNotSupported()?(uu(0),hf()):(uu(1),it.set_services(wt.SessionServices.full),ke("Full")),is(),it.signIn(),!hu&&sr&&sr.messagingModule&&sr.messagingModule.containerClassName&&(e=n("."+sr.messagingModule.containerClassName),e&&(hu=new t.MsgrUI.MessagingModuleControl(it,{containerWidth:e.width(),tabIndex:sr.messagingModule.tabIndex}),e.empty().append(hu.render()),hu.activate(),o=n(hu.get_element()),e.bind("resize",function(){o.triggerHandler("resize")}))))}function ke(n){if(!ff){ff=1;var i={IMMode:n};t.$BSI.reportEvent("ClickedSelected.Messaging.IMStart",i),r.logDetails("WebIM_StartIM",i)}}function uu(n){ut.setCookie(vf,i.hcid+yf+n,i.sd,0,0,1)}function af(){var n=ut.getCookie(vf,1),t;return n&&(t=n.indexOf(yf),t!=-1&&n.substr(0,t)==i.hcid&&(n=parseInt(n.substr(t+1)),!isNaN(n)))?n:1}function is(){n(it).bind("signInCompleted",io),n(it).bind("signedOut",fo),n(it).bind("propertyChanged",ro),n(it.get_contact().get_presence()).bind("propertyChanged",uo),n(it.get_conversations()).bind("collectionChanged",ge),n(window).bind("unload",to),n(window).bind("resize",de),n(window).bind("blur",ho),n(window).bind("focus",co)}function de(){if(f&&f.length>0&&k.isSidebarOpened()&&!k.isSidebarOverlay()){var t=n(window).width()-et+"px";try{f.width(t)}catch(i){}}}function ge(t,i,r){var u=r.get_newItems(),f;u&&u.length>0&&(f=u[0],n(f).bind("messageReceived",no))}function no(n,i,r){if(it.get_contacts()!=null&&it.get_contacts().get_count()>0&&(!i.get_userInitiated||!i.get_userInitiated())){var u=i.get_buddyContact();if(u)k.onConversationUpdated(u,r.get_message(),i instanceof t.Microsoft.Live.Messenger.GroupConversation)}}function to(){var t,i;for(n(window).unbind("unload",to),n(window).bind("resize",de),n(it).unbind("signInCompleted",io),n(it).unbind("signedOut",fo),n(it).unbind("propertyChanged",ro),n(it.get_contact().get_presence()).unbind("propertyChanged",uo),t=it.get_conversations(),n(t).unbind("collectionChanged",ge),i=0;i<t.get_count();i++)n(t).unbind("messageReceived",no);e!=null&&(n(e).unbind("StartGroupChat"),n(e).unbind("ToggleMessagingPane"))}function io(n,t,i){i.get_resultCode()==wt.SignInResultCode.success?(ku=1,k.isFull()||cf(),ii(),ei(!0,null,null)):ei(!1,null,i.get_error()),tf||ut.setSessionCookie("WebIM","1"),eo(),tr(),c.register("$WLXIM.UserSignedIn"),r.logAction("WebIM_SignedIn")}function ro(n,t,i){var r=i.get_propertyName();(r=="Services"||r=="Status")&&(du&&it&&it.get_status()==wt.UserStatus.signedIn&&(du=0,hf()),!ku&&it&&it.get_status()==wt.UserStatus.signedIn&&(ku=1),eu&&it&&it.get_status()==wt.UserStatus.signedIn&&(eu=0,cf()),it&&it.get_status()!=wt.UserStatus.signedIn&&bt(),tr())}function uo(n,t){var i=t.get_status();i!=wt.PresenceStatus.offline&&uu(i),it&&it.get_presence().get_status()==wt.PresenceStatus.offline?it.get_status()==wt.UserStatus.signedIn&&or():ii()}function fo(n,t,i){i.get_reason()||bu&&bu.resume("wim"),bt()}function eo(){tf||(tf=1)}function oo(n,t){kf=1,tr(),eo(),r.log({eventType:"WebIM_InitializationFailure",resultCode:n,resultDetails:{message:t}})}function tr(){for(var t=0,i=nf.clone(),u=i.length;t<u;t++)try{i[t]()}catch(f){r.logError("WebIM_InformStateChagne",f)}n(k).trigger("stateChange")}var k=this,it,vf="pres",yf="=",ti,pf,wt,nf=[],tf,pu,rf,wf,bf=5,uf=0,wu,kf,df,ff,bu,ku,eu,du,ou="",su,hu,sr,gu;k.isOff=function(){return!eu&&(!pu||af()==0)},k.isUnsupported=function(){return df},k.isError=function(){return!k.isOff()&&(kf||it&&it.get_status()==wt.UserStatus.signedOut)},k.isLoading=function(){return!k.isOff()&&!k.isError()&&(!it||it.get_status()==wt.UserStatus.signingIn||it.get_status()==wt.UserStatus.signingOut)},k.isWaitingToReconnect=function(){return!k.isOff()&&it&&it.get_status()==wt.UserStatus.autoReconnectWaiting},k.hasContacts=function(){return ku},k.hasNotify=function(){return ef()},k.hasPresence=function(){return ef()&&it.get_services()>wt.SessionServices.notifications},k.isFull=function(){return ef()&&it.get_services()==wt.SessionServices.full},k.addScenarioQoSStats=function(n,t,i,f,e){if(f){var o={api:n,dependent:ft};typeof t!="undefined"&&t!=null&&(o.error=t),e&&(o.errorType="c"),u.ScenarioQoSStats.add(o,i,f),r.log({eventType:n,resultCode:t})}},k.addStateListener=function(n){nf.push(n)},k.removeStateListener=function(n){var t=nf.remove(n)},k.showFlyout=function(t){var i=u.Controls.Notifications.createFlyout(t),r;n(i).bind("aftershow.flyout",function(){if(gf(i,t),t.onAfterShow)t.onAfterShow(i);n(i).unbind("aftershow.flyout")}),n(i).bind("beforedismiss.flyout",function(){r=i.content(),n(i).unbind("beforedismiss.flyout")}),t.onButtonClick&&n(i).bind("buttonclick.flyout",function(){t.onButtonClick(i)}),i.show().then(function(n){if(n.buttonClicked==="action")t.performAction&&t.performAction(r);else if(t.onDismiss)t.onDismiss(r)}),r=null},k.showFirstShortCircuitFlyout=function(n,i){var f=t.MsgrUI,r=t.$pwc.getPerson(n),u;r&&(u={content:f._getLocString("firstShortCircuitFlyoutMessage").format(r.getOrderedName()),anchor:i,sutra:{flyoutName:"firstscmessageflyout"}},k.showFlyout(u))},k.isSkypeInvitesEnabled=function(){return!!window.$Config.WebIM.sv&&wu&&k.MLM.Services.SkyJSHelper.skypeEnabled},k.isSkypeBlockEnabled=function(){return!!window.$Config.WebIM.sb&&wu&&k.MLM.Services.SkyJSHelper.skypeEnabled},k.showBlockFlyout=function(i,r,u,f,e){var o=t.MsgrUI,s=t.$pwc.getPerson(r),h,c;s&&(h=e||o._getLocString("flyoutsBlockMessage").format(s.getOrderedName()),c={content:ru.format(h.encodeHtml(),o._getLocString("flyoutsReportAbuse").encodeHtml()),anchor:i,buttons:{action:o._getLocString("flyoutsBlockButton")},sutra:{flyoutName:"BlockFlyout",applyCustomTags:function(t,i){var r=n("input",i);sutra(r,t+"ReportAbuse")}},performAction:function(t){var i=n("input",t)[0].checked;k.blockPerson(r,i,function(){i&&k.reportAbuse(s,null),ui(u,[!0])},f,null)},onAfterShow:function(t){var r=n(t.content()),i=n(".wim_block_repabuse",r),u=n(t.getButton({buttonName:"action"}));i.find("label").bind("click",function(){var n=i.find(":checkbox");n.prop("checked",!n.is(":checked"))}),n(".ButtonArea",r).css("min-width",i.width()+u.width()+30)},onDismiss:function(t){n(".wim_block_repabuse",t).find("label").unbind(),ui(u,[!1])}},k.showFlyout(c))},k.showDeclineInviteFlyout=function(i,r,u,f,e){var o=t.MsgrUI,s={title:o._getLocString("flyoutsDeclineInviteTitle").encodeHtml(),content:iu.format(o._getLocString("flyoutsBlockCheckbox").encodeHtml(),o._getLocString("flyoutsReportAbuse").encodeHtml()),anchor:i,buttons:{action:o._getLocString("flyoutsDeclineButton")},sutra:{flyoutName:"DeclineInviteFlyout",applyCustomTags:function(t,i){var r=n("input",i);sutra(r[0],t+"Block"),sutra(r[1],t+"ReportAbuse")}},performAction:function(t){var i=n("input",t),o=i[0].checked,s=i[1].checked;so(u,r,o,s,function(){ui(f,[!0])},e)},onAfterShow:function(t){var i=n(t.content());i.find("label").bind("click",function(t){var i=n(t.target).parent().find(":checkbox");i.prop("checked",!i.is(":checked"))})},onDismiss:function(t){n(t).find("label").unbind(),ui(f,[!1])}};k.showFlyout(s)},k.showConnectToSkypeFlyout=function(r,u){var f=t.MsgrUI,e;u=u||f._getLocString("flyoutsConnectToSkypeAddContactText"),e={content:u.encodeHtml(),anchor:r,buttons:{action:f._getLocString("flyoutsConnectToSkypeButton")},sutra:{flyoutName:"ConnectToSkypeFlyout"},onButtonClick:function(r){n(r).unbind("buttonclick.flyout");var u=i.WebIM.sau,f=t.open(u,"_blank","scrollbars=0,resizable=1,location=0, width=720,height=520"),e=t.setInterval(function(){f.closed&&(t.clearInterval(e),t.location.reload())},500)},performAction:function(){}},k.showFlyout(e)},k.showSkypeInviteFlyout=function(n,i,r,u,f){var e=t.MsgrUI,o={content:e._getLocString("flyoutsAddToSkypeText").encodeHtml(),anchor:n,buttons:{action:e._getLocString("flyoutsAddToSkypeButton")},sutra:{flyoutName:"AddToSkypeContactsFlyout"},performAction:function(){k.sendSkypeInvite(i,r,function(){ui(u,[!0])},f)},onDismiss:function(){ui(u,[!1])}};k.showFlyout(o)},k.showResendSkypeInviteFlyout=function(n,i,r,u,f){var e=t.MsgrUI,o=t.$pwc.getPerson(i),s;o&&(s={content:e._getLocString("flyoutsResendSkypeRequestText").format(o.getDisplayName()).encodeHtml(),anchor:n,buttons:{action:e._getLocString("flyoutsResendSkypeRequestButton")},sutra:{flyoutName:"ResendSkypeRequestFlyout"},performAction:function(){k.sendSkypeInvite(i,r,u,f)},onDismiss:function(){u&&u()}},k.showFlyout(s))},k.reportAbuse=function(n,t){var u,i,r,f;if(n!=null){if(u=n.getContacts(),u.length>0&&(i=it.get_contacts().findByIdWithoutRoleCheck(u[0].getId()),i!=null))for(r=0;r<i.get_addresses().get_count();r++)f=i.get_addresses().get_item(r),f.get_supportsReportAbuse()&&it.reportAbuse(f,null)}else it.reportAbuse(null,t)},k.sendSkypeInvite=function(n,i,u,f){function y(n){s==0&&(k.addScenarioQoSStats(tu,o?null:vr(n),d,p,!1),v(p,o,o?null:vr(n)),ui(o?u:f))}var s=0,o=!0,p=rt.startScenario(kr,ft),d=+new Date,w={skypeinvitesource:i},c,l,b,h,e,a;if($BSI.reportEvent("WebIM.SkypeInviteSent",w),r.logDetails("WebIM_SkypeInviteSent",w),t.SkyJS&&(c=t.$pwc.getPerson(n),c))for(l=c.getContacts(),b=k.user.get_skypeAddress().get_address(),h=0;h<l.length;h++)e=l[h],a=e.getOrderedName(),(e.getSourceId()===kt||e.getSourceId()===li&&e.getSkypePendingOutbound())&&(s++,t.SkyJS.Outlook.sendRequest({data:{userId:b,contactId:ie(e),greeting:a?t.MsgrUI._getLocString("flyoutsSendInviteGreeting").format(a):""},success:function(n){s--,y(n)},error:function(n){o=!1,s--,y(n)}}));y(null)},k.blockPerson=function(n,i,r,u,f){var e=t.$pwc.getPerson(n);e&&ne(e,i,!0,r,u,f)},k.unblockPerson=function(n,i,r){var u=t.$pwc.getPerson(n);u&&ne(u,!1,!1,i,r,null)},k.signIn=function(){it&&it.get_status()==wt.UserStatus.signedIn?(uu(1),cf()):(eu=1,du=0,tr())},k.signOut=function(){it&&it.get_status()==wt.UserStatus.signedIn?hf():(eu=0,du=1,tr())},k.reconnect=function(){k.isWaitingToReconnect()&&it.signIn()},k.toggleSidebar=function(t){var u=!t||t.type=="mousedown"||t.which==13,i,r;u&&(i=n("#sidebar"),i.length>0&&(i.is(":hidden")?(k.showSidebar(!0),t&&t.which==13&&(r=i.find("a"),r.length>0&&r[0].focus())):(lr("header"),he(),ci("landingPageControlVisible",!1))))},k.dismissSidebar=function(){lr("closeButton"),he()},k.getChatViewOpenedContactId=function(){return o},k.onChatViewBack=function(){le(),ct=!1,o=null},k.onConversationSelected=function(n,t,i){vu(i.buddyId,"recentConversations"),ae(!0)},k.onConversationUpdated=function(n,i,r){var u=t.MsgrUI,f=t.Microsoft.Live.Messenger,s,e,h;if(gt!=!0||i.get_reloaded()||i.get_type()!=f.MessageType.textMessage||i.get_sender().get_isUser()||(vo(n.get_id()),nt||(s=n.get_firstName()!=null?n.get_firstName():n.get_displayName(),st==1&&r?gu(u._getLocString("newGroupMessageNotification")):st==1&&s!=null?gu(u._getLocString("newMessageNotification").format(s).trim()):gu(u._getLocString("newMultipleMessageNotification").format(st).trim()))),!i.get_reloaded()&&(i.get_type()==f.MessageType.textMessage||i.get_type()==f.MessageType.threadActivityMessage)&&(!g||!ct||!o||o!=n.get_id())&&n.get_id()!=null&&n.get_id()!=""){if(i.get_sender().get_isUser()){re(n.get_id());return}if(ao(n.get_id()),!i.get_isOfflineMessage()){if(i.get_type()==f.MessageType.textMessage)e=i.get_text();else if(u&&u.Utility)e=u.Utility.getActivityMessageString(i);else return;e&&(h=n.get_displayName(),lo(h,e,n.get_id()))}}},k.removeAllToasts=function(){for(var n in ht)of(n)},gu=function(){var n=!1,i=function(){n?(s.title=at,n=!1):s.title==at?s.title=lt:(lt=s.title,s.title=at)};return function(r){n=!0,at=r,ot==null&&(lt=s.title,ot=t.setInterval(i,1e3))}}(),k.updateMessagingCount=function(t){var i,r,u;t!==vt&&(vt=t,i=t>99?"99+":t>0?t:"",r=n("#c_ofm"),u=r.parent(),r.html(i),n("#c_hiconm").width(u.width()+"px"),fe(),nt&&e&&e.sendWebimUnreadCountChanged(t,yu()))},k.isSidebarOpened=function(){return g},k.isSidebarOverlay=function(){return yt&&n(window).width()<dt},k.setPaneToResize=function(n){f=n,$WLXIM.isSidebarOpened()&&er(null,k.isSidebarOverlay())},k.resetSidebarOverlaySettings=function(){yt=!1,dt=nr},k.setSidebarOverlay=function(n){yt=n},k.setSidebarOverlayWindowWidth=function(n){yt=!0,dt=n},k.setSidebarToFullScreen=function(t){pt=t==!0?"0px":po()+"px",n("#sidebar").css("top",pt)},k.registerWacChat=function(t){function i(n,t){var i=t.groupId.toLowerCase(),r=it.findContactByThreadId(i);r!=null?k.startConversationWithContactId(r.get_id(),"wac",!0):it.addToStartGroupChatPendingList(i)}function r(n,t){var i=t.htmlEvent;k.toggleSidebar(i)}function u(){var i,t,r;k.isSidebarOpened()&&(n("#rec_conv").is(":visible")?(i=n("#rec_conv").find("[resourceid='ContactSearchInput']").first(),i.blur(),i.focus()):(t=n("#chat_view").find("[resourceid='TextBox']").first(),t.attr("disabled")?(r=n("#chat_view").find("a").first(),r.blur(),r.focus()):(t.blur(),t.focus(),t.val(t.val()))))}function f(n){n.which==117&&n.ctrlKey&&(n.preventDefault(),e.sendWebimGiveFocus(yu()))}nt==!1&&it&&it.get_status()==wt.UserStatus.signedIn&&MC.GroupChatFeatures.phase!=MC.GroupChatPhase.disabled&&(nt=!0,e=t,e.sendWebimReady(vt,yu()),n(e).bind("StartGroupChat",i),n(e).bind("ToggleMessagingPane",r),n(e).bind("WebImTakeFocus",u),n(s).keydown(f))},k.startConversationWithContactId=function(n,t,i){var u=it.get_contacts().findByIdWithoutRoleCheck(n),r=it.get_aggregatedConversations().getAggregatedConversationByContact(u);p=r!=null&&r.get_currentConversation()!=null?r.get_currentConversation().get_buddyAddress():u.get_currentAddress(),p!=null&&(vu(n,t),k.showSidebar(i))},k.startConversationWithContact=function(n,t,i,r,u){var f=$WLXIM.getConversationAddress(n,t,i);ee(n,f,u,r)&&(p=f,vu(n.get_id(),u),k.showSidebar(!0))},k.startConversationWithIMAddress=function(n,t,i,r){ee(n,t,i,r)&&(p=t,i=i||"",vu(n.get_id(),i),k.showSidebar(!0))},k.startAudioCall=function(n,t,i,r){return oe(n,i,r)?(se(n,i,!1),fi(n.get_id(),t,"voice"),!0):!1},k.startVideoCall=function(n,t,i,r){return oe(n,i,r)?(se(n,i,!0),fi(n.get_id(),t,"video"),!0):!1},k.onToastClicked=function(n){vu(n,"toast"),k.showSidebar(!0)},k.switchPresence=function(n){it&&(it.get_presence().set_status(n),it.get_settings().set_userPresencePreference(n))},k.isVVWindow=function(){return ti.vv},k.showSidebar=function(t){var r,i;n("#rec_conv").length!=0&&(r=oi("c_hiconm"),r!=null&&r.setAttribute("aria-pressed","true"),i=n("#sidebar"),i.is(":hidden")?(i.show(),ci("onSidebarOpenedEvent",k.isSidebarOverlay()),b&&cr(),w.rtl?i.css("left","0"):i.css("right","0"),u.Animations.showEdgeUI(i,{left:n(window).width(),top:0}).then(function(){if(ce(t),ci("onSidebarOpenCompletedEvent",k.isSidebarOverlay()),w.IE_M7&&f&&f.length>0){var i=f.get(0),u=i.style.display;i.style.display="none",i.style.display=u}n(r).css("background-color",ar)})):ce(t),g=!0,nt&&e&&e.sendWebimPaneStateChanged(yu()))},k.getSidebarOpenCookieState=function(){var t=ut.getCookie("Webim_Sidebar_Open"),n;return t&&(n=t.split(":state="),n&&n.length==2&&n[0].endsWith(i.cid)&&n[1].length>0)?n[1]:null},k.init=function(n,i){sr=i,uf>=bf?r.logAction("WebIM_AlreadyLoaded"):pu?r.logAction("WebIM_Alreadyoading"):rf?(r.logAction("WebIM_DownloadPaused"),wf=1):be(),t.$Logout.add(wo)},k.pause=function(){pu||(rf=1)},k.resume=function(){rf=0,wf&&be()},k.setTestFlags=function(n){ti.eso&&(tt=n)},k.getTestFlags=function(){var i,n,r;if(tt==0&&ti.eso&&t.location.search.indexOf("testflags=")>-1)for(i=t.location.search.substring(1).split("&"),n=0,r=i.length;n<r;n++)if(i[n].startsWith("testflags=")){tt=parseInt(i[n].split("=")[1]),isNaN(tt)&&(tt=0);break}return tt},k._pres=af,k._inform=tr}function su(){i.WebIM&&i.WebIM.cs&&(t.$WLXIM=new ou,c.when("$BSI",0,pu))}function er(t,i){var r,u;f&&f.length>0&&!i&&(w.rtl&&w.Firefox&&(r=et+f.width()-n(window).width(),f.css("left",r+"px")),u=n(window).width()-et+"px",f.width(u))}function hu(){f&&f.length>0&&(f.width(""),w.rtl&&w.Firefox&&f.css("left","0"))}function cu(){var i=it(k,s.body,"sidebar",null);i.setAttribute("persist","1"),$WLXIM.sidebar=i,c.register("$WLXIM.SidebarCreated"),n($WLXIM.sidebar).bind("onSidebarOpenedEvent",er),n($WLXIM.sidebar).bind("onSidebarCloseCompletedEvent",hu),n($WLXIM.sidebar).addClass("t_sbgc"),c.register("wlxim_startconversation",$WLXIM.startConversationWithContact),c.when("NotificationControls",0,function(){u.Controls.Notifications.getQueue().start()}),n(i).css("top",pt),t.$Sutra&&t.$Sutra.WebIM&&sutra(i,"$Sutra.WebIM.WebIMSidebar")}function lu(){var i=t.MsgrUI,r=n("#sidebar").get(0),o="<div id='sidebar_close_img' onmousedown='$WLXIM.dismissSidebar();' tabindex='0' class='imCloseImg' style='background-image:url("+ri(vr)+")'/>";n(r).append(o);var u=it(k,r,"sidebar_info",null),s=ri(pr),h="<div style='text-align:center'><img src='"+s+"' class='signin_loading_img' /> "+i._getLocString("signingInInfo")+"<\/div>";wt(u,"signing",h,""),wt(u,"reconnect","","<button class='default sidebar_button' type='button' onclick='$WLXIM.reconnect()'>"+i._getLocString("messagingPaneReconnectNow")+"<\/button>"),wt(u,"signout",i._getLocString("messagingPaneSignOut"),"<button class='default sidebar_button' type='button' onclick='$WLXIM.signIn()'>"+i._getLocString("messagingPaneSignInButton")+"<\/button>"),wt(u,"resignin",i._getLocString("messagingPaneSignOut"),"<button class='default sidebar_button' type='button' onclick='location.reload()'>"+i._getLocString("messagingPaneSignInButton")+"<\/button>");var f=it(k,r,"rec_conv",null),c=it(k,f,"rec_conv_body",null),e=it(k,r,"chat_view",null),l=it(k,e,"chat_view_body",null);bt(),t.$Sutra&&t.$Sutra.WebIM&&(sutra(r,"$Sutra.WebIM.WebIMSidebar"),sutra(f,"$Sutra.WebIM.RecentConversationsView"),sutra(c,"$Sutra.WebIM.RecentConversationsList"),sutra(e,"$Sutra.WebIM.ChatView"),sutra(l,"$Sutra.WebIM.ChatViewBody"))}function wt(t,i,r,u){var f="<table class='sidebar_info_table "+i+"'><tr style='vertical-align: bottom; height:50%'><td><div class='sidebar_info_top'>"+r+"<\/div><\/td><\/tr><tr style='vertical-align: top; height:50%'><td><div class='sidebar_info_bottom'>"+u+"<\/div><\/td><\/tr><\/table>";n(f).appendTo(t)}function bt(){var r=t.Microsoft.Live.Messenger,e=t.MsgrUI,i=n(".sidebar_info"),u,f;if(i.find("table").hide(),$WLXIM.isWaitingToReconnect())u=i.find("table.reconnect"),f=e._getLocString("messagingPaneReconnect").format($WLXIM.getReconnectingTime().min+":"+$WLXIM.getReconnectingTime().sec),u.find(".sidebar_info_top").text(f),u.show(),t.setTimeout(bt,1e3);else if($WLXIM.isLoading())i.find("table.signing").show();else if($WLXIM.user&&$WLXIM.user.get_status()==r.UserStatus.signedOut)i.find("table.resignin").show();else if($WLXIM.user&&$WLXIM.user.get_presence().get_status()==r.PresenceStatus.offline&&$WLXIM.user.get_status()==r.UserStatus.signedIn)or();else{ii();return}sr()}function or(){var t=n(".sidebar_info");sr(),t.find("table").hide(),t.find("table.signout").show(),l&&(l.dispose(),l=null,n("#chat_view_body").empty())}function ii(){var t=n(".sidebar_info");if(t.is(":hidden")){t.hide();return}u.Animations.fadeOut(t).then(function(){t.hide()}),o&&$WLXIM.startConversationWithContactId(o,ti,!0)}function sr(){var t=n(".sidebar_info");t.is(":hidden")&&(t.show(),u.Animations.fadeIn(t).then(function(){}),$WLXIM.removeAllToasts())}function au(){c.when("$WLXIM.UserSignedIn",0,function(){uiQosApiStartTime=+new Date,vu(),fr=!0,eu=!1,n($WLXIM.user.get_conversations()).bind("getRecentConversationsCompleted",function(){var n=$WLXIM.getSidebarOpenCookieState();n&&n!=hi&&(n!=si&&$WLXIM.user.get_contacts().findByIdWithoutRoleCheck(n)!=null?$WLXIM.startConversationWithContactId(n,ti,!1):$WLXIM.showSidebar(!1))})})}function vu(){var i=null,r=t.$pwc.settings.getImHistoryEnabled();r&&(i=yu()),b=new t.MsgrUI.LandingPageControl($WLXIM.user),n("#rec_conv_body").append(b.render()),b.activate(),g&&cr(),hr()}function hr(){var r=t.MsgrUI,i=n("#chat_view_body");l&&(i.empty(),l.dispose()),p?(l=new r.ModernConversationControl(i[0],null,p,$WLXIM.user),p=null):o&&(l=new r.ModernConversationControl(i[0],o,null,null))}function yu(){var n=i.WebIM.mh;return"javascript:window.location='"+n+"'"}function ri(n){return i.WebIM.imgBase+n}function it(n,t,i,r){var u=s.createElement(n);return r&&(u.innerHTML=r),i&&(u.id=i,u.className=i),t&&t.appendChild(u),u}function pu(){var r=$WLXIM,t;i.WebIM.f||r.init(),c.register("wlxim",0,!0),n(".App #BelowHeader").length>0?$WLXIM.setPaneToResize(n(".App #BelowHeader")):(t=n("#c_base"),t.length>0&&$WLXIM.setPaneToResize(t)),n("#c_header").length==0?$WLXIM.setSidebarToFullScreen(!0):$WLXIM.setSidebarToFullScreen(!1)}function v(n,t,i){n&&(rt.stopScenario(n,t,i),n.id&&r.log({eventType:n.id,resultCode:t?null:i},!t))}function cr(){var n={ConversationCount:b.get_visibleItemCount()};t.$BSI.reportEvent("WebIM.RecentConversationCount",n),r.logDetails("WebIM_RecentConversationCount",n)}function fi(n,i,u){if(i!==ti&&ui.indexOf(n)<0){ui.push(n);var f={WebIMLaunchPoint:i,ConversationType:u,isOverlayMode:$WLXIM.isSidebarOverlay()};t.$BSI.reportEvent("WebIM.ConversationStarted",f),r.logDetails("WebIM_ConversationStarted",f)}}function lr(n){var i={WebIMCloseLocation:n};t.$BSI.reportEvent("WebIM.SidebarHidden",{WebIMCloseLocation:n}),r.logDetails("WebIM_SidebarHidden",i)}function ei(u,f,e){var s=t.Microsoft.Live.Messenger,o={},l,h,a,c,y,p,v;o.TimeToLogin=Math.floor((new Date-ur)/1e3),o.SignInSuccess=u,o.Culture=i.mkt,o.MessengerError=e||"-",o.WebImError=f||"-",o.EndpointId=u?$WLXIM.user.get_localEndpoint().get_id().toString():"-",o.WLContacts=0,o.SkypeContacts=0,o.ConnectContacts=0;try{for(o.IsSkypeLogin=s.Services.SkyJSHelper.skypeEnabled,o.IsSkypeLogin&&(l=s.Services.SkyJSHelper.initErrorCode,o.SkyjsErrorCode=l==""?"-":l,o.SkypeAccountType=t.SkyJS.Outlook.isUserLinkStatusActive(),o.SkypeLoginTime=$WLXIM.user.get_identity().skypeLoginTime),h=0;h<$WLXIM.user.get_contacts().get_count();h++)for(a=$WLXIM.user.get_contacts().get_item(h).get_addresses(),c=0;c<a.get_count();c++){y=a.get_item(c).get_type();switch(y){case s.IMAddressType.windowsLive:o.WLContacts++;break;case s.IMAddressType.skype:o.SkypeContacts++;break;case s.IMAddressType.connect:o.ConnectContacts++}}}catch(w){r.logError("WebIM_SkypeReportingError",w)}p={TimeToLogin:0,SkypeLoginTime:0,IsSkypeLogin:!1,SignInSuccess:!1,SkyjsErrorCode:"-",SkypeAccountType:!1,Culture:"-",MessengerError:"-",WebImError:"-",EndpointId:"-",WLContacts:0,SkypeContacts:0,ConnectContacts:0},v=n.extend({},p,o),$BSI.reportEvent("WebIM.LoginTime",v),r.logDetails("WebIM_LoginTime",v)}var t=window,u=t.wLive,w=t.$B,y=t.$Network,rt=t.$ScenarioQoS,ut=t.$Cookie,i=t.$Config,c=t.$Do,r=u.People.Reporter,s=t.document,oi=t._ge,k="DIV",ar="rgba(0, 0, 0, 0.24)",vr="webim/imagestripmessaging.png",yr="webim/messaging_icon_1.png",pr="common/spinner_grey_40_transparent.gif",si=0,hi=-1,ci="FB",wr="WL",li="SKYPE",kt="SCD",ft="WebIM",br="WebIM_CoreScriptLoad",kr="WebIM_SkypeSendRequest",dr="WebIM_SkypeDeclineRequest",gr="WebIM_BlockRequest",nu="WebIM_UnblockRequest",ai="WebIM_CoreScriptLoad_Loader",vi="WebIM_CoreScriptLoad_MessengerCore",yi="WebIM_CoreScriptLoad_MessengerStrings",pi="WebIM_CoreScriptLoad_SkyJS",tu="WebIM_SkypeSendRequest_Call",wi="WebIM_SkypeDeclineRequest_Call",bi="WebIM_SkypeBlockRequest_Call",ki="WebIM_SkypeUnblockRequest_Call",di="WebIM_MessengerBlockRequest_Call",gi="WebIM_MessengerUnblockRequest_Call",d="ScriptLoadFailure",iu='<div><div class="wim_decline_block"><input tabindex="-1" title="{0}" aria-label="{0}" type="checkbox" value="Block"><label title="{0}">{0}<\/label><\/div><div><input tabindex="-1" title="{1}" aria-label="{1}" type="checkbox" value="ReportAbuse"><label title="{1}">{1}<\/label><\/div><\/div>',ru='<div class="wim_block_message">{0}<\/div><div class="wim_block_repabuse"><input tabindex="-1" title="{1}" aria-label="{1}" type="checkbox" value="ReportAbuse"><label title="{1}">{1}<\/label><\/div>',nr=1e5,dt=nr,et=300,uu=new Array(1),tr,ui;uu[ci]="sn/PsaMedium/FBActive.png",tr=new Array(1),tr[ci]="Facebook";var b,l,o,p,fu,h,a,gt=!1,lt,at,ot,vt=0,st=0,ir=0,rr={},ni={},ht={},yt=!1,g=!1,ct=!1,ur,f,fr,eu,pt=40,ti="resumedConversation",nt=!1,e,tt=0;ui=[],su()}(window.originaljQuery||jQuery),function(){$Do.register("$WLiveLoaded")}(),window.define)for(files=["Debug.js","Qos.js","QosOverrides.js","RegisterNamespace.js","LightObject.js","LightString.js","Dependancies.js","TruncateEllipsis.js","Utility.js","UtilityExtensions.js","Beacon.js","LightFunction.js","LightArray.js","Watson.js","do.js","Cookie.js","BSI.js","css.js","Sutra.js","Setup.js","LightEnums.js","SetTimeout.js","HelpContext.js","LightNetwork.js","ScenarioQoS.js","PageStats.js","baseutil.js","domutils.js","wLiveCss.js","wLiveImagestrip.js","wLiveMenu.js","CSIPerf.js","Reporter.js","IdleTimer.js","Names.js","MessagingAddress.js","PeopleContactDetails.js","PeopleContact.js","PersonDetails.js","Person.js","Group.js","Category.js","Service.js","Settings.js","LazyHash.js","CrossDomainProxy.js","StorageProxy.js","Store.js","ServiceProxy.js","DeltaSync.js","SyncClient.js","Client.js","NetworkID.js","SortOrder.js","Cache.js","PwcInitializer.js","ic.js","SafeLinks.js","ssl.js","header.js","header_themehover.js","MeControl.js","footer.js","leftnav.js","collapsing.js","wLiveNavLink.js","NavigationCollections.js","commandBar.js","trie.js","ICUserTileScript.inline.js","logout.js","preload.js","sharedlapsetimer.js","basemaster.js","PersistenceFramework.js","flextag.js","animationsstub.js","WebIm.js","wLiveLoaded.js"],x=0;x<files.length;x++)define(files[x],[],function(){});window.JSDownload_wlive=1