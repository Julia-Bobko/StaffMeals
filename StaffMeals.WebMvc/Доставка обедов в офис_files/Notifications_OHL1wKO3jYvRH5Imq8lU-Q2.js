var files,x;(function(n,t){"use strict";var r=t;t.simpleCallbacks=function(){var n=[];return{fire:function(){for(var i=n,t=0;t<i.length;t++)i[t].apply(this,arguments)},add:function(t){n=n.slice(0),n.push(t)},remove:function(t){n=r.grep(n,function(n){return n!==t})},empty:function(){n=[]}}}})(this,window.originaljQuery||window.jQuery);
/*! jsObservable: http://github.com/BorisMoore/jsviews */
(function(n,t,i){"use strict";function v(n,r,u,e){var s,o,h,c;n=f(n)?n[0]:n;var v=u?{eventType:r,namespace:u}:st(r),l=v.eventType,p=v.namespace,w=tt[l],a=n[y.expando];if(a&&(s=a.events,s&&(o=s[l],o&&o.length))){for(h=o.length-1;h>=0;--h)c=o[h],(p===i||bt(p,c.namespaceParts))&&(e===i||e===c.handler)&&(w.remove.call(n,c),o.splice(h,1));o.length||(delete s[l],t.isEmptyObject(s)&&delete a.events)}}function wt(n,t,r){v(n,t,i,r)}function bt(n,t){var u,i,r;if(!t)return!1;for(u=n.split("."),i=!0,r=0;i&&r<u.length;r++)u[r]&&(i=i&&t[u[r]]);return i}function st(n){var i=n,r="",t=n.indexOf(".");return t>-1&&(i=n.substr(0,t),r=n.substr(t+1)),{eventType:i,namespace:r}}function kt(n,t,r){it(n,t,i,i,r)}function it(n,t,i,r,u){var o;n=f(n)?n[0]:n;var s=n[y.expando]=n[y.expando]||{},h=s.events=s.events||{},c=st(t),e=c.eventType,l=c.namespace,p=h[e]=h[e]||[],a={},v=l.split(".");for(o=0;o<v.length;o++)a[v[o]]=!0;p.push({namespace:l,namespaceParts:a,data:r,handler:u,type:e,origType:e,selector:i})}function k(n,t,i){var o,s,r,u,e;if(n=f(n)?n[0]:n,o=n[y.expando],o&&(s=o.events,s&&(r=s[t],r)))for(u=0;u<r.length;u++)e=r[u],e.handler.call(n,{data:e.data,type:t,handleObj:e,target:n},i)}function u(n){return f(n)?new ut(n):new rt(n)}function rt(n){return this._data=n,this}function ut(n){return this._data=n,this}function c(n){return f(n)?[n]:n}function d(n){if(typeof n!="number")throw"Invalid index.";}function ht(n,t){n=f(n)?n:[n];for(var i,u=t,o=u,h=n.length,r=[],s=0;s<h;s++){if(i=n[s],e(i)){p.apply(r,[r.length,1].concat(ht(i.call(t,t),t)));continue}else if(""+i!==i){t=o=i,o!==u&&r.push(u=o);continue}o!==u&&r.push(u=o),r.push(i)}return r}function ct(n,t){var r,i;for(r in n){i=!0;break}i||delete b[t]}function dt(n,t){if(!(n.data&&n.data.off)){var r=t.oldValue,i=n.data;n.type===a?i.cb.array(n,t):(i.prop==="*"||i.prop===t.path)&&(typeof r===w&&nt(c(r),i.path,i.cb),typeof(r=t.value)===w&&o(c(r),i.path,i.cb),i.cb(n,t))}}function gt(n,t,i,r,u,f,e){return n._ob=e(n,i),function(){var s=n._ob,h=t.length;typeof s===w&&(g(s,r,u,f,!0),h&&nt(c(s),t,r,e,i)),s=n._ob=e(n,i),typeof s===w&&(g(s,r,u,f),h&&o(c(s),t,r,e,i))}}function g(n,t,r,u,e){t&&t.array&&f(n)&&ft(a+".observe.obs"+t._bnd,i,n,t,r,u,!0,e)}function ft(n,i,r,u,f,e,o,s){var w=ot(r),b=c(r),h,p,y;if(s)w&&v(b,n);else{if(h=w&&t._data(r))for(h=h&&h.events,h=h&&h[o?a:l],p=h&&h.length;p--;)if((y=h[p].data)&&y.cb===u){if(o)return;i==="*"&&y.prop!==i&&v(r,n+"."+y.prop)}it(b,n,null,o?{cb:u}:{path:i,prop:f,cb:u},dt),e&&(e[t.data(r,"obId")||t.data(r,"obId",vt++)]=r)}}function o(){var d,l,n,u,tt,r,s,f,it,vt,rt,a,ut,pt,st,at,bt,kt=1,wt=et,h=lt.apply([],arguments),y=h.pop(),w=h[0],nt=""+w!==w?h.shift():i,k=h.length;for(w=nt,e(y)?f=y:(y===!0?s=y:y&&(w=y,kt=0),y=h[k-1],(k&&y===i||e(y))&&(f=h.pop(),k--)),e(h[k-1])&&(ut=f,f=h.pop(),k--),wt+=s?f?".obs"+f._bnd:"":".obs"+(it=f._bnd=f._bnd||yt++),s&&k===0&&nt&&v(nt,et),s||(st=b[it]=b[it]||{}),at=0,d=0;d<k;d++){if(u=h[d],g(r,f,n,s),r=nt,""+u===u){if(l=u.split("^"),l[1]&&(at=l[0].split(".").length,u=l.join("."),at=u.split(".").length-at),ut&&(pt=ut(u,nt))){k+=pt.length-1,p.apply(h,[d--,1].concat(pt));continue}l=u.split(".")}else kt&&!e(u)&&(u._jsvOb&&(s||(u._cb=bt=gt(u,h.slice(d+1),w,f,n,st,ut),u._rt=w,bt._bnd=f._bnd),o(u._rt,h.slice(0,d),u._cb,ut,s),u=u._ob),r=u),nt=u,l=[nt];while(r&&typeof r=="object"&&(n=l.shift())!==i){if(""+n===n){if(n==="")continue;if(l.length<at+1&&!r.nodeType){if(!s&&(a=ot(r)&&t._data(r))){for(a=a.events,a=a&&a.propertyChange,vt=a&&a.length;vt--;)if(rt=a[vt].data,rt&&rt.cb===f&&(rt.prop===n&&rt.path===l.join(".")||rt.prop==="*"))break;if(vt>-1){r=r[n];continue}}if(n==="*"){e(r)?(tt=r.depends)&&o(tt,f,s||w):ft(wt,n,r,f,n,st,i,s);break}else!n||e(tt=r[n])&&tt.depends||ft(wt+"."+n,l.join("."),r,f,n,st,i,s)}n=n?r[n]:r}if(e(n)){(tt=n.depends)&&o(r,ht(tt,r),f,ut,s||c(w));break}r=n}}return g(r,f,n,s),it&&ct(st,it),{cbId:it,bnd:st,leaf:r}}function nt(){return[].push.call(arguments,!0),o.apply(this,arguments)}var y=t;if(!t)throw"requires jQuery or JsRender";if(!t.observable){var ni="v1.0pre",s,r,tt=t.event.special,h=t.views?t.views.sub:{},ti=1,p=[].splice,lt=[].concat,f=function(n){return n instanceof Array},at=t.expando,w="object",l=h.propChng=h.propChng||"propertyChange",a=h.arrChng=h.arrChng||"arrayChange",b=h._cbBnds=h._cbBnds||{},et=l+".observe",e=function(n){return typeof n=="function"},vt=1,yt=1,ot=t.hasData,pt=pt||{assert:function(){}};t.observable=u,u.Object=rt,u.Array=ut,u.observe=o,u.unobserve=nt,u.on=it,u.simpleOn=kt,u.simpleOff=wt,u.off=v,u.trigger=k,u.onObservableTrigger=t.simpleCallbacks(),rt.prototype={_data:null,data:function(){return this._data},observe:function(n,t){return o(this._data,n,t)},unobserve:function(n,t){return nt(this._data,n,t)},setProperty:function(n,t,r){var c,u,h,s,e=this,o=e._data;if(n=n||"",o)if(f(n))for(u=n.length;u--;)h=n[u],e.setProperty(h.name,h.value,r===i||r);else if(""+n!==n)for(u in n)e.setProperty(u,n[u],t);else if(n.indexOf(at)<0){for(s=n.split(".");o&&s.length>1;)o=o[s.shift()];e._setProperty(o,s.join("."),t,r)}return e},_setProperty:function(n,t,i,r){var f,o,u=t?n[t]:n;e(u)&&u.set&&(o=u,f=u.set===!0?u:u.set,u=u.call(n)),(u!==i||r&&u!=i)&&(!(u instanceof Date)||u>i||u<i)&&(f?(f.call(n,i),i=o.call(n)):n[t]=i,this._trigger(n,{path:t,value:i,oldValue:u}))},_trigger:function(n,i){t.observable.onObservableTrigger.fire(),k(n,l,i)}},ut.prototype={_data:null,data:function(){return this._data},insert:function(n,t){return d(n),arguments.length>1&&(t=f(t)?t:[t],t.length&&this._insert(n,t)),this},_insert:function(n,t){r=this._data,s=r.length,p.apply(r,[n,0].concat(t)),this._trigger({change:"insert",index:n,items:t})},remove:function(n,t){if(d(n),t=t===i||t===null?1:t,t&&n>-1){var r=this._data.slice(n,n+t);t=r.length,t&&this._remove(n,t,r)}return this},_remove:function(n,t,i){r=this._data,s=r.length,r.splice(n,t),this._trigger({change:"remove",index:n,items:i})},move:function(n,t,r){if(d(n),d(t),r=r===i||r===null?1:r,r){var u=this._data.slice(n,n+r);this._move(n,t,r,u)}return this},_move:function(n,t,i,u){r=this._data,s=r.length,r.splice(n,i),r.splice.apply(r,[t,0].concat(u)),this._trigger({change:"move",oldIndex:n,index:t,items:u})},refresh:function(n){var t=this._data.slice(0);return this._refresh(t,n),this},_refresh:function(n,t){r=this._data,s=r.length,p.apply(r,[0,r.length].concat(t)),this._trigger({change:"refresh",oldItems:n})},_trigger:function(n){var i=r.length;t.observable.onObservableTrigger.fire(),k([r],a,n),i!==s&&k([r],l,{path:"length",value:i,oldValue:s})}},tt[l]=tt[a]={remove:function(n){if((n=n.data)&&(n.off=1,n=n.cb)){var r=n._bnd,i=b[r];i&&(delete i[t.data(this,"obId")],ct(i,r))}}}}})(this,window.originaljQuery||window.jQuery||this.jsviews);
/*! JsRender v1.0pre: http://github.com/BorisMoore/jsrender */
(function(n,t,i){"use strict";function tt(n,t){t&&t.onError&&t.onError(n)===!1||(this.name="JsRender Error",this.message=n||"JsRender error")}function it(n,t){var i;n=n||{};for(i in t)n[i]=t[i];return n}function lt(n,t,i){return(!b.rTag||arguments.length)&&(l=n?n.charAt(0):l,a=n?n.charAt(1):a,f=t?t.charAt(0):f,s=t?t.charAt(1):s,p=i||p,n="\\"+l+"(\\"+p+")?\\"+a,t="\\"+f+"\\"+s,c="(?:(?:(\\w+(?=[\\/\\s\\"+f+"]))|(?:(\\w+)?(:)|(>)|!--((?:[^-]|-(?!-))*)--|(\\*)))\\s*((?:[^\\"+f+"]|\\"+f+"(?!\\"+s+"))*?)",b.rTag=c+")",c=new RegExp(n+c+"(\\/)?|(?:\\/(\\w+)))"+t,"g"),ot=new RegExp("<.*>|([^\\\\]|^)[{}]|"+n+".*"+t)),[l,a,f,s,p]}function si(n,t){t||(t=n,n=i);var e,f,o,u,r=this,s=!t||t==="root";if(n){if(u=r.type===t?r:i,!u)if(e=r.views,r._.useKey){for(f in e)if(u=e[f].get(n,t))break}else for(f=0,o=e.length;!u&&f<o;f++)u=e[f].get(n,t)}else if(s)while(r.parent.parent)u=r=r.parent;else while(r&&!u)u=r.type===t?r:i,r=r.parent;return u}function at(){var n=this.get("item");return n?n.index:i}function hi(n){var u,r=this,t=(r.ctx||{})[n];return t=t===i?r.getRsc("helpers",n):t,t&&typeof t=="function"&&(u=function(){return t.apply(r,arguments)}),u||t}function ci(n,t,u){var c,f,s,e=+u===u&&u,o=t.linkCtx;return e&&(u=(e=t.tmpl.bnds[e-1])(t.data,t,r)),s=u.args[0],(n||e)&&(f=o&&o.tag||{_:{inline:!o},tagName:n+":",flow:!0,_is:"tag"},f._.bnd=e,o&&(o.tag=f,f.linkCtx=o,u.ctx=h(u.ctx,o.view.ctx)),f.tagCtx=u,u.view=t,f.ctx=u.ctx||{},delete u.ctx,t._.tag=f,n=n!=="true"&&n,n&&((c=t.getRsc("converters",n))||y("Unknown converter: {{"+n+":"))&&(f.depends=c.depends,s=c.apply(f,u.args)),s=e&&t._.onRender?t._.onRender(s,t,e):s,t._.tag=i),s}function li(n,t){for(var f=this,u=r[n],e=u&&u[t];e===i&&f;)u=f.tmpl[n],e=u&&u[t],f=f.parent;return e}function ai(n,t,u,f){var ut,o,ft,g,ht,b,c,nt,tt,s,k,p,et,a,it,v="",d=+f===f&&f,l=t.linkCtx||0,w=t.ctx,ot=u||t.tmpl,st=t._;for(n._is==="tag"&&(o=n,n=o.tagName),d&&(f=(et=ot.bnds[d-1])(t.data,t,r)),nt=f.length,o=o||l.tag,c=0;c<nt;c++)s=f[c],p=s.tmpl,p=s.content=p&&ot.tmpls[p-1],u=s.props.tmpl,c||u&&o||(a=t.getRsc("tags",n)||y("Unknown tag: {{"+n+"}}")),u=u||(o?o._def:a).template||p,u=""+u===u?t.getRsc("templates",u)||e(u):u,s.tmpl=u,s.render=rt,s.index=c,s.view=t,s.ctx=h(s.ctx,w),o||(a._ctr?(o=new a._ctr,it=!!o.init,o.attr=o.attr||a.attr||i):o={render:a.render},o._={inline:!l},l&&(l.attr=o.attr=l.attr||o.attr,l.tag=o,o.linkCtx=l),(o._.bnd=et||l)&&(o._.arrVws={}),o.tagName=n,o.parent=b=w&&w.tag,o._is="tag",o._def=a),st.tag=o,s.tag=o,o.tagCtxs=f,o.flow||(k=s.ctx=s.ctx||{},ft=o.parents=k.parentTags=w&&h(k.parentTags,w.parentTags)||{},b&&(ft[b.tagName]=b),k.tag=o),o.rendering={};for(c=0;c<nt;c++)s=o.tagCtx=f[c],o.ctx=s.ctx,!c&&it&&(o.init(s,l,o.ctx),it=i),(ut=o.render)&&(tt=ut.apply(o,s.args)),v+=tt!==i?tt:s.tmpl?s.render():"";return delete o.rendering,o.tagCtx=o.tagCtxs[0],o.ctx=o.tagCtx.ctx,o._.inline&&(g=o.attr)&&g!=="html"&&(v=g==="text"?wt.html(v):""),v=d&&t._.onRender?t._.onRender(v,t,d):v}function w(n,t,r,u,f,e,o,s){var c,l,a,y=t==="array",v={key:0,useKey:y?0:1,id:""+oi++,onRender:s,bnds:{}},h={data:u,tmpl:f,content:o,views:y?[]:{},parent:r,ctx:n,type:t,get:si,getIndex:at,getRsc:li,hlp:hi,_:v,_is:"view"};return r&&(c=r.views,l=r._,l.useKey?(c[v.key="_"+l.useKey++]=h,a=l.tag,v.bnd=y&&(!a||!!a._.bnd&&a)):c.splice(v.key=h.index=e!==i?e:c.length,0,h),h.ctx=n||r.ctx),h}function vi(n){var t,i,r,u,f;for(t in v)if(u=v[t],(f=u.compile)&&(i=n[t+"s"]))for(r in i)i[r]=f(r,i[r],n,t,u)}function yi(n,t,i){var u,r;return typeof t=="function"?t={depends:t.depends,render:t}:((r=t.template)&&(t.template=""+r===r?e[r]||e(r):r),t.init!==!1&&(u=t._ctr=function(){},(u.prototype=t).constructor=u)),i&&(t._parentTmpl=i),t}function vt(r,u,f,o,s,c){function v(i){if(""+i===i||i.nodeType>0){try{a=i.nodeType>0?i:!ot.test(i)&&t&&t(n.document).find(i)[0]}catch(u){}return a&&(i=a.getAttribute(ct),r=r||i,i=e[i],i||(r=r||"_"+ei++,a.setAttribute(ct,r),i=e[r]=vt(r,a.innerHTML,f,o,s,c))),i}}var l,a;return u=u||"",l=v(u),c=c||(u.markup?u:{}),c.tmplName=r,f&&(c._parentTmpl=f),!l&&u.markup&&(l=v(u.markup))&&l.fn&&(l.debug!==u.debug||l.allowCode!==u.allowCode)&&(l=l.markup),l!==i?(r&&!f&&(nt[r]=function(){return u.render.apply(u,arguments)}),l.fn||u.fn?l.fn&&(u=r&&r!==l.tmplName?h(c,l):l):(u=yt(l,c),ut(l,u)),vi(c),u):void 0}function yt(n,t){var i,f=k.wrapMap||{},r=it({markup:n,tmpls:[],links:{},tags:{},bnds:[],_is:"template",render:rt},t);return t.htmlTag||(i=ui.exec(n),r.htmlTag=i?i[1].toLowerCase():""),i=f[r.htmlTag],i&&i!==f.div&&(r.markup=u.trim(r.markup),r._elCnt=!0),r}function pi(n,t){function u(e,o,s){var l,h,a,c;if(e&&""+e!==e&&!e.nodeType&&!e.markup){for(a in e)u(a,e[a],o);return r}return o===i&&(o=e,e=i),e&&""+e!==e&&(s=o,o=e,e=i),c=s?s[f]=s[f]||{}:u,h=t.compile,(l=b.onBeforeStoreItem)&&(h=l(c,e,o,h)||h),e?o===null?delete c[e]:c[e]=h?o=h(e,o,s,n,t):o:o=h(i,o),o&&(o._is=n),(l=b.onStoreItem)&&l(c,e,o,h),o}var f=n+"s";r[f]=u,v[n]=t}function rt(n,t,f,o,s,c){var b,ut,nt,v,tt,it,rt,k,p,ft,d,et,a,l=this,ot=!l.attr||l.attr==="html",g="";if(o===!0&&(rt=!0,o=0),l.tag?(k=l,l=l.tag,ft=l._,et=l.tagName,a=k.tmpl,t=h(t,l.ctx),p=k.content,k.props.link===!1&&(t=t||{},t.link=!1),f=f||k.view,n=n===i?f:n):a=l.jquery&&(l[0]||y('Unknown template: "'+l.selector+'"'))||l,a&&(!f&&n&&n._is==="view"&&(f=n),f&&(p=p||f.content,c=c||f._.onRender,n===f&&(n=f.data,s=!0),t=h(t,f.ctx)),f&&f.data!==i||((t=t||{}).root=n),a.fn||(a=e[a]||e(a)),a)){if(c=(t&&t.link)!==!1&&ot&&c,d=c,c===!0&&(d=i,c=f._.onRender),u.isArray(n)&&!s)for(v=rt?f:o!==i&&f||w(t,"array",f,n,a,o,p,c),b=0,ut=n.length;b<ut;b++)nt=n[b],tt=w(t,"item",v,nt,a,(o||0)+b,p,c),it=a.fn(nt,tt,r),g+=v._.onRender?v._.onRender(it,tt):it;else v=rt?f:w(t,et||"data",f,n,a,o,p,c),ft&&!l.flow&&(v.tag=l),g+=a.fn(n,v,r);return d?d(g,v):g}return""}function y(n){throw new r.sub.Error(n);}function o(n){y("Syntax error\n"+n)}function ut(n,t,i,r){function v(t){t-=f,t&&h.push(n.substr(f,t).replace(g,"\\n"))}function l(t){t&&o('Unmatched or missing tag: "{{/'+t+'}}" in template:\n'+n)}function y(e,c,y,w,b,k,d,nt,tt,it,rt,ut){k&&(b=":",w="html"),it=it||i;var at,st,ht=c&&[],ot="",et="",ct="",lt=!it&&!b&&!d;y=y||b,v(ut),f=ut+e.length,nt?p&&h.push(["*","\n"+tt.replace(ni,"$1")+"\n"]):y?(y==="else"&&(ri.test(tt)&&o('for "{{else if expr}}" use "{{else expr}}"'),ht=u[6],u[7]=n.substring(u[7],ut),u=s.pop(),h=u[3],lt=!0),tt&&(tt=tt.replace(g," "),ot=ft(tt,ht,t).replace(ii,function(n,t,i){return t?ct+=i+",":et+=i+",",""})),et=et.slice(0,-1),ot=ot.slice(0,-1),at=et&&et.indexOf("noerror:true")+1&&et||"",a=[y,w||!!r||"",ot,lt&&[],'params:"'+tt+'",props:{'+et+"}"+(ct?",ctx:{"+ct.slice(0,-1)+"}":""),at,ht||0],h.push(a),lt&&(s.push(u),u=a,u[7]=f)):rt&&(st=u[0],l(rt!==st&&st!=="else"&&rt),u[7]=n.substring(u[7],ut),u=s.pop()),l(!u&&rt),h=u[3]}var a,p=t&&t.allowCode,e=[],f=0,s=[],h=e,u=[,,,e];return n=n.replace(ti,"\\$1"),l(s[0]&&s[0][3].pop()[0]),n.replace(c,y),v(n.length),(f=e[e.length-1])&&l(""+f!==f&&+f[7]===f[7]&&f[0]),pt(e,i?n:t,i)}function pt(n,i,r){var c,f,e,l,a,y,st,ht,ct,lt,ft,p,s,bt,gt,et,v,tt,w,kt,it,at,ni,b,vt,wt,ot,rt,d,h=0,u="",nt="",ut={},dt=n.length;for(""+i===i?(v=r?'data-link="'+i.replace(g," ").slice(1,-1)+'"':i,i=0):(v=i.tmplName||"unnamed",(kt=i.allowCode)&&(ut.allowCode=!0),i.debug&&(ut.debug=!0),p=i.bnds,et=i.tmpls),c=0;c<dt;c++)if(f=n[c],""+f===f)u+='\nret+="'+f+'";';else if(e=f[0],e==="*")u+=""+f[1];else{if(l=f[1],a=f[2],it=f[3],y=f[4],nt=f[5],at=f[7],(wt=e==="else")||(h=0,p&&(s=f[6])&&(h=p.push(s))),(ot=e===":")?(l&&(e=l==="html"?">":l+e),nt&&(rt="prm"+c,nt="try{var "+rt+"=["+a+"][0];}catch(e){"+rt+'="";}\n',a=rt)):(it&&(tt=yt(at,ut),tt.tmplName=v+"/"+e,pt(it,tt),et.push(tt)),wt||(w=e,vt=u,u="",bt=c),b=n[c+1],b=b&&b[0]==="else"),y+=",args:["+a+"]}",ot&&s||l&&e!==">"){if(d=new Function("data,view,j,u"," // "+v+" "+h+" "+e+"\n"+nt+"return {"+y+";"),d.paths=s,d._ctxs=e,r)return d;ft=1}if(u+=ot?"\n"+(s?"":nt)+(r?"return ":"ret+=")+(ft?(ft=0,lt=!0,'c("'+l+'",view,'+(s?(p[h-1]=d,h):"{"+y)+");"):e===">"?(ht=!0,"h("+a+");"):(ct=!0,"(v="+a+")!="+(r?"=":"")+'u?v:"";')):(st=!0,"{tmpl:"+(it?et.length:"0")+","+y+","),w&&!b){if(u="["+u.slice(0,-1)+"]",(r||s)&&(u=new Function("data,view,j,u"," // "+v+" "+h+" "+w+"\nreturn "+u+";"),s&&((p[h-1]=u).paths=s),u._ctxs=e,r))return u;u=vt+'\nret+=t("'+w+'",view,this,'+(h||u)+");",s=0,w=0}}u="// "+v+"\nvar j=j||"+(t?"jQuery.":"js")+"views"+(ct?",v":"")+(st?",t=j._tag":"")+(lt?",c=j._cnvt":"")+(ht?",h=j.converters.html":"")+(r?";\n":',ret="";\n')+(k.tryCatch?"try{\n":"")+(ut.debug?"debugger;":"")+u+(r?"\n":"\nreturn ret;\n")+(k.tryCatch?"\n}catch(e){return j._err(e);}":"");try{u=new Function("data,view,j,u",u)}catch(ti){o("Compiled template code:\n\n"+u,ti)}return i&&(i.fn=u),u}function ft(n,t,i){function w(w,b,k,d,g,nt,tt,it,rt,et,ot,st,ht,ct,lt,at,vt,yt,pt){function bt(n,i,r,u,f,e,o){if(i&&(t&&!v&&t.push(d),i!==".")){var s=(r?'view.hlp("'+r+'")':u?"view":"data")+(o?(f?"."+f:r?"":u?"":"."+i)+(e||""):(o=r?"":u?f||"":i,""));return s=s+(o?"."+o:""),s.slice(0,9)==="view.data"?s.slice(5):s}return n}var wt;if(g=g||"",k=k||b||ot,d=d||it,rt=rt||at||"",nt)o(n);else return t&&lt&&(wt=y[r],pt.length-2>yt-wt&&(wt=pt.slice(wt,yt+1),lt=a+":"+wt+f,lt=p[lt]=p[lt]||ut(l+lt+s,i,!0),lt.paths||ft(wt,lt.paths=[],i),t.push({_jsvOb:lt}))),h?(h=!st,h?w:'"'):e?(e=!ht,e?w:'"'):(k?(r++,y[r]=yt++,k):"")+(vt?r?"":c?(c=v=!1,"\b"):",":tt?(r&&o(n),c=d,v=d.charAt(0)==="~","\b"+d+":"):d?d.split("^").join(".").replace(dt,bt)+(rt?(u[++r]=!0,d.charAt(0)!=="."&&(y[r]=yt),rt):g):g?g:ct?(u[r--]=!1,ct)+(rt?(u[++r]=!0,rt):""):et?(u[r]||o(n),","):b?"":(h=st,e=ht,'"'))}var c,v,p=i.links,u={},y={0:-1},r=0,e=!1,h=!1;return(n+" ").replace(gt,w)}function et(){}function h(n,t){var i;return t&&(et.prototype=t),i=n&&n!==t?t?it(new et,n):n:t&&new et}function bt(n){return ht[n]||(ht[n]="&#"+n.charCodeAt(0)+";")}if((!t||!t.views)&&!n.jsviews){var kt="v1.0pre",u,d,c,ot,l="{",a="{",f="}",s="}",p="^",dt=/^(?:null|true|false|\d[\d.]*|([\w$]+|\.|~([\w$]+)|#(view|([\w$]+))?)([\w$.^]*?)(?:[.[^]([\w$]+)\]?)?)$/g,gt=/(\()(?=\s*\()|(?:([([])\s*)?(?:([#~]?[\w$.^]+)?\s*((\+\+|--)|\+|-|&&|\|\||===|!==|==|!=|<=|>=|[<>%*!:?\/]|(=))\s*|([#~]?[\w$.^]+)([([])?)|(,\s*)|(\(?)\\?(?:(')|("))|(?:\s*(([)\]])(?=\s*\.|\s*\^)|[)\]])([([]?))|(\s+)/g,g=/\s*\n/g,ni=/\\(['"])/g,ti=/\\?(['"\\])/g,ii=/\x08(~)?([^\x08]+)\x08/g,ri=/^if\s/,ui=/<(\w+)[>\s]/,bi=/<(\w+)[^>\/]*>[^>]*$/,st=/[\x00`><"'&]/g,fi=st,ei=0,oi=0,ht={"&":"&amp;","<":"&lt;",">":"&gt;","\x00":"&#0;","'":"&#39;",'"':"&#34;","`":"&#96;"},ct="data-jsv-tmpl",ki=[].slice,nt={},v={template:{compile:vt},tag:{compile:yi},helper:{},converter:{}},r={jsviews:kt,render:nt,settings:{delimiters:lt,debugMode:!0,tryCatch:!0},sub:{View:w,Error:tt,tmplFn:ut,parse:ft,extend:it,error:y,syntaxError:o},_cnvt:ci,_tag:ai,_err:function(n){return k.debugMode?"Error: "+(n.message||n)+". ":""}};(tt.prototype=new Error).constructor=tt,at.depends=function(){return[this.get("item"),"index"]};for(d in v)pi(d,v[d]);var e=r.templates,wt=r.converters,di=r.helpers,wi=r.tags,b=r.sub,k=r.settings;t?(u=t,u.fn.render=rt):(u=n.jsviews={},u.isArray=Array&&Array.isArray||function(n){return Object.prototype.toString.call(n)==="[object Array]"}),u.render=nt,u.views=r,u.templates=e=r.templates,wi({"else":function(){},"if":{render:function(n){var t=this;return t.rendering.done||!n&&(arguments.length||!t.tagCtx.index)?"":(t.rendering.done=!0,t.selected=t.tagCtx.index,t.tagCtx.render())},onUpdate:function(n,t,i){for(var r,f,u=0;(r=this.tagCtxs[u])&&r.args.length;u++)if(r=r.args[0],f=!r!=!i[u].args[0],!!r||f)return f;return!1},flow:!0},"for":{render:function(n){var s,h,t=this,f=t.tagCtx,e=!arguments.length,r="",o=e||0;return t.rendering.done||(e?r=i:n!==i&&(r+=f.render(n),o+=u.isArray(n)?n.length:1),(t.rendering.done=o)&&(t.selected=f.index)),r},onUpdate:function(){},onArrayChange:function(n,t){var i,u=this,r=t.change;if(this.tagCtxs[1]&&(r==="insert"&&n.target.length===t.items.length||r==="remove"&&!n.target.length||r==="refresh"&&!t.oldItems.length!=!n.target.length))this.refresh();else for(i in u._.arrVws)i=u._.arrVws[i],i.data===n.target&&i._.onArrayChange.apply(i,arguments);n.done=!0},flow:!0},include:{flow:!0},"*":{render:function(n){return n},flow:!0}}),wt({html:function(n){return n!=i?String(n).replace(fi,bt):""},attr:function(n){return n!=i?String(n).replace(st,bt):n===null?null:""},url:function(n){return n!=i?encodeURI(String(n)):n===null?null:""}}),lt()}})(this,window.originaljQuery||window.jQuery);
/*! JsViews v1.0pre: http://github.com/BorisMoore/jsviews */
if(function(n,t,i){"use strict";function gi(n){var y,it,s,a,o,f,c,e,p,l,w,b,k,v=n.target,d,g,r=v._jsvBnd;if(r)for(b=r.slice(1).split("&"),k=b.length;k--;)(w=h[b[k]])&&(a=w.linkCtx,l=a.view,(r=w.to)&&(p=t(v),d=l.hlp(vt),g=l.hlp(yt),s=dt(v),y=yi[s],o=nt(s)?s(v):y?p[y]():p.attr(s),d&&(it=d.call(l,n)===!1)||o===i||(c=r[1],r=r[0],e=r[0],e=e._jsvOb?e._ob:e,r=r[2]||r[1],nt(c)?f=c:(f=l.tmpl.converters,f=f&&f[c]||u.converters[c]),f&&(o=f.call(a.tag,o)),o!==i&&e&&(tt(e).setProperty(r,o),g&&g.call(a,n))),it&&n.stopImmediatePropagation()))}function fu(n,r,f){var o,b,k,e,tt,s,ot,it,rt,y,st,ut,ht,ct,h=this,p=h.data,c=h.elem,a=h.cvt,w="attr",ft=c.parentNode,et=ft,v=t(c),l=h.view,d=l.hlp(vt);if(ft&&(!d||!(r&&d.call(h,n,r)===!1))&&(!r||n.data.prop==="*"||n.data.prop===r.path)){if(y=l.linkCtx,l.linkCtx=h,r&&(h.eventArgs=r),!n||r||h._initVal){if(delete h._initVal,e=f.call(l.tmpl,p,l,u),o=h.attr||dt(c,!0,a!==i),s=h.tag){if(r&&s.onUpdate&&s.onUpdate(n,r,e)===!1||o==="none"){gt(h,p,c,f),l.linkCtx=y;return}e=s.tagName.slice(-1)===":"?u._cnvt(s.tagName.slice(0,-1),l,e):u._tag(s.tagName,l,l.tmpl,e)}else f._ctxs&&(a=a===""?"true":a,e=a?u._cnvt(a,l,e):u._tag(f._ctxs,l,l.tmpl,e),s=l._.tag,o=h.attr||o);if(s&&(s.parentElem=h.expr||s._elCnt?c:c.parentNode,it=s._prv,rt=s._nxt,s.refresh=hr),nt(e)&&g(h.expr+": missing parens"),o==="visible"&&(o="css-display",e=e?eu(c):"none"),tt=o.lastIndexOf("css-",0)===0&&o.substr(4))(k=t.style(c,tt)!==e)&&t.style(c,tt,e);else if(o!=="link"){if(o==="value")c.type==="checkbox"&&(e=e&&e!=="false",w="prop",o="checked");else if(o==="radio")if(c.value===""+e)e=!0,w="prop",o="checked";else{gt(h,p,c,f),l.linkCtx=y;return}else(o==="selected"||o==="disabled"||o==="multiple"||o==="readlonly")&&(e=e&&e!=="false"?o:null);if(b=yi[o],b){if(k=s||v[b]()!==e)if(o==="html")if(s){if(ut=s._.inline,s.refresh(e),!ut&&s._.inline){l.linkCtx=y;return}}else v.empty(),et=c,l.link(p,et,it,rt,e,s&&{tag:s._tgId});else o!=="text"||c.children[0]?v[b](e):c.textContent!==i?c.textContent=e:c.innerText=e===null?"":e}else(k=v[w](o)!=e)&&(e==null?v[w==="attr"?"removeAttr":"removeProp"](o):v[w](o,e))}r&&k&&(d=l.hlp(yt))&&d.call(h,n,r)}gt(h,p,c,f),l.linkCtx=y}}function nr(n,t){var i=this,r=i.hlp(vt),u=i.hlp(yt);if(!r||r.call(n,t)!==!1){if(t){var o=t.change,f=t.index,e=t.items;switch(o){case"insert":i.addViews(f,e);break;case"remove":i.removeViews(f,e.length);break;case"move":i.refresh();break;case"refresh":i.refresh()}}u&&u.call(this,n,t)}}function eu(t){var i,u,e=n.getComputedStyle,r=(t.currentStyle||e.call(n,t,"")).display;return r!=="none"||(r=bi[u=t.nodeName])||(i=f.createElement(u),f.body.appendChild(i),r=(e?e.call(n,i,""):i.currentStyle).display,bi[u]=r,f.body.removeChild(i)),r}function kt(n){var f,e,u=n.data,r=n._.bnd;if(!n._.useKey&&r)if((e=n._.bndArr)&&(t.observable.off([e[1]],at,i,e[0]),n._.bndArr=i),r===!!r||r.linkCtx){if(u){f=function(t){t.data&&t.data.off||nr.apply(n,arguments)};t.observable.on([u],at,null,null,f);n._.bndArr=[f,u]}}else u?r._.arrVws[n._.id]=n:delete r._.arrVws[n._.id]}function dt(n,t,i){var u=n.nodeName.toLowerCase(),r=e.merge[u];return r?t?u==="input"&&n.type==="radio"?"radio":r.to.toAttr:r.from.fromAttr:t?i?"text":"html":""}function tr(n,r,u,f,e,o,s){var p,c,v,k,w,b,l=n.parentElem,h=n._prv,a=n._nxt,y=n._elCnt;if(h&&h.parentNode!==l&&g("Missing parentNode"),s){w=n.nodes(),y&&h&&h!==a&&ui(h,a,l,n._.id,"_",!0),n.removeViews(i,i,!0),c=a,y&&(h=h?h.previousSibling:a?a.previousSibling:l.lastChild),t(w).remove();for(b in n._.bnds)st(b)}else{if(r){if(v=f[r-1],!v)return!1;h=v._nxt}y?(c=h,h=c?c.previousSibling:l.lastChild):c=h.nextSibling}p=u.render(e,o,n,s||r,n._.useKey&&s,!0),n.link(e,l,h,c,p,v)}function ut(n,t,r){var u,f,e;return r?(e="^`",f=t._.tag||{_:{inline:!0,bnd:r},tagCtx:{view:t},flow:!0},u=f._tgId,f.refresh=hr,u||(h[u=ki++]=f,f._tgId=""+u)):(e="_`",l[u=t._.id]=t),"#"+u+e+(n===i?"":n)+"/"+u+e}function gt(n,r,u){var a,s,c,o,l,y,e=[],v=n._bndId||""+ki++,p=n._hdlr;if(delete n._bndId,(a=n.tag)&&(e=a.depends||e,e=nt(e)?a.depends(a):e,c=a.onChange),c=c||n._cvtBk,(!n._depends||""+n._depends!=""+e)&&(n._depends&&hi(r,n._depends,p,!0),s=hi(t.isArray(r)?[r]:r,o=n.fn.paths||n.fn,e,p,n._ctxCb),s.elem=u,s.linkCtx=n,s._tgId=v,u._jsvBnd=u._jsvBnd||"",u._jsvBnd+="&"+v,n._depends=e,n.view._.bnds[v]=v,h[v]=s,c!==i)){for(y=o.length;""+(l=o[--y])!==l;);l=o[y]=l.split("^").join("."),s.to=l.charAt(0)==="."?[[o[y-1],l.slice(1)],c]:[n._ctxCb(o[0])||[r,o[0]],c]}}function ir(n,t,i,r,u,f){return ni(this,n,t,i,r,u,f)}function ni(n,r,u,e,o,s,h,a){if(n&&r){if(r=r.jquery?r:t(r),!y){y=f.body;t(y).on(li,gi)}for(var b,g,nt,d,w,k,v,tt=ut,rt=e&&e.target==="replace",it=r.length;it--;)if(v=r[it],typeof n=="string")ft(n,v,p(v),u,e);else{if(o=o||p(v),n.markup!==i)o.link===!1&&(e=e||{},e.link=tt=!1),rt&&(k=v.parentNode),nt=n.render(u,e,o,i,i,tt),k?(s=v.previousSibling,h=v.nextSibling,t.cleanData([v],!0),k.removeChild(v),v=k):(s=h=i,t(v).empty());else if(n!==!0)break;if(v._dfr&&!h){for(d=c(v._dfr,!0,di),b=0,g=d.length;b<g;b++)w=d[b],(w=l[w.id])&&w.data!==i&&w.parent.removeViews(w._.key,i,!0);v._dfr=""}o.link(u,v,s,h,nt,a)}}return r}function ou(n,u,a,y,w,b){function su(n,t,i,r,u,f,e,s,h,c,l,a){var v="";return k=s||h||"",r=r||i||c||a,r&&(si&&(i||a)&&!dr[vt]&&wr("'<"+vt+"... />' in:\n"+w),ki=ot,vt=yr.shift(),ot=bt[vt],ki&&(at+=yt,yt="",ot?at+="-":(v=(c||"")+vi+"@"+at+ai+(l||""),at=eu.shift()))),ot?(f?yt+=f:t=c||a||"",k&&(t+=k,yt&&(t+=" "+o+'="'+yt+'"',yt=""))):t=f?t+v+u+vi+f+ai+e+k:v||n,k&&(yr.unshift(vt),vt=k.slice(1),yr[0]===kr[vt]&&g('"'+vt+'" has incorrect parent tag'),(ot=bt[vt])&&!ki&&(eu.unshift(at),at=""),ki=ot,at&&ot&&(at+="+")),t}function oi(n,t){var o,a,r,e,f,v,s,c=[];if(n){for(gt=n.length,n.tokens.charAt(0)==="@"&&(t=nt.previousSibling,nt.parentNode.removeChild(nt),nt=null),gt=n.length;gt--;){if(ht=n[gt],r=ht.ch,o=ht.path)for(st=o.length-1;a=o.charAt(st--);)a==="+"?o.charAt(st)==="-"?(st--,t=t.previousSibling):t=t.parentNode:t=t.lastChild;r==="^"?(k=h[f=ht.id])&&(s=t&&(!nt||nt.parentNode!==t),(!nt||s)&&(k.parentElem=t),ht.elCnt&&s&&(ht.open?t&&(t._dfr="#"+f+r+(t._dfr||"")):t._dfr="/"+f+r+(t._dfr||"")),c.push([s?null:nt,ht])):(tt=l[f=ht.id])&&(tt.link||(tt.parentElem=t||nt&&nt.parentNode||u,d(tt,ct),tt._.onRender=ut,tt._.onArrayChange=nr,kt(tt)),e=tt.parentElem,ht.open?(tt._elCnt=ht.elCnt,t?t._dfr="#"+f+r+(t._dfr||""):(tt._prv||(e._dfr=et(e._dfr,"#"+f+r)),tt._prv=nt)):(t&&(!nt||nt.parentNode!==t)?(t._dfr="/"+f+r+(t._dfr||""),tt._nxt=i):nt&&(tt._nxt||(e._dfr=et(e._dfr,"/"+f+r)),tt._nxt=nt),pr=tt.linkCtx,(v=lu||tt.ctx&&tt.ctx.onAfterCreate)&&v.call(pr,tt)))}for(gt=c.length;gt--;)gi.push(c[gt])}return!n||n.elCnt}function hu(n){var t,i;if(gt=n&&n.length)for(st=0;st<gt;st++)if(ht=n[st],pt.id)pt.id=pt.id!==ht.id&&pt.id;else if(i=k=h[ht.id].linkCtx.tag,!k.flow){if(!cr){for(t=1;i=i.parent;)t++;yi=yi||t}(cr||t===yi)&&(!lr||k.tagName===lr)&&hr.push(k)}}function tr(){if(dt){if(dt.state()==="resolved")return;var f=rt.shift()}for(ir=wt?u.querySelectorAll(it):t(it,u).get(),ii=ir.length,a&&(hi=wt?a.querySelectorAll(it):t(it,a).get(),a=hi.length?hi[hi.length-1]:a),yi=0,ni=0;ni<ii;ni++)if(nt=ir[ni],a&&!iu)iu=nt===a;else if(y&&nt===y)break;else nt.parentNode&&ou(c(nt,i,hr&&ru))&&nt.getAttribute(v)&&gi.push([nt]);if(ur(a,ot),ur(y,ot),pt){dt&&dt.resolve();return}for(ot&&at+yt&&(nt=y,at&&(y?oi(c(at+"+",!0),y):oi(c(at,!0),u)),oi(c(yt,!0),u),y&&(lt=y.getAttribute(o),(ii=lt.indexOf(di)+1)&&(lt=lt.slice(ii+di.length-1)),y.setAttribute(o,yt+lt))),ii=gi.length,ni=0;ni<ii;ni++)nt=gi[ni],ti=nt[1],nt=nt[0],ti?(k=h[ti.id],k=k.linkCtx?k.linkCtx.tag:k,ti.open?(nt&&(k.parentElem=nt.parentNode,k._prv=nt),k._elCnt=ti.elCnt,!k||k.onBeforeLink&&k.onBeforeLink()===!1||k._.bound||(k._.bound=!0,tt=k.tagCtx.view,ft(i,k._prv,tt,tt.data||n,ti.id)),k._.linking=!0):(k._nxt=nt,k._.linking&&(tt=k.tagCtx.view,k.contents=er,k.nodes=or,k.childTags=sr,delete k._.linking,k&&k.onAfterLink&&k.onAfterLink(),k._.bound||(k._.bound=!0,ft(i,k._prv,tt,tt.data||n,ti.id))))):(tt=p(nt),ft(nt.getAttribute(v),nt,tt,tt.data||n));dt&&(dt.resolve(),r.onAfterLazyLink.fire(rt.length))}var pr,k,ni,ii,st,gt,ir,nt,tt,au,ht,ti,hi,ci,rr,li,ri,hr,cr,lr,yi,pt,gr,pi,tu,fi,vt,ei,bi,lt,ot,ki,ui,yt,di,iu,dt,uu,cu=e.noDomLevel0,ar=this,fu=ar._.id+"_",at="",gi=[],yr=[],eu=[],lu=ar.hlp(vr),ou=oi;if(b&&(dt=b.lazyLink&&t.Deferred(),b.tmpl?rr="/"+b._.id+"_":(pt=b.get,b.tag&&(fu=b.tag+"^",b=!0)),b=b===!0),pt&&(ou=hu,hr=pt.tags,cr=pt.deep,lr=pt.name),u=u?typeof u=="string"?t(u)[0]:u.jquery?u[0]:u:ar.parentElem||f.body,vt=u.tagName.toLowerCase(),ot=!!bt[vt],a=a&&fr(a,ot),y=y&&fr(y,ot)||null,w!==i){if(bi=f.createElement("div"),ei=bi,di=yt="",ui=u.namespaceURI==="http://www.w3.org/2000/svg"?"svg":(fi=br.exec(w))&&fi[1]||"",cu&&fi&&fi[2]&&g("Unsupported: "+fi[2]),ot){for(ri=y;ri&&!(li=c(ri));)ri=ri.nextSibling;(lt=li?li.tokens:u._dfr)&&(ci=rr||"",(b||!rr)&&(ci+="#"+fu),st=lt.indexOf(ci),st+1&&(st+=ci.length,di=yt=lt.slice(0,st),lt=lt.slice(st),li?ri.setAttribute(o,lt):u._dfr=lt))}for(w=(""+w).replace(nu,su),wi.appendChild(bi),ui=s[ui]||s.div,gr=ui[0],ei.innerHTML=ui[1]+w+ui[2];gr--;)ei=ei.lastChild;for(wi.removeChild(bi),pi=f.createDocumentFragment();tu=ei.firstChild;)pi.appendChild(tu);r.onBeforeInsert.fire(pi),u.insertBefore(pi,y)}return dt?(uu=setTimeout(tr,0),rt.push({id:uu,fn:tr}),r.onBeforeLazyLink.fire()):tr(),dt&&dt.promise()}function ft(n,t,u,f,e){var y,l,p,s,w,d,a,v,c,o,g;if(e)o=h[e],o=o.linkCtx?o.linkCtx.tag:o,c=o.linkCtx||{data:f,elem:o._elCnt?o.parentElem:t,view:u,attr:"html",fn:o._.bnd,tag:o,_bndId:e},rr(c,c.fn);else if(n&&t)for(y=u.tmpl,n=hu(n,t),b.lastIndex=0;l=b.exec(n);)g=b.lastIndex,p=e?"html":l[1],a=l[3],w=l[10],s=i,c={data:f,elem:o&&o._elCnt?o.parentElem:t,view:u,attr:p,_initVal:!l[2]},l[6]&&(!p&&(s=/:([\w$]*)$/.exec(w))&&(s=s[1],s!==i&&(d=-s.length-1,a=a.slice(0,d-1)+k,w=w.slice(0,d))),s===null&&(s=i),c.cvt=l[5]||""),c.expr=p+a,v=y.links[a],v||(y.links[a]=v=r.tmplFn(fi+a+ei,y,!0,s),r.parse(w,v.paths=[],y)),c.fn=v,p||s===i||(c._cvtBk=s),rr(c,v),b.lastIndex=g}function rr(n,t){function i(i,r){fu.call(n,i,r,t)}n._ctxCb=cu(n.view),n._hdlr=i,n.tag&&n.tag.onArrayChange&&(i.array=function(t,i){n.tag.onArrayChange(t,i)}),i(!0)}function et(n,t){var i;return n?(i=n.indexOf(t),i+1?n.slice(0,i)+n.slice(i+t.length):n):""}function ti(n){return n&&(typeof n=="string"?n:n.tagName==="SCRIPT"?n.type.slice(3):n.nodeType===1&&n.getAttribute(o)||"")}function su(n,t,i,r,u,f){w.push({elCnt:ii,id:r,ch:u,open:t,close:i,path:f,token:n})}function c(n,t,r){var u;return ii=i,w=[],(u=t?n:ti(n))?(w.elCnt=!n.type,ii=u.charAt(0)==="@"||w.elCnt,w.tokens=u,u.replace(r||uu,su),w):void 0}function ur(n,t){n&&(n.type==="jsv"?n.parentNode.removeChild(n):t&&n.getAttribute(v)===""&&n.removeAttribute(v))}function fr(n,t){for(var i=n;t&&i&&i.nodeType!==1;)i=i.previousSibling;return i&&(i.nodeType!==1?(i=f.createElement("SCRIPT"),i.type="jsv",n.parentNode.insertBefore(i,n)):ti(i)||i.getAttribute(v)||i.setAttribute(v,"")),i}function hu(n,i){return n=t.trim(n),n.slice(-1)!==k?n=lt+":"+n+(dt(i)?":":"")+k:n}function er(n,i){var u,r=t(this.nodes());return r[0]&&(u=n?r.filter(n):r,r=i&&n?u.add(r.find(n)):u),r}function or(n,t,i){var r,u=this,f=u._elCnt,o=!t&&f,e=[];for(t=t||u._prv,i=i||u._nxt,r=o?t===u._nxt?u.parentElem.lastSibling:t:u._.inline===!1?t||u.linkCtx.elem.firstChild:t&&t.nextSibling;r&&(!i||r!==i);)(n||f||!ti(r))&&e.push(r),r=r.nextSibling;return e}function sr(n,t){n!==!!n&&(t=n,n=i);var r=this,o=r.link?r:r.tagCtx.view,u=r._prv,f=r._elCnt,e=[];return u&&o.link(i,r.parentElem,f?u.previousSibling:u,r._nxt,i,{get:{tags:e,deep:n,name:t,id:f&&r._tgId}}),e}function hr(n){var c,l,s,r=this,h=r.parentElem,f=r.tagCtx.view,e=r._prv,o=r._nxt,y=r._elCnt,a=r._.inline,v=r.tagCtx.props;return r.disposed&&g("Removed tag"),n===i&&(n=r._.bnd.call(f.tmpl,f.data,f,u),a&&(n=u._tag(r,f,f.tmpl,n))),(r.flow||r.render||r.template)&&(a?(l=r.nodes(!0),y&&(e&&e!==o&&ui(e,o,h,r._tgId,"^",!0),e=e?e.previousSibling:o?o.previousSibling:h.lastChild),t(l).remove()):(!r.flow&&v.inline&&(f._.tag=r,n=ut(n,f,!0),f._.tag=i,c=r._.inline=!0),t(h).empty())),!c&&r.onBeforeLink&&r.onBeforeLink(),s=f.link(f.data,h,e,o,n,r&&{tag:r._tgId,lazyLink:v.lazyLink}),!c&&r.onAfterLink&&(s?s.then(function(){r.onAfterLink()}):r.onAfterLink()),s||r}function cr(){for(var n;n=rt[0];)clearTimeout(n.id),n.fn()}function ot(n){var e,s,a,t,h,r,u,w,v=[],y=n.length,f=y,p;for(cr();f--;)v.push(n[f]);for(f=y;f--;)if(t=v[f],t.parentNode){if(u=t._jsvBnd)for(u=u.slice(1).split("&"),t._jsvBnd="",s=u.length;s--;)st(u[s],!0);if(p=t&&(typeof t=="string"?t:t.tagName==="SCRIPT"?t.type.slice(3):t.nodeType===1&&t.getAttribute(o)||""),h=c(p+(t._dfr||""),!0,tu))for(e=0,a=h.length;e<a;e++)r=h[e],r.ch==="_"?(r=l[r.id])&&r.data!==i&&r.parent.removeViews(r._.key,i,!0):st(r.id,!0)}}function st(n,i){var s,c,u,e,o,f=h[n];if(f){for(s in f.bnd)e=f.bnd[s],o=".obs"+f.cbId,t.isArray(e)?(t.observable.off([e],at,o),t.observable.off([e],ci,o)):t.observable.off(e,ci,o),delete f.bnd[s];c=f.linkCtx,(u=c.tag)&&(u.onDispose&&u.onDispose(),i||u._elCnt||(u._prv.parentNode.removeChild(u._prv),u._nxt.parentNode.removeChild(u._nxt)),u.disposed=!0),delete c.view._.bnds[n],delete h[n],delete r._cbBnds[f.cbId]}}function ri(n,r){return arguments.length?r&&(r=r.jquery?r:t(r),n===!0?t.each(r,function(){for(var n;(n=p(this,!0))&&n.parent;)n.parent.removeViews(n._.key,i,!0);ot(this.getElementsByTagName("*"))}):n===i&&ot(r)):(y&&(t(y).off(li,gi),y=i),n=!0,a.removeViews(),ot(f.body.getElementsByTagName("*"))),r}function lr(n,t){return ri(this,n,t)}function cu(n){return n=n||t.view(),function(t,i){var f,r,e=[i];if(n&&t){if(t._jsvOb)return t._jsvOb.call(n.tmpl,i,n,u);if(t.charAt(0)==="~")return t.slice(0,4)==="~tag"&&(r=n.ctx,t.charAt(4)==="."&&(f=t.slice(5).split("."),r=r.tag),f)?r?[r,f.join("."),i]:[]:(t=t.slice(1).split("."),(i=n.hlp(t.shift()))&&(t.length&&e.unshift(t.join(".")),e.unshift(i)),i?e:[]);if(t.charAt(0)==="#")return t==="#data"?[]:[n,t.replace(gr,""),i]}}}function lu(n){return n.type==="checkbox"?n.checked:n.value}function ui(n,t,i,r,u,f){var y,a,p,e,k,v,s,w=0,d=n===t,b;if(n){for(p=c(n)||[],y=0,a=p.length;y<a;y++){if(e=p[y],v=e.id,v===r&&e.ch===u)if(f)a=0;else break;d||(b=e.ch==="_"?l[v]:h[v],b&&(k=e.ch==="_"?b:b.linkCtx.tag,e.open?k._prv=t:e.close&&(k._nxt=t))),w+=v.length+2}w&&n.setAttribute(o,n.getAttribute(o).slice(w)),s=t?t.getAttribute(o):i._dfr,(a=s.indexOf("/"+r+u)+1)&&(s=p.tokens.slice(0,w)+s.slice(a+(f?-1:r.length+1))),s&&(t?t.setAttribute(o,s):i._dfr=s)}else i._dfr=et(i._dfr,"#"+r+u),f||t||(i._dfr=et(i._dfr,"/"+r+u))}var ht=t,ii,w;if(!t)throw"requires jQuery";if(!t.views)throw"requires JsRender";if(!t.observable)throw"requires jquery.observable";if(!t.link){var au="v1.0pre",ct,y,p,b,fi,lt,k,ei,oi,si,f=n.document,u=t.views,r=u.sub,e=u.settings,d=r.extend,a=r.View(i,"top"),nt=function(n){return typeof n=="function"},ar=u.templates,tt=t.observable,hi=tt.observe,o="data-jsv",v=e.linkAttr||"data-link",vu=t.event.special,ci=e.propChng=e.propChng||"propertyChange",at=r.arrChng=r.arrChng||"arrayChange",yu=r._cbBnds=r._cbBnds||{},li="change.jsv",vt="onBeforeChange",yt="onAfterChange",vr="onAfterCreate",ai='"><\/script>',vi='<script type="jsv',pt="script,["+o+"]",it=pt+",["+v+"]",yi={value:"val",input:"val",html:"html",text:"text"},pi={from:{fromAttr:"value"},to:{toAttr:"value"}},yr=t.cleanData,pr=e.delimiters,g=r.error,wr=r.syntaxError,br=/<(?!script)(\w+)(?:[^>]*(on\w+)\s*=)?[^>]*>/,wi=f.createDocumentFragment(),wt=f.querySelector,bt={ol:1,ul:1,table:1,tbody:1,thead:1,tfoot:1,tr:1,colgroup:1,dl:1,select:1,optgroup:1},kr={tr:"table"},s=e.wrapMap={option:[1,"<select multiple='multiple'>","<\/select>"],legend:[1,"<fieldset>","<\/fieldset>"],thead:[1,"<table>","<\/table>"],tr:[2,"<table><tbody>","<\/tbody><\/table>"],td:[3,"<table><tbody><tr>","<\/tr><\/tbody><\/table>"],col:[2,"<table><tbody><\/tbody><colgroup>","<\/colgroup><\/table>"],area:[1,"<map>","<\/map>"],svg:[1,"<svg>","<\/svg>"],div:[1,"x<div>","<\/div>"]},dr={br:1,img:1,input:1,hr:1,area:1,base:1,col:1,link:1,meta:1,command:1,embed:1,keygen:1,param:1,source:1,track:1,wbr:1},bi={},l={0:a},h={},rt=[],ki=1,gr=/^#(view\.?)?/,nu=/(^|(\/>)|(<\/\w+>)|>|)(\s*)([#\/]\d+[_^])`(\s*)(<\w+(?=[\s\/>]))?|\s*(?:(<\w+(?=[\s\/>]))|(<\/\w+>)(\s*)|(\/>)\s*)/g,di=/(#)()(\d+)(_)/g,tu=/(#)()(\d+)([_^])/g,iu=/(?:(#)|(\/))(\d+)(_)/g,ru=/(#)()(\d+)(\^)/g,uu=/(?:(#)|(\/))(\d+)([_^])([-+@\d]+)?/g;s.optgroup=s.option,s.tbody=s.tfoot=s.colgroup=s.caption=s.thead,s.th=s.td,r.onBeforeInsert=ht.simpleCallbacks(),r.onBeforeLazyLink=ht.simpleCallbacks(),r.onAfterLazyLink=ht.simpleCallbacks(),t.observable.onObservableTrigger.add(cr),r.onStoreItem=function(n,i,r){r&&n===ar&&(r.link=ir,r.unlink=lr,i&&(t.link[i]=function(){return ir.apply(r,arguments)},t.unlink[i]=function(){return lr.apply(r,arguments)}))},(e.delimiters=function(){var n=pr.apply(u,arguments);return fi=n[0],lt=n[1],k=n[2],ei=n[3],oi=n[4],b=new RegExp("(?:^|\\s*)([\\w-]*)(\\"+oi+")?(\\"+lt+r.rTag+"\\"+k+")","g"),this})(),r.viewInfos=c,ct={addViews:function(n,t,i){var u,o,r=this,f=t.length,e=r.views;if(!r._.useKey&&f&&(i=r.tmpl)&&(o=e.length+f,tr(r,n,i,e,t,r.ctx)!==!1))for(u=n+f;u<o;u++)tt(e[u]).setProperty("index",u);return r},removeViews:function(n,r,u){function o(n){var h,c,e,o,s,a,r=f[n];if(r&&r.link){h=r._.id,u||(a=r.nodes()),r.removeViews(i,i,!0),r.data=i,o=r._prv,s=r._nxt,e=r.parentElem,u||(r._elCnt&&ui(o,s,e,h,"_"),t(a).remove(),r._elCnt||(o.parentNode&&e.removeChild(o),s.parentNode&&e.removeChild(s))),kt(r);for(c in r._.bnds)st(c,u);delete l[h]}}var e,a,s,h=this,c=!h._.useKey,f=h.views;if(c&&(s=f.length),n===i)if(c){for(e=s;e--;)o(e);h.views=[]}else{for(a in f)o(a);h.views={}}else if(r===i&&(c?r=1:(o(n),delete f[n])),c&&r){for(e=n+r;e-->n;)o(e);if(f.splice(n,r),s=f.length)while(n<s)tt(f[n]).setProperty("index",n++)}return this},refresh:function(n){var t=this,i=t.parent;return i&&(tr(t,t.index,t.tmpl,i.views,t.data,n,!0),kt(t)),t},nodes:or,contents:er,childTags:sr,link:ou},e.merge={input:{from:{fromAttr:lu},to:{toAttr:"value"}},textarea:pi,select:pi,optgroup:{from:{fromAttr:"label"},to:{toAttr:"label"}}},e.debugMode&&(si=!e.noValidate,n._jsv={views:l,bindings:h}),d(t,{view:u.view=p=function(n,r,u){r!==!!r&&(u=r,r=i);var e,o,h,v,w,s,b,y,p=0,k=f.body;if(n&&n!==k&&a._.useKey>1&&(n=typeof n=="string"?t(n)[0]:n.jquery?n[0]:n,n))if(r){for(y=wt?n.querySelectorAll(pt):t(pt,n).get(),s=y.length,h=0;h<s;h++)for(b=y[h],o=c(b,i,di),v=0,w=o.length;v<w;v++)if(e=o[v],(e=l[e.id])&&(e=e&&u?e.get(!0,u):e,e))return e}else while(n){if(o=c(n,i,iu))for(s=o.length;s--;)if(e=o[s],e.open){if(p<1)return e=l[e.id],e&&u?e.get(u):e||a;p--}else p++;n=n.previousSibling||n.parentNode}return r?i:a},link:u.link=ni,unlink:u.unlink=ri,cleanData:function(n){n.length&&(ot(n),yr.call(t,n))}}),d(t.fn,{link:function(n,t,i,r,u,f,e){return ni(n,this,t,i,r,u,f,e)},unlink:function(n){return ri(n,this)},view:function(n){return p(this[0],n)}}),d(a,{tmpl:{links:{},tags:{}}}),d(a,ct),a._.onRender=ut}}(this,window.originaljQuery||window.jQuery),function(n){"use strict";var i=wLive.Controls.Notifications=wLive.Controls.Notifications||{},t=new function(){var t=this,i={},r=[];t.showDelay=600,t.start=function(){var t,i,n;if(r)for(t=r,i=t.length,r=null,n=0;n<i;n++)t[n]()},t.addNotification=function(n,u,f){if(r)r.push(function(){t.addNotification(n,u,f),t.showNextNotification(f.queueGroup)});else{var s=f.queueGroup||"default",c=f.queueMode||"fifo",l=f.queueTrumpLowPriOnScreen||{},h=!!f.queueIsPriorityHigh,o=i[s]=i[s]||{current:null,items:[]},e=o.items.length;if(e!==0&&h)for(e=0;e<o.items.length&&o.items[e].queueIsPriorityHigh;e++);o.items.splice(e,0,{mode:c,notification:n,queueTrumpLowPriOnScreen:l,queueIsPriorityHigh:h,callback:u})}},t.showNextNotification=function(n){var r=i[n],t,u,f=function(n){for(var f=n.length,i={mode:null,item:null},r,u,t=0;t<f;t++)if(r=n[t],u=i.mode=r.mode,i.item=r,u==="fifo")break;return i.item};r&&r.items.length>0&&(t=r.current,u=r.items,t&&t.mode==="filo"&&u.length>1&&t.queueTrumpLowPriOnScreen&&(t.notification.hide(),t=null),t||(t=r.current=f(u),t.callback()))},t.removeNotification=function(r){n.each(i,function(n,i){for(var f=i.items,e=!1,u=f.length-1;u>=0;u--)if(f[u].notification===r){f[u]===i.current&&(i.current=null),f.splice(u,1),e=!0;break}e&&setTimeout(function(){t.showNextNotification(n)},t.showDelay)})},t.reset=function(){n.each(i,function(n,t){for(var r=t.items,u,i=r.length-1;i>=0;i--)u=r[i],u===t.current?u.notification.dismiss():r.splice(i,1)})},t.registerSearchApi=function(r,u){t[r]=function(t){var h=[],r,c,o,s,l,f,e;for(t=t||function(){return!0},r=u&&u.length!==0?n.map(u,function(n){return i[n]}):i,c=r.length,f=0;f<c;f++)for(s=r[f].items,l=s.length,e=0;e<l;e++)o=s[e].notification,t(o)&&h.push(o);return h}}};i.getQueue=function(){return t},i.dispose=function(){t&&(t.reset(),t=null)}}(window.originaljQuery||jQuery),function(){"use strict";var t=wLive.Controls.Notifications,i=t.AutomationOptions=new function(){var i=this,n,t;i.setModeAndLabels=function(i,r){n=i,t=r},i.getLabelAttribute=function(){return n},i.getLabelValue=function(i){var r;return n&&n!==""&&t&&(r=t[i]),r},i.getLabel=function(i,r){var f="",u,e=function(n){return(r?r[n]:null)||t[n]};return n&&n!==""&&t&&(u=e(i))&&u!==""&&(f=" "+n+'="'+u+'" '),f}}}(window.originaljQuery||jQuery),function(n){"use strict";var c=27,v=13,y=9,p=wLive.Animations,r=wLive.Controls.Notifications,w=n(r),i=r.InternalTools=r.InternalTools||{},f=r.AutomationOptions,l=n(window),t=n("BODY"),u=t[0],b={fadein:"fadeIn",fadeout:"fadeOut",slidein:"showEdgeUI",slideout:"hideEdgeUI",slidefadein:"enterContent",slidefadeout:"exitContent"},e=i.Toolkit={isEmptyString:function(n){return typeof n=="undefined"||n==null||n==""},checkEmptyArgument:function(n,t){if(e.isEmptyString(n))throw new Error(t);},getExtraDimensions:function(n){var i={},r=/\d+/,t=function(n){return parseInt(n)||0};return i.left=t(n.css("marginLeft"))+t(n.css("borderLeftWidth"))+t(n.css("paddingLeft")),i.right=t(n.css("marginRight"))+t(n.css("borderRightWidth"))+t(n.css("paddingRight")),i.width=i.left+i.right,i.top=t(n.css("marginTop"))+t(n.css("borderTopWidth"))+t(n.css("paddingTop")),i.bottom=t(n.css("marginBottom"))+t(n.css("borderBottomWidth"))+t(n.css("paddingBottom")),i.height=i.top+i.bottom,i},sanitizeOptions:function(t,i){var u=null,r;return t&&(r={},n.each(t,function(t,u){n.inArray(t,i)>=0&&(r[t]=u)}),u=r),u},registerChangeUserOptionsApi:function(t,i,u){var f=function(t){n.extend(i,e.sanitizeOptions(t,u))};r["set"+t+"DefaultOptions"]=f},isLtr:function(){return n("BODY").css("direction")==="ltr"}},o=i.ButtonHelper=function(t,i){var f=this,r=[],e=n.extend({action:!1,close:!1,alternate:!1},i&&i.excludes?i.excludes:{}),u=i&&i.renderOrder?i.renderOrder.split(","):o.buttonNames;(function(){var i,n,f,s,o;if(t)for(o=u.length,f=0;f<o;f++)i=u[f],n=t[i],!e[i]&&n&&typeof n=="string"&&n!==""&&r.push({name:i,title:n})})(),f.getNamesAndTitles=function(){return r}},h,a,s;o.buttonNames=["action","close","alternate"],o.automationKeys={},n.each(o.buttonNames,function(n,t){o.automationKeys[t]=t.charAt(0).toUpperCase()+t.substr(1)+"Button"}),i.DeferredManager=function(t,i){function e(){r=i?i():{}}var f=this,r=null,u=null;e(),f.getDeferred=function(){return u=u||n.Deferred()},f.updateState=function(t){t&&typeof t=="object"&&(r=n.extend({},r,t))},f.resolve=function(){u&&(u.resolveWith(t,[r]),u=null),e()}},h=i.TemplateHelper={basicContainer:'<div><div tabindex="-1" class="OuterContainer" {{if backgroundColor}}style="background-color: {{attr:backgroundColor}};"{{/if}}><div class="InnerContainer"><div class="Content {{attr:contentCssClassnames}}">{0}<\/div><\/div><\/div><\/div>',defaultPartialTemplate:'{{for #data tmpl="Notifications.UserAreaSubTemplate"/}}{{for #data tmpl="Notifications.ButtonSubTemplate"/}}',registerTemplate:function(t){var i=t.html||h.defaultPartialTemplate;i=h.basicContainer.format(i),n.templates(t.id,{markup:i})},render:function(t,r,u,o,s){var a=t.options.automationOptions,c=n.extend({contentCssClassnames:"",renderTitle:!0,showNotificationArea:!1,shouldRenderButtonArea:function(){return this.showNotificationArea&&o||this.buttons.length>0},prepareForAutomation:function(n){return f.getLabel(n,a)},buttons:n.map(s.getNamesAndTitles(),function(t){return n.extend({getButtonLabel:function(){return f.getLabel(i.ButtonHelper.automationKeys[this.name],a)}},t)})},t.options),l,v,y,h;return e.isEmptyString(r)&&c.renderTitle&&(c.renderTitle=!1),l=n.views,v=l.activeViews,l.activeViews=!1,y=n.templates[t.id].render(c),l.activeViews=v,h=n(y),h.find(".UserTitle").append(r),h.find(".UserContent").append(u),c.showNotificationArea&&!e.isEmptyString(o)&&h.find(".NotificationArea").append(o),h}},n.templates("Notifications.ButtonSubTemplate",{markup:'{{if shouldRenderButtonArea()}}<div class="ButtonArea">{{if showNotificationArea}}<div class="NotificationArea" {{:prepareForAutomation("NotificationArea")}}><\/div>{{/if}}{{for buttons}}<button name="{{attr:name}}" type="button" {{if name=="action"}}class="default c_nobdr"{{/if}} {{:getButtonLabel()}}>{{>title}}<\/button>{{/for}}<\/div>{{/if}}'}),n.templates("Notifications.UserAreaSubTemplate",{markup:'<div class="UserArea"><div class="Clipper">{{if renderTitle}}<div class="UserTitle{{if titleCssClassnames}} {{attr:titleCssClassnames}}{{/if}}" {{:prepareForAutomation("Title")}}><\/div>{{/if}}<div class="UserContent" {{:prepareForAutomation("Contents")}}><\/div><\/div><\/div>'}),a=i.TimerHelper=function(n,t,i){var e=this,r,f,u,o=function(){r=null,t()},h=function(){u||(u=new Date,clearTimeout(r),r=null)},c=function(){if(u&&f){var t=n-(u-f);u=null,f=new Date,r=setTimeout(o,t)}},s={mouseenter:h,mouseleave:c};e.start=function(){n&&(n=parseInt(n))>0&&i&&i.length>0&&(i.bind(s),f=new Date,r=setTimeout(o,n))},e.stop=function(){r&&(i.unbind(s),clearTimeout(r),r=null)}},s=i.NotificationBase=function(o){function nr(){var t=n.extend({},k.ariaOptions);k.tabIndex===null||isNaN(k.tabIndex)||(t.tabindex=k.tabIndex),d.attr(t)}function ei(n){var t=n?"show":"hide";d&&(d[t](),d.attr("aria-hidden",!n),ft!=null&&ft[t]())}function st(n,t,i){return i=i||[tt],w.triggerHandler(n+o.name+t,i)}function ot(n,t){return t=t||[tt],gi.triggerHandler(n,t)}function vt(n,t,i){var r=n?n[t]:null;r&&typeof r=="function"&&r.apply({},i||[])}function tr(){var t=f.getLabelValue(k.automationKey);t&&n(it).attr(f.getLabelAttribute(),t)}function oi(){var n,t,i,r;d&&(n=f.getLabelAttribute(),n&&(t="automationtemp",i=d.attr(t),i&&i!==""?(d.attr(n,i),d.attr(t,"")):(r=d.attr(n),r&&r!==""&&(d.attr(t,r),d.attr(n,"")))))}function ir(){at.timeoutInMsecs&&(ht=new a(at.timeoutInMsecs,at.callback,at.getElements()),ht.start())}function rr(){ht&&(ht.stop(),ht=null)}function kt(){if(nt&&it&&!ut&&o.positioner){o.positioner(nt.dock,it,k.anchorElement,k,rt);var t=nt.dock,n=null;t.y!==null&&(n={top:t.y}),t.x!==null&&(n=n||{},n.left=t.x),n&&d.css(n)}}function si(t){var i=k.animation||{},s=i.type||"none",c=i.entranceType||s+"in",l=i.exitType||s+"out",f,r,e,o,h=[it],u;return ft&&ft.length>0&&h.push(ft[0]),t?(f=c,i.entranceArguments&&(r=n.isArray(i.entranceArguments)?n.extend(!0,[],i.entranceArguments):n.extend(!0,{},i.entranceArguments))):(f=l,i.exitArguments&&(r=n.isArray(i.exitArguments)?n.extend(!0,[],i.exitArguments):n.extend(!0,{},i.exitArguments))),e=b[f],e?(u=[h],typeof r!="undefined"&&u.push(r),u.push(!1),o=p[e].apply({},u)):o=n.Deferred().resolve(),o}function hi(){var n=$UI.Dialog.findFocusableElement(it,it,!0);n&&setTimeout(function(){try{n.focus()}catch(t){}},0)}function ci(n){bt||!n||ni(n,it)||hi(),bt=!1}function yt(n){var t=n.which,i;d==null||ut||(k.dismissOnEsc&&t===c||!dt&&k.dismissOnEnter&&t===v?(i=t===c?"close":"action",g.changeAnimation(!1,"none"),n.stopImmediatePropagation(),d.find(".ButtonArea button[name="+i+"]").length>0&&(ct.updateState({buttonClicked:i}),ot("buttonclick",[tt,i])),setTimeout(function(){tt.dismiss()},0)):t===y?(ci(n.srcElement),fi||(d.find("BUTTON.default.c_nobdr").removeClass("c_nobdr"),fi=!0)):bt=!0),dt=!0}function li(n){ci(n.srcElement)}function ur(){d&&((k.dismissOnEsc||k.dismissOnEnter)&&d.keydown(yt),k.isModal&&(t.keydown(yt),t.focusin(li)))}function fr(){d&&((k.dismissOnEsc||k.dismissOnEnter)&&d.unbind("keydown",yt),k.isModal&&(t.unbind("keydown",yt),t.unbind("focusin",li)))}function ai(t){var i=t&&t.srcElement&&t.srcElement.name||n(this).attr("name"),r;g.changeAnimation(!1,"none"),t.stopPropagation(),ct.updateState({buttonClicked:i}),r=n(tt).triggerHandler("buttonclick",[tt,i]),r!==!1&&rt.dismissOnButtonClick&&tt.dismiss()}function er(){d&&d.find(".ButtonArea button").bind("click.notification",ai)}function or(){d&&d.find(".ButtonArea button").unbind("click.notification",ai)}function vi(){l.bind({"resize.nbwindowchanged":gt,"scroll.nbwindowchanged":gt})}function yi(){l.unbind(".nbwindowchanged",gt)}function gt(){ut||(yi(),kt(),vi())}function pi(){return _ge("UI_Dialog_BG")||u}function sr(){if(k.dismissOnOutsideClick){var t=pi(),r=n(t),i=function(){t.addEventListener?t.addEventListener("click",pt,!0):(t.attachEvent("onclick",pt),!_ge("UI_Dialog_BG")&&u.setCapture&&(u._capturingClicks=!0,u.attachEvent("onlosecapture",wi),ti())),lt=null};k.delayOutsideClickDetectionByMsecs<=0?i():lt=setTimeout(i,k.delayOutsideClickDetectionByMsecs)}}function hr(){var t=pi(),i=n(t);k.dismissOnOutsideClick&&(lt!=null&&(clearTimeout(lt),lt=null),t.removeEventListener?t.removeEventListener("click",pt,!0):(t.detachEvent("onclick",pt),!_ge("UI_Dialog_BG")&&t.releaseCapture&&(t._capturingClicks=!1,t.detachEvent("onlosecapture",wi),t.releaseCapture())))}function ni(n,t){for(var i=!1;n;)n===t?(n=null,i=!0):n=n.parentElement;return i}function pt(n){ut||n._alreadyCaptured||(ni(n.srcElement||n.target,it)||tt.dismiss(),!u.addEventListener&&u.setCapture&&(n._alreadyCaptured=!0,n.srcElement.click(),u._capturingClicks&&ti()),n._alreadyCaptured&&(n._alreadyCaptured=!1))}function wi(){if(t){var n=t[0];n.attachEvent("onmousemove",bi),ri=!1}}function ti(){t&&(t[0].setCapture(!0),ri=!0)}function bi(){t&&(ti(),t[0].detachEvent("onmousemove",bi))}function ki(){hi()}function cr(){k.insideClickFocus&&d&&d.click(ki)}function lr(){k.insideClickFocus&&d&&d.unbind("click",ki)}function di(n){n.stopImmediatePropagation(),n.preventDefault(),k.dismissOnOutsideClick&&ii(n)}function ii(n){n&&n.srcElement&&!ni(n.srcElement,it)&&tt.dismiss()}function ar(){ft&&k.isModal&&ft.bind("contextmenu",di),t&&k.dismissOnOutsideClick&&t.bind("contextmenu",ii)}function vr(){ft&&k.isModal&&ft.unbind("contextmenu",di),t&&k.dismissOnOutsideClick&&t.unbind("contextmenu",ii)}var g=this,yr=n(g),wt=!1,ut=!1,nt=null,it=null,d=null,ft=null,ri=!1,tt=o.instance,gi=n(tt),rt=n.extend({},s.defaultUserOptions,o.userOptions),k=n.extend({},s.defaultControlOptions,o.controlOptions),et=o.render=o.render||{},at=o.timer=o.timer||{},ht=null,ct=new i.DeferredManager(tt),ui=new i.ButtonHelper(et.buttons,et.buttonOptions),lt=null,fi=!1,bt=!1,dt;et.template=et.template||{},et.template.options=et.template.options||{},et.template.options.automationOptions=e.sanitizeOptions(rt.automation,["ActionButton","CloseButton","AlternateButton","Title","Contents"]),g.changeAnimation=function(n,t,i){if(k.changeAnimationOnUserInteraction){var r=n?"entrance":"exit";k.animation[r+"Type"]=t,typeof i!="undefined"&&(k.animation[r+"Arguments"]=i)}},g.popoverElement=function(){return it},g.isCurrentlyShown=function(){return wt&&!ut},g.isHidden=function(){return ut},g.getButton=function(n){var t=null,i;if(!n||(i=n.buttonName+"")=="")throw new Error("buttonName was not supplied.");return d&&(t=d.find(".ButtonArea BUTTON[name="+i+"]")),t},g.getDeferredManager=function(){return ct},g.reposition=function(){nt&&(kt(),nt.recalc())},g.hide=function(){nt&&!ut&&(st("before","hide"),ot("beforehide"),ut=!0,nt.minimize(),oi(),st("after","hide"),ot("afterhide"))},g.dismiss=function(n){var t,i=function(){r.getQueue().removeNotification(tt),k.anchorElement=k.focusElement=null};if(nt){if(t=st("before","dismiss"),t===!1)return;if(t=ot("beforedismiss"),t===!1)return;vt(n,"beforeDismiss"),fr(),or(),lr(),hr(),yi(),vr(),rr(),si(!1).then(function(){if(nt){if(nt.hide(),t=st("after","dismissanimation"),t===!1)return;if(t=ot("afterdismissanimation"),t===!1)return;if(d.remove(),it=null,d=null,nt.dispose(),nt=null,ft=null,t=st("after","dismiss"),t===!1)return;if(t=ot("afterdismiss"),t===!1)return;ct.resolve(),i(),wt=!1;var n;rt.returnFocusTo&&(n=rt.returnFocusTo.focus)&&typeof n=="function"&&rt.returnFocusTo.focus()}})}else i()},g.show=function(t){var u=r.getQueue(),e=ct.getDeferred(),i,f=!1;return nt?ut&&nt.restore():(u.addNotification(tt,function(){var r,u;nt&&ut?(oi(),nt.restore(),ut=!1):nt||(i=st("before","render"),i!==!1&&(i=ot("beforerender"),i!==!1&&(r=h.render(et.template,et.title,et.content,et.notificationArea,ui),k.focusElement=rt.focusFirstButton&&ui.getNamesAndTitles().length>0?r.find(".ButtonArea BUTTON").first()[0]:rt.focusElement?rt.focusElement:r.find(".OuterContainer").get(0),vt(t,"afterRendering",[r]),k.anchorElement=k.anchorElement||window,rt.moreCss=rt.moreCss||"",nt=new $UI.Dialog(!!k.isModal,k.dialogZindex,!!o.positioner,"NotificationBase "+k.controlCss+" "+rt.moreCss,k.anchorElement,k.trapTab),r.appendTo(rt.notificationContainer||"#notificationContainer"),it=nt.setContents(r[0]),d=n(it),isNaN(k.tabIndex)||d.attr("tabindex",k.tabIndex),nr(),kt(),vt(t,"beforeShow"),i=st("before","show"),i!==!1&&(i=ot("beforeshow"),i!==!1&&(ur(),er(),ir(),tr(),u=n.Deferred(),nt.show(k.focusElement,!k.setFocus,u),!k.isModal||(ft=n("#UI_Dialog_BG")),ei(!1),si(!0).then(function(){f||(f=!0,u.resolve(),ei(!0),vt(t,"afterShow"),setTimeout(function(){nt&&(sr(),vi(),cr(),ar())},0),ot("aftershow"),i=st("after","show"),wt=!0)}))))))},k),u.showNextNotification(k.queueGroup)),e.promise()},tt.content=g.popoverElement,tt.isCurrentlyShown=g.isCurrentlyShown,tt.isHidden=g.isHidden,tt.getButton=g.getButton,tt.show=function(){return g.show()},tt.dismiss=function(){g.dismiss()},tt.hide=g.hide,tt.reposition=g.reposition,dt=!1},s.defaultControlOptions={anchorElement:null,ariaOptions:{role:"alert","aria-hidden":"false"},automationKey:null,changeAnimationOnUserInteraction:!0,controlCss:null,dismissOnEnter:!1,dismissOnEsc:!0,dismissOnOutsideClick:!1,delayOutsideClickDetectionByMsecs:0,focusElement:null,insideClickFocus:!1,isModal:!1,returnFocusTo:null,setFocus:!1,trapTab:!0,tabIndex:null,queueGroup:null,queueMode:"fifo",queueTrumpLowPriOnScreen:!1},s.defaultUserOptions={dismissOnButtonClick:!0,focusFirstButton:!1,moreCss:null}}(window.originaljQuery||jQuery),function(n){"use strict";var v=window.wLive,i=v.Controls.Notifications,p=n(i),w=i.AutomationOptions,o=i.InternalTools,t=o.Toolkit,c="Notifications.Bar",u,h;o.TemplateHelper.registerTemplate({id:c,html:'{{for #data tmpl="Notifications.UserAreaSubTemplate"/}}{{for #data tmpl="Notifications.ButtonSubTemplate"/}}<div class="Expand" {{:prepareForAutomation("ToggleExpansion")}}><\/div>'});var y="#c_header",s=860,l=120,a=function(i,r,u,f,e,o){var ot=n("HTML"),st=n("BODY"),it=n(r),p=it.find(".InnerContainer"),h=p.find(".Content"),ht=t.isLtr(),rt=Math.max(p.outerWidth(),s),a=h.find(".UserArea"),ct=t.getExtraDimensions(a),w=ct.width,ut=a.find(".Clipper"),y=a.find(".UserContent"),lt=h.find(".ButtonArea"),v=lt.outerWidth()||0,b=h.find(".Expand"),g,nt,ft,tt,et;h.width("").addClass("ForMeasure").removeClass("MinWidth NormalWidth WideWidth"),a.width("").addClass("ForMeasure"),b.removeClass("ShowImage").hide(),ut.removeClass("ShowEllipsis"),y.addClass("ForMeasure").width("");var at=h.outerWidth()||0,k=y.outerWidth()||0,c=rt-w-v,d=k+w+v;d<s?(c=s-w-v,a.width(c),h.addClass("MinWidth")):(g=rt-d>l,nt=!g&&k>=c,g?(h.width(d),h.addClass("WideWidth")):(c-=l,nt=k>=c,h.addClass("NormalWidth")),nt&&(ft="margin"+(ht?"Right":"Left"),b.css(ft,v).addClass("ShowImage").show(),ut.addClass("ShowEllipsis"),c-=b.outerWidth(),y.width(c)),a.width(c)),v===0&&h.addClass("NoButton"),p.css("left",-(ot.scrollLeft()+st.scrollLeft())),o?(tt=n(e.topBarOffsetJquerySelector),tt.length>0&&(et=$UI.Dialog.getLocation(tt[0]),i.y=et.height)):(it.css("bottom","0"),i.y=""),y.removeClass("ForMeasure"),a.removeClass("ForMeasure"),h.removeClass("ForMeasure")},f={Top:{controlOptions:{animation:{entranceType:"slidein",entranceArguments:[{left:0,top:-50}],exitType:"slideout",exitArguments:[{left:0,top:-50}]},automationKey:"TopBar",controlCss:"NotificationBar TopBar",insideClickFocus:!0,queueGroup:"TopBar"},positioner:function(n,t,i,r,u){a(n,t,i,r,u,!0)}},Bottom:{controlOptions:{animation:{entranceType:"slidein",entranceArguments:[{left:0,top:50}],exitType:"slideout",exitArguments:[{left:0,top:50}]},automationKey:"BottomBar",controlCss:"NotificationBar BottomBar",insideClickFocus:!0,queueGroup:"BottomBar"},positioner:a}},r=i.BarDismissalMode={Explicit:"Explicit",Implicit:"Implicit",Timeout:"Timeout"},e={};e[r.Explicit]={controlOptions:{queueMode:"filo"}},e[r.Implicit]={controlOptions:{dismissOnOutsideClick:!0,delayOutsideClickDetectionByMsecs:1e3}},e[r.Timeout]={controlOptions:{dismissOnOutsideClick:!0,delayOutsideClickDetectionByMsecs:1e3}},u=function(i,s,h,l,a){function it(){n(v.popoverElement()).find(".Expand").click(nt)}function rt(){n(v.popoverElement()).find(".Expand").unbind("click",nt)}function nt(){var t=n(v.popoverElement()).find(".Content"),r=t.hasClass("Collapsed"),i=t.find(".Clipper"),u=t.find(".UserContent");return i.toggleClass("ShowEllipsis"),r?(i.css("height",u.css("height")),t.removeClass("Collapsed")):(i.css("height",""),t.addClass("Collapsed")),v.reposition(),!1}function ut(){var t=n(v.popoverElement()),i=t.find(".UserArea"),r=i.find(".Clipper"),f=i.find(".UserContent"),u=t.find(".Expand"),e=r.innerHeight(),o=f.innerHeight();o>e?(u.addClass("ShowImage"),r.addClass("ShowEllipsis")):u.attr("sutra","")}var b,ft,g,w,k,v;t.checkEmptyArgument(s,"Dismissal mode was not supplied.");var p=this,tt=n(p),d=e[s];if(t.checkEmptyArgument(d,"Dismissal mode was supplied but is invalid."),t.checkEmptyArgument(i,"Mode was not supplied."),b=f[i],t.checkEmptyArgument(b,"Mode was supplied but is invalid."),b===f.Top&&s===r.Implicit)throw new Error("Top bars cannot be dismissed implictly.");else if(s===r.Explicit&&t.isEmptyString(l.action)&&t.isEmptyString(l.close)&&t.isEmptyString(l.alternate))throw new Error("An explict dismissable bar should contain at least one button.");g=n.extend({trapTab:!1},d.controlOptions,b.controlOptions,u.defaultControlOptions),w=n.extend({},u.defaultUserOptions,a),t.isEmptyString(w.topBarOffsetJquerySelector)&&(w.topBarOffsetJquerySelector=y),k={name:"bar",instance:p,controlOptions:g,userOptions:w,positioner:b.positioner,render:{content:h,buttons:l,buttonOptions:{renderOrder:"action,alternate,close"},template:{id:c,options:{contentCssClassnames:w.autoHeight?"":"Collapsed",backgroundColor:w.backgroundColor,renderTitle:!1}}}},s===r.Timeout&&(k.timer={timeoutInMsecs:7e3,callback:function(){v.getDeferredManager().updateState({timedOut:!0}),tt.triggerHandler("timedout",[p]),v.changeAnimation(!1,"fadeout"),p.dismiss()},getElements:function(){var t=n(v.popoverElement());return n().add(t).add(t.children()).add(t.find(".UserContent").children()).add(t.find(".ButtonArea BUTTON")).add(t.find(".Expand"))}}),v=new o.NotificationBase(k),p.barType=function(){return i},p.dismissalMode=function(){return s},p.show=function(){return v.show({beforeShow:function(){var t=n(v.popoverElement());i==="Bottom"&&s!==r.Timeout&&t.find(".InnerContainer").addClass("WithMinWidth"),t.find(".Clipper").addClass("transitionOnHeightChange"),ut(),it()}})},p.dismiss=function(){v.dismiss({beforeDismiss:function(){rt()}})}},u.defaultUserOptions={autoHeight:!1,focusFirstButton:!1,topBarOffsetJquerySelector:null},u.defaultControlOptions={queueTrumpLowPriOnScreen:!0,tabIndex:0},h=function(n,t){if(!t)throw new Error("No parameters were supplied.");return new u(n,t.dismissalMode,t.content,t.buttons,t.options)},i.createTopBar=function(n){return h("Top",n)},i.createBottomBar=function(n){return h("Bottom",n)},t.registerChangeUserOptionsApi("Bar",u.defaultUserOptions,["autoHeight","topBarOffsetJquerySelector","moreCss","notificationContainer"]),i.getQueue().registerSearchApi("getNotificationBars",[f.Top.controlOptions.queueGroup,f.Bottom.controlOptions.queueGroup])}(window.originaljQuery||jQuery),function(n){"use strict";var l=window.wLive,e=l.Controls.Notifications,w=e.AutomationOptions,h=e.InternalTools,o=h.Toolkit,c="Notifications.Flyout";h.TemplateHelper.registerTemplate({id:c});var r=50,u=1,f=2,t=4,s=25,a="5px",v="2px",y=["left","right","left","right","top","top","bottom","bottom"],p=["top","top","bottom","bottom","left","right","left","right"],i=function(e,l,w,b,k){function ct(t,i,r,u,f){for(var c=ft(r),o=n(i),a=o.find(".OuterContainer"),s=g(o),h=n(r),e,v=3,l;v-->0;)if(rt(t,s,u),e=f.offset||g(h),at(t,s,e,c),!et(t,o,s,e,!!f.offset,h,a))break;l=lt(t,u,f,e,h),ot(t,l,c)}function lt(n,t,i,u,f){var c=i.offset?u.width:f.outerWidth(!0),l=i.offset?u.height:f.outerHeight(!0),a=parseInt(c/2+u.left),v=parseInt(l/2+u.top),y=parseInt(n.width/2+n.x),p=parseInt(n.height/2+n.y),s=0,h=0,e;return h=st(p,v,r),s=st(y,a,o.isLtr()?r:-r),e=t.animation.entranceArguments[0],e.left=s,e.top=h,e}function at(n,t,i,r){var f=n.width,o=n.height,s=o/2,u=i.top,e=i.left,h=i.height,c=i.width,l=h/2;n.x=e+c/2-f/2,n.y=u-o,n.y<0&&(n.y=u+h),n.x<0?(n.x=e+c,n.y=u+l-s):n.x+f>r.width&&(n.x=e-f,n.y=u+l-s)}function vt(t,i,r,f,e){var s=o.isLtr()?f.position:f.position^u,tt;var b=ft(r),h=n(i),c=h.find(".OuterContainer"),k,d;e.bubble!==null&&(c.addClass("Bubble{0}".format(s)),k=n("<div/>",{"class":"BubbleBeak"}).appendTo(h),d=n("<div/>",{"class":"InnerBeak"}).appendTo(h));for(var l=g(h),nt=n(r),w,it=3;it-->0;)if(rt(t,l,f),w=e.offset||g(nt),s=yt(t,l,b,w,s,c,h,f,e.bubble!==null),!et(t,h,l,w,!!e.offset,nt,c))break;e.bubble!==null&&(k.addClass("Beak{0}".format(s)),d.addClass("Beak{0}".format(s)).css("margin-{0}".format(y[s]),a).css("margin-{0}".format(p[s]),v)),tt=bt(s,f),ot(t,tt,b)}function yt(t,i,r,u,f,e,o,s,h){var c=f,l=2;do f!==c&&(h&&e.removeClass("Bubble{0}".format(f)).addClass("Bubble{0}".format(c)),n.extend(i,g(o)),rt(t,i,s)),f=c,pt(t,f,u),c=wt(t,f,r);while(c!=f&&l-->0);return f}function pt(n,i,r){var h=n.width,c=n.height,e=r.top,o=r.left,l=r.width,a=r.height,v=a/2,y=l/2,p=i&u,w=i&f;i&t?(n.x=p?o-h+y+s:o+y-s,n.y=w?e-c:e+a):(n.x=p?o-h:o+l,n.y=w?e-c+v+s:e+v-s)}function wt(n,i,r){var o=i&u,s=i&f,e=i&t;return n.y<0?i=s?i^f:e?i:i^t:n.y+n.height>r.height&&(i=s?e?i:i^t:i^f),n.x<0?i=o?i^u:e?i^t:i:n.x+n.width>r.width&&(i=o?e?i^t:i:i^u),i}function bt(n,i){var o=n&t?n&f?-1:1:0,s=n&t?0:n&u?-1:1,e=i.animation.entranceArguments[0];return e.left=r*s,e.top=r*o,e}function ft(n){var i=null,t=null,r=0,u=0;return n&&(i=n.document||n.ownerDocument)&&(t=i.documentElement,r=t.clientWidth,u=t.clientHeight),{width:r,height:u}}function g(n){var t=n.offset();return t.width=n.outerWidth(),t.height=n.outerHeight(),t}function rt(n,t,i){n.width=Math.max(Math.min(t.width,i.maxWidth),i.minWidth),n.height=Math.max(Math.min(t.height,i.maxHeight),i.minHeight)}function et(t,i,r,u,f,e,o){var l=!0,a=t.width,v=t.height,k=u.top,d=u.left,y=o.outerWidth(),p=o.outerHeight(),s={top:t.y,left:t.x},h,c,w,b;return a!=r.width&&(s.width=a),v!=r.height&&(s.height=v),i.css(s),h=o.outerWidth(),c=o.outerHeight(),f||n.extend(u,e.offset()),y!==h||p!==c?(w=c-p,b=h-y,r.width+=b,r.height+=w):k===u.top&&d===u.left&&(l=!1),l}function ot(n,t,i){var u=n.y+n.height-i.height;u>0&&(t.top!==0&&(u+=r,t.top-=u),n.y-=u),n.y=Math.max(0,n.y)}function kt(n,t,i){var r=0,u=n-t,f=Math.abs(u)>i;return f&&(r=u>0?1:-1),r}function st(n,t,i){var r=0,u=kt(n,t,5);return u>0?r=-i:u<0&&(r=i),r}var it;if(o.checkEmptyArgument(l,"No content was supplied"),w==null)throw new Error("No anchor was supplied.");var ut=this,nt=n.extend({},i.defaultUserOptions,k),d=n.extend({anchorElement:w},i.defaultControlOptions),tt=nt.positionMode,ht=nt.bubble!==null;ht&&(d.controlCss+=" Bubble",tt=nt.bubble),d.position=tt,it=new h.NotificationBase({name:"flyout",instance:ut,controlOptions:d,userOptions:nt,positioner:tt!==-1?vt:ct,render:{title:e,content:l,buttons:b,buttonOptions:{excludes:{dismiss:!0}},template:{id:c}}}),ut.show=function(){return it.show({beforeShow:function(){d.width&&n(it.popoverElement()).find(".UserContent").css({width:d.width})}})}};i.defaultUserOptions={bubble:null,positionMode:-1},i.defaultControlOptions={animation:{entranceType:"slidefadein",entranceArguments:[{left:0,top:0}],exitType:"fadeout"},ariaOptions:{role:"alertdialog"},automationKey:"Flyout",changeAnimationOnUserInteraction:!1,controlCss:"Flyout",dismissOnEnter:!0,dismissOnOutsideClick:!0,isModal:!0,maxHeight:758,maxWidth:510,minHeight:54,minWidth:70,position:-1,queueGroup:"Flyout",setFocus:!0,trapTab:!1,width:null},e.createFlyout=function(n){if(!n)throw new Error("No parameters were supplied.");return new i(n.title,n.content,n.anchor,n.buttons,n.options)},o.registerChangeUserOptionsApi("Flyout",i.defaultUserOptions,["moreCss","notificationContainer"]),e.getQueue().registerSearchApi("getFlyouts",[i.defaultControlOptions.queueGroup])}(window.originaljQuery||jQuery),function(n){"use strict";var e=window.wLive,i=e.Controls.Notifications,o=i.AutomationOptions,u=i.InternalTools,r=u.Toolkit,f="Notifications.ModalDialog",t;u.TemplateHelper.registerTemplate({id:f}),t=function(i,e,o,s,h){var l;r.checkEmptyArgument(e,"No content was supplied");var c=this,a=null,v=n.extend({},t.defaultUserOptions,h),y=t.defaultControlOptions;y.dismissOnEsc=v.dismissOnEsc,l=new u.NotificationBase({name:"dialog",instance:c,controlOptions:y,userOptions:v,positioner:function(t,i){var a=n("HTML"),v=n("BODY"),o=n(i),y=o.find(".InnerContainer"),p=n(window).innerHeight(),w=o.height(),b=(p-w)/2,s,h,c,l;t.y=b,s=o.find(".NotificationArea"),s.contents().length!==0?(h=o.find(".ButtonArea"),c=0,h.find("BUTTON").each(function(){var i=n(this);c+=r.getExtraDimensions(i).width+i.outerWidth(!0)}),l=r.getExtraDimensions(s),o.find(".NotificationArea").width(h.width()-l.width-c),s.show()):s.hide(),y.css("left",-(a.scrollLeft()+v.scrollLeft()))},render:{title:i,content:e,notificationArea:o,buttons:s,template:{id:f,options:{showNotificationArea:!0}}}}),c.show=function(){return l.show({beforeShow:function(){a=n(l.popoverElement()).find(".NotificationArea")}})},c.dismiss=function(){l.dismiss({beforeDismiss:function(){a=null}})},c.notificationArea=function(){return a}},t.defaultUserOptions={dismissOnEsc:!0,focusFirstButton:!0},t.defaultControlOptions={animation:{type:"fade"},ariaOptions:{role:"alertdialog"},automationKey:"ModalDialog",changeAnimationOnUserInteraction:!1,controlCss:"ModalDialog",isModal:!0,setFocus:!0,queueGroup:"ModalDialog"},i.createModalDialog=function(n){return new t(n.title,n.content,n.notificationArea,n.buttons,n.options)},r.registerChangeUserOptionsApi("ModalDialog",t.defaultUserOptions,["dismissOnEsc","moreCss","notificationContainer"]),i.getQueue().registerSearchApi("getModalDialogs",[t.defaultControlOptions.queueGroup])}(window.originaljQuery||jQuery),function(n){"use strict";var s=window.wLive,i=s.Controls.Notifications,h=i.AutomationOptions,u=i.InternalTools,r=u.Toolkit,f="Notifications.Toast";u.TemplateHelper.registerTemplate({id:f,html:'{{if contentImage}}<div class="ContentImage" {{:prepareForAutomation("ContentImage")}}><img src="{{attr:contentImage}}"><\/div>{{/if}}{{for #data tmpl="Notifications.UserAreaSubTemplate"/}}{{if sourceIcon}}<div class="SourceIcon" {{:prepareForAutomation("SourceIcon")}}><img src="{{attr:sourceIcon}}"><\/div>{{/if}}<div class="CloseIcon" {{:prepareForAutomation("CloseIcon")}}><div class="HoverArea"><span class="CloseText">&times;<\/span><\/div><\/div>{{if soundSourceFiles}}<audio autoplay loop>{{for soundSourceFiles}}<source src="{{attr:uri}}" type="{{attr:type}}"/>{{/for}}<\/audio>{{/if}}'});var e=i.ToastPriority={Normal:"Normal",High:"High"},o=i.ToastTimeout={Normal:"Normal",Long:"Long"},t=function(i,s,h,c,l){function rt(){var t=n(a.popoverElement());g&&t.click(tt),t.find(".CloseIcon").click(it)}function ut(){var t=n(a.popoverElement());g&&t.unbind("click",tt),t.find(".CloseIcon").unbind("click",it)}function tt(){a.getDeferredManager().updateState({clicked:!0}),nt.triggerHandler("click",[v]),a.changeAnimation(!1,"none"),v.dismiss()}function it(){a.changeAnimation(!1,"none"),v.dismiss()}var b,k,a;r.checkEmptyArgument(s,"No content was supplied"),r.checkEmptyArgument(c,"No source icon was supplied");var d=n.extend({timeoutInMsecs:l.timeout===o.Long?6e4:7e3,queueIsPriorityHigh:l.priority===e.High},t.defaultControlOptions),w=n.extend({},t.defaultUserOptions,l),g=w.dismissOnInsideClick,v=this,nt=n(v),p=null,y=w.soundSourceFiles;n.isArray(y)?p=y:(p=[],y.aac&&p.push({uri:y.aac,type:"audio/mp4"}),y.ogg&&p.push({uri:y.ogg,type:"audio/ogg"})),b={id:f,options:{backgroundColor:w.backgroundColor,soundSourceFiles:p,contentImage:h,sourceIcon:c,renderTitle:!!i,titleCssClassnames:"TextSemiBold LineHeightStandard"}},k=function(n,t){n&&(b.options.contentCssClassnames=(b.options.contentCssClassnames||"")+" "+t)},k(!r.isEmptyString(h),"WithContentImage"),k(!r.isEmptyString(i),"WithTitle"),a=new u.NotificationBase({name:"toast",instance:v,controlOptions:d,userOptions:w,positioner:function(n){n.x=null,n.y=null},render:{title:i,content:s,template:b},timer:{timeoutInMsecs:d.timeoutInMsecs,callback:function(){a.getDeferredManager().updateState({timedOut:!0}),nt.triggerHandler("timedout",[v]),v.dismiss()},getElements:function(){var t=n(a.popoverElement);return n().add(t.find(".OuterContainer").find("*"))}}}),v.show=function(){return a.show({beforeShow:function(){rt()}})},v.dismiss=function(){a.dismiss({beforeDismiss:function(){ut()}})}};t.defaultUserOptions={timeout:o.Normal,priority:e.Normal,dismissOnInsideClick:!0,soundSourceFiles:{}},t.defaultControlOptions={animation:{entranceType:"slidein",exitType:"fadeout"},automationKey:"Toast",controlCss:"Toast",queueGroup:"Toast",queueMode:"fifo"},$B.SF_Mac||(t.defaultControlOptions.animation.entranceArguments=[{top:0,left:400}]),i.createToast=function(n){var i=window.top,u=null,r=null;try{i!==window&&i.wLive&&i.wLive.Controls&&i.wLive.Controls.Notifications&&(u=i.wLive.Controls.Notifications,u.getQueue().start(),r=u.createToast(n))}catch(f){}return r||(r=new t(n.title,n.content,n.contentImage,n.sourceIcon,n.options)),r},r.registerChangeUserOptionsApi("Toast",t.defaultUserOptions,["backgroundColor","moreCss","notificationContainer"]),i.getQueue().registerSearchApi("getToasts",[t.defaultControlOptions.queueGroup])}(window.originaljQuery||jQuery),function(n){var t=wLive.Controls.Notifications;t.enableAriaSupport=function(){if(n("#notificationContainer").length===0){var t={position:"absolute",padding:"0",margin:"0",height:"100%",width:"100%",top:"0"};t[wLive.Controls.Notifications.InternalTools.Toolkit.isLtr()?"left":"right"]="0",n('<div id="notificationContainer" class="NotificationContainer" persist="1" aria-live="assertive" aria-atomic="false" aria-haspopup="true"><\/div>').css(t).prependTo("BODY")}}}(window.originaljQuery||jQuery),function(){$Do.register("NotificationControls")}(),window.define)for(files=["jquery.simplecallbacks.js","jquery.observable.js","jsrender.js","jquery.views.js","Queuing.js","Automation.js","NotificationBase.js","NotificationBar.js","Flyout.js","ModalDialog.js","Toast.js","AriaSupport.js","DoRegister.js"],x=0;x<files.length;x++)define(files[x],[],function(){});window.JSDownload_notifications=1